var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,i=0,n=arguments.length;i<n;i++)e+=arguments[i].length;for(var o=Array(e),t=0,i=0;i<n;i++)for(var s=arguments[i],a=0,l=s.length;a<l;a++,t++)o[t]=s[a];return o};System.register(["./p-a2936c11.system.js","./p-632ac043.system.js","./p-2f000fd9.system.js","./p-d3e779e2.system.js","./p-e8fb2e42.system.js","./p-b9aef7e7.system.js","./p-3f376874.system.js","./p-1284c5fd.system.js","./p-b0e469e2.system.js","./p-6b5506eb.system.js","./p-34958d56.system.js","./p-2294249a.system.js","./p-2dcd7b89.system.js"],(function(e){"use strict";var i,n,o,t,s,a,l,c,r,h,u;return{setters:[function(e){i=e.r;n=e.j;o=e.h;t=e.d;s=e.H;a=e.e},function(){},function(){},function(e){l=e.j;c=e.d},function(){},function(){},function(){},function(){},function(){},function(){},function(e){r=e.c},function(e){h=e.c},function(e){u=e.r}],execute:function(){var d=e("ion_img",function(){function e(e){var o=this;i(this,e);this.onLoad=function(){o.ionImgDidLoad.emit()};this.onError=function(){o.ionError.emit()};this.ionImgWillLoad=n(this,"ionImgWillLoad",7);this.ionImgDidLoad=n(this,"ionImgDidLoad",7);this.ionError=n(this,"ionError",7)}e.prototype.srcChanged=function(){this.addIO()};e.prototype.componentDidLoad=function(){this.addIO()};e.prototype.addIO=function(){var e=this;if(this.src===undefined){return}if("IntersectionObserver"in window){this.removeIO();this.io=new IntersectionObserver((function(i){if(i[0].isIntersecting){e.load();e.removeIO()}}));this.io.observe(this.el)}else{setTimeout((function(){return e.load()}),200)}};e.prototype.load=function(){this.loadError=this.onError;this.loadSrc=this.src;this.ionImgWillLoad.emit()};e.prototype.removeIO=function(){if(this.io){this.io.disconnect();this.io=undefined}};e.prototype.render=function(){return o(s,{class:t(this)},o("img",{decoding:"async",src:this.loadSrc,alt:this.alt,onLoad:this.onLoad,onError:this.loadError}))};Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{src:["srcChanged"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return":host{-o-object-fit:contain;object-fit:contain}:host,img{display:block}img{width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}"},enumerable:true,configurable:true});return e}());var g=e("ion_note",function(){function e(e){i(this,e)}e.prototype.render=function(){var e;var i=t(this);return o(s,{class:Object.assign(Object.assign({},h(this.color)),(e={},e[i]=true,e))},o("slot",null))};Object.defineProperty(e,"style",{get:function(){return":host{color:var(--color);font-family:var(--ion-font-family,inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350,#a6a6a6)}"},enumerable:true,configurable:true});return e}());var p=e("setting_canvas_option",function(){function e(e){i(this,e);this.toast=n(this,"toast",7)}e.prototype.handleCanvasChange=function(e,i){this.canvasOption[e]=i;this.canvasOption=Object.assign({},this.canvasOption);l(this.canvasOption)};e.prototype.getCanvasToImg=function(){this.toast.emit("暂且不支持")};e.prototype.render=function(){var e=this;if(this.canvasOption){return[o("ion-header",null,o("ion-toolbar",{color:"secondary"},o("ion-title",null,"页面设置"))),o("ion-content",null,o("ion-grid",null,o("ion-row",null,o("ion-col",null,"屏幕大小"),o("ion-col",null,o("ion-input",{type:"number",placeholder:"宽度",onIonChange:function(i){e.handleCanvasChange("w",i.detail.value)},value:this.canvasOption.w})),o("ion-col",null,o("ion-input",{type:"number",placeholder:"高度",onIonChange:function(i){e.handleCanvasChange("h",i.detail.value)},value:this.canvasOption.h}))),o("ion-row",null,o("ion-col",{size:"4"},"背景颜色"),o("ion-col",{size:"8"},o("ion-input",{value:this.canvasOption.bgc,onIonChange:function(i){e.handleCanvasChange("bgc",i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.canvasOption.bgc,onChange:function(i){e.handleCanvasChange("bgc",i.target["value"])}}))),o("ion-row",null,o("ion-col",{size:"4"},"背景图"),o("ion-col",{size:"8"},o("ion-input",{debounce:500,clearInput:true,value:this.canvasOption.bgi,onIonChange:function(i){e.handleCanvasChange("bgi",i.detail.value)}}))),o("ion-row",null,o("ion-col",{size:"4"},"环境地址"),o("ion-col",{size:"8"},o("ion-input",{debounce:500,clearInput:true,value:this.canvasOption.baseUrl,onIonChange:function(i){e.handleCanvasChange("baseUrl",i.detail.value)}}))),this.canvasOption.bgi?o("ion-row",null,o("ion-col",{size:"4"}),o("ion-col",{size:"8"},o("ion-img",{style:{height:"100px","object-fit":"cover"},src:this.canvasOption.bgi}))):null,o("ion-row",null,o("ion-col",{size:"4"},"重置"),o("ion-col",{size:"8"},o("ion-button",{size:"small",fill:"outline",onClick:function(){e.handleCanvasChange("bgi",r.bgi)}},"恢复默认背景"))),o("ion-row",null,o("ion-col",{size:"4"},"缩略图"),o("ion-col",{size:"8"},o("ion-button",{size:"small",fill:"outline",onClick:function(){e.getCanvasToImg()}},"获取封面"))),this.imgAdress?o("ion-row",null,o("ion-col",{size:"4"}),o("ion-col",{size:"8",id:"canvasBox"},o("img",{style:{height:"100px","object-fit":"cover"},src:this.imgAdress}))):null))]}};Object.defineProperty(e.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"setting-canvas-option ion-grid ion-col{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}setting-canvas-option ion-grid ion-col ion-button{--border-radius:0}setting-canvas-option ion-grid ion-col ion-input{--background:var(--ion-color-secondary)!important}"},enumerable:true,configurable:true});return e}());var f=e("setting_chart_series",function(){function e(e){i(this,e);this.chooseSeriesIndex="0";this.cyChange=n(this,"cyChange",7)}e.prototype.componentWillLoad=function(){this.handleSerieschange("0")};e.prototype.handleSeriesChange=function(e,i){this.cyChange.emit({argList:e,value:i})};e.prototype.handleSerieschange=function(e){this.chooseSeriesIndex=e;this.chooseSeries=Object.assign({},this.series[this.chooseSeriesIndex])};e.prototype.addSeries=function(){this.handleSeriesChange(["config","series"],__spreadArrays(this.series,[Object.assign(Object.assign({},this.series[0]),{name:""})]))};e.prototype.deleteSeries=function(){if(this.series[1]){var e=c([],this.series);e.splice(parseInt(this.chooseSeriesIndex),1);this.handleSeriesChange(["config","series"],e);this.chooseSeriesIndex="0";this.chooseSeries=e[0]?Object.assign({},e[0]):null}};e.prototype.render=function(){var e=this;return[o("ion-row",null,o("ion-col",null,o("ion-button",{expand:"full",onClick:function(){e.addSeries()}},"添加"),o("ion-button",{expand:"full",onClick:function(){e.deleteSeries()}},"删除"))),o("ion-segment",{scrollable:true,value:this.chooseSeriesIndex,onIonChange:function(i){e.handleSerieschange(i.detail.value)}},this.series.map((function(e,i){return o("ion-segment-button",{value:i+""},o("ion-label",null,"系列"+(i+1)))}))),o("ion-list",null,o("ion-row",null,o("ion-col",{size:"4"},"系列名"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.name||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"name"],i.detail.value)}}))),this.chooseSeries&&this.chooseSeries.type=="line"?[o("cy-item-extend",{header:"折线"},o("ion-row",null,o("ion-col",{size:"4"},"颜色"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.color||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"lineStyle","color"],i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.color||"",onChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"lineStyle","color"],i.target["value"])}}))),o("ion-row",null,o("ion-col",{size:"4"},"样式"),o("ion-col",{size:"8"},o("ion-select",{value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.type||"",interface:"popover",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"lineStyle","type"],i.detail.value)}},o("ion-select-option",{value:"solid"},"solid"),o("ion-select-option",{value:"dashed"},"dashed"),o("ion-select-option",{value:"dotted"},"dotted")))),o("ion-row",null,o("ion-col",{size:"4"},"粗细"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.lineStyle&&this.chooseSeries.lineStyle.width||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"lineStyle","width"],i.detail.value)}}))),o("ion-row",null,o("ion-col",{size:"4"},"近似曲线"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.smooth||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"smooth"],i.detail.checked)}})))),o("cy-item-extend",{header:"圆点"},o("ion-row",null,o("ion-col",{size:"4"},"显示"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.opacity==1||false,onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","opacity"],i.detail.checked?1:0)}}))),o("ion-row",null,o("ion-col",{size:"4"},"颜色"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","color"],i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","color"],i.target["value"])}}))),o("ion-row",null,o("ion-col",{size:"4"},"半径"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.borderWidth||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","borderWidth"],i.detail.value)}})))),o("cy-item-extend",{header:"区域"},o("ion-row",null,o("ion-col",{size:"4"},"显示"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.areaStyle&&this.chooseSeries.areaStyle.opacity==1||false,onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"areaStyle","opacity"],i.detail.checked?1:0)}}))),o("ion-row",null,o("ion-col",{size:"4"},"颜色"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.areaStyle&&this.chooseSeries.areaStyle.color||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"areaStyle","color"],i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.areaStyle&&this.chooseSeries.areaStyle.color||"",onChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"areaStyle","color"],i.target["value"])}})))),o("cy-item-extend",{header:"标签"},o("ion-row",null,o("ion-col",{size:"4"},"显示"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.show||false,onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"label","show"],i.detail.checked)}}))),o("ion-row",null,o("ion-col",{size:"4"},"字号"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,type:"number",min:"0",value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.fontSize||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"label","fontSize"],i.detail.value)}}))),o("ion-row",null,o("ion-col",{size:"4"},"颜色"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.color||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"label","color"],i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.label&&this.chooseSeries.label.color||"",onChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"label","color"],i.target["value"])}}))))]:null,this.chooseSeries&&this.chooseSeries.type=="bar"?o("ion-row",null,o("ion-col",{size:"4"},"颜色"),o("ion-col",{size:"8"},o("ion-input",{debounce:1500,value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","color"],i.detail.value)}}),o("input",{style:{height:"100%"},type:"color",value:this.chooseSeries&&this.chooseSeries.itemStyle&&this.chooseSeries.itemStyle.color||"",onChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"itemStyle","color"],i.target["value"])}}))):null,this.chooseSeries&&this.chooseSeries.type=="pie"?[o("ion-row",null,o("ion-col",{size:"4"},"南丁格尔图"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.chooseSeries&&this.chooseSeries.roseType,onIonChange:function(i){e.handleSeriesChange(["config","series",e.chooseSeriesIndex,"roseType"],i.detail.checked)}})))]:null)]};return e}());var S=e("setting_common_config",function(){function e(e){i(this,e);this.cyChange=n(this,"cyChange",7)}e.prototype.handleConfigChange=function(e,i,n){this.cyChange.emit({type:e,name:i,value:n})};e.prototype.render=function(){var e=this;return o("ion-grid",null,o("ion-row",null,o("ion-col",null,"图标尺寸"),o("ion-col",null,o("ion-input",{debounce:500,type:"number",placeholder:"宽度",onIonChange:function(i){e.handleConfigChange("view","w",i.detail.value)},value:this.comData.view.w})),o("ion-col",null,o("ion-input",{debounce:500,type:"number",placeholder:"高度",onIonChange:function(i){e.handleConfigChange("view","h",i.detail.value)},value:this.comData.view.h}))),o("ion-row",null,o("ion-col",null,"图表位置"),o("ion-col",null,o("ion-input",{debounce:500,type:"number",placeholder:"top",onIonChange:function(i){e.handleConfigChange("view","x",i.detail.value)},value:this.comData.view.x})),o("ion-col",null,o("ion-input",{debounce:500,type:"number",placeholder:"left",onIonChange:function(i){e.handleConfigChange("view","y",i.detail.value)},value:this.comData.view.y}))),o("ion-row",null,o("ion-col",{size:"4"},"旋转角度"),o("ion-col",{size:"4"},o("ion-input",{debounce:500,type:"number",onIonChange:function(i){e.handleConfigChange("view","deg",i.detail.value)},value:this.comData.view.deg+""}))),o("ion-row",null,o("ion-col",{size:"4"},"透明度"),o("ion-col",{size:"4"},o("ion-range",{debounce:500,value:parseFloat(this.comData.view.opacity),onIonChange:function(i){e.handleConfigChange("view","opacity",i.detail.value.toFixed(2))},min:0,max:1,step:.05})),o("ion-col",{size:"4"},o("ion-input",{debounce:500,type:"number",onIonChange:function(i){e.handleConfigChange("view","opacity",i.detail.value)},value:this.comData.view.opacity+"",min:"0",max:"1",step:"0.05"}))))};return e}());var y=e("setting_data_config",function(){function e(e){i(this,e);this.isStaticDataOJBk=true;this.cyChange=n(this,"cyChange",7);this.toast=n(this,"toast",7)}e.prototype.componentWillLoad=function(){this.dataType=this.comDataApiData.dataSourceType};e.prototype.handleConfigChange=function(e,i,n){this.cyChange.emit({type:e,name:i,value:n})};e.prototype.handlefieldMapChange=function(e,i,n){this.comDataApiData.fieldMap[e][i]=n;this.handleConfigChange("api_data","fieldMap",this.comDataApiData.fieldMap)};e.prototype.refreshComData=function(e){u(e)};e.prototype.checkStaticDataOJBK=function(e){try{JSON.parse(e);this.isStaticDataOJBk=true;return true}catch(i){this.isStaticDataOJBk=false;this.toast.emit("数据格式错误!");return false}};e.prototype.render=function(){var e=this;var i=[{title:"字段",dataIndex:"name"},{title:"映射",dataIndex:"mapping",render:function(i,n){return o("ion-input",{placeholder:"可自定义",debounce:1500,style:{width:"108px",height:"30px","--background":"var(--ion-background-shade)"},onIonChange:function(i){e.handlefieldMapChange(n,"mapping",i.detail.value)},value:i.mapping||""})}}];return o("ion-gird",null,o("ion-row",{style:{"margin-bottom":"20px"}},o("ion-col",{size:"4"},"数据来源"),o("ion-col",{size:"8"},o("ion-select",{value:this.comDataApiData.dataSourceType||"static",interface:"popover",onIonChange:function(i){e.dataType=i.detail.value;e.handleConfigChange("api_data","dataSourceType",i.detail.value+"")}},o("ion-select-option",{value:"static"},"静态"),o("ion-select-option",{value:"rest"},"动态")))),this.comDataApiData.fieldMap?o("ion-row",null,o("ion-col",{size:"12"},"数据映射"),o("ion-col",{size:"12"},o("cy-table",{Columns:i,dataSource:this.comDataApiData.fieldMap||[]}))):null,this.dataType=="static"?o("ion-gird",null,o("ion-row",null,o("ion-col",null,"静态数据")),o("ion-row",null,o("ion-col",null,o("ion-textarea",{debounce:600,rows:20,wrap:"soft",onIonChange:function(i){e.checkStaticDataOJBK(i.detail.value)&&e.handleConfigChange("api_data","staticData",JSON.parse(i.detail.value+""))},value:JSON.stringify(this.comDataApiData.staticData,null,1)}),!!!this.isStaticDataOJBk?o("ion-note",{slot:"end",color:"danger"},"数据错误"):null))):null,this.dataType=="rest"?o("ion-gird",null,o("cy-item-extend",{style:{"margin-top":"15px"},header:"接口设置"},o("ion-row",null,o("ion-col",{size:"4"},"拼接环境地址"),o("ion-col",{size:"8"},o("ion-toggle",{checked:this.comDataApiData.isSplicing||false,onIonChange:function(i){e.handleConfigChange("api_data","isSplicing",i.detail.checked)}}))),o("ion-row",null,o("ion-col",{size:"4"},"请求类型"),o("ion-col",{size:"8"},o("ion-select",{value:this.comDataApiData.restType,interface:"popover",onIonChange:function(i){e.handleConfigChange("api_data","restType",i.detail.value+"")}},o("ion-select-option",{value:"get"},"get"),o("ion-select-option",{value:"post"},"post")))),o("ion-row",null,o("ion-col",{size:"4"},"接口地址"),o("ion-col",{size:"8"},o("ion-input",{debounce:1e3,onIonChange:function(i){e.handleConfigChange("api_data","restUrl",i.detail.value+"")},value:this.comDataApiData.restUrl||""})))),o("ion-row",null,o("ion-col",{size:"4"},"刷新间隔(s)"),o("ion-col",{size:"8"},o("ion-input",{debounce:1e3,placeholder:"0为只刷新一次",min:"0",type:"number",onIonChange:function(i){e.handleConfigChange("api_data","restRefreshTime",i.detail.value||"0")},value:this.comDataApiData.restRefreshTime+""||"0"}))),o("ion-row",null,o("ion-col",null,o("ion-button",{onClick:function(){e.refreshComData(e.comId)},fill:"outline",expand:"block"},"刷新数据")))):null)};Object.defineProperty(e,"style",{get:function(){return"setting-data-config ion-col ion-input,setting-data-config ion-col ion-textarea,setting-data-config ion-item ion-input,setting-data-config ion-item ion-textarea{--background:var(--ion-background-shade)!important}setting-data-config ion-row ion-col{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}setting-data-config ion-row ion-range{-webkit-padding-start:0;padding-inline-start:0;padding-top:0;padding-bottom:0;-webkit-padding-end:0;padding-inline-end:0}setting-data-config ion-row ion-button{--border-radius:0}setting-data-config ion-row ion-input{--background:var(--ion-background-shade)!important}setting-data-config ion-row input[type=number]::-webkit-outer-spin-button,setting-data-config ion-row ion-input input[type=number]::-webkit-inner-spin-button{width:25px;height:30px}setting-data-config ion-row cy-table{--font-size:13px;text-align:left;--color:var(--ion-text-color,#fff)}setting-data-config ion-row ion-select{width:100%;background:var(--ion-background-shade)!important}setting-data-config cy-item-extend{--header-bg:var(--ion-background-color);--color:var(--ion-text-color);--content-bg:var(--ion-background-shade)}setting-data-config cy-item-extend input,setting-data-config cy-item-extend ion-input{height:25px;--background:var(--ion-background-tint)!important}setting-data-config cy-item-extend ion-select{width:100%;--padding-top:6px;--padding-bottom:0;background:var(--ion-background-tint)!important}"},enumerable:true,configurable:true});return e}())}}}));