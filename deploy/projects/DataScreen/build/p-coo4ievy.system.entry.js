var __awaiter=this&&this.__awaiter||function(t,e,r,i){function a(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,n){function o(t){try{l(i.next(t))}catch(e){n(e)}}function s(t){try{l(i["throw"](t))}catch(e){n(e)}}function l(t){t.done?r(t.value):a(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,a&&(n=o[0]&2?a["return"]:o[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;if(a=0,n)o=[o[0]&2,n.value];switch(o[0]){case 0:case 1:n=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;a=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(n=r.trys,n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(o[0]===6&&r.label<n[1]){r.label=n[1];n=o;break}if(n&&r.label<n[2]){r.label=n[2];r.ops.push(o);break}if(n[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(s){o=[6,s];a=0}finally{i=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var n=arguments[e],o=0,s=n.length;o<s;o++,a++)i[a]=n[o];return i};System.register(["./p-a2936c11.system.js"],(function(t,e){"use strict";var r,i,a,n,o,s;return{setters:[function(t){r=t.r;i=t.h;a=t.e;n=t.d;o=t.H;s=t.j}],execute:function(){
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation.

            Permission to use, copy, modify, and/or distribute this software for any
            purpose with or without fee is hereby granted.

            THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
            PERFORMANCE OF THIS SOFTWARE.
            ***************************************************************************** */
var l=function(t,e){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return l(t,e)};function u(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var f=function(){function t(){this.firefox=false;this.ie=false;this.edge=false;this.newEdge=false;this.weChat=false}return t}();var h=function(){function t(){this.browser=new f;this.node=false;this.wxa=false;this.worker=false;this.svgSupported=false;this.touchEventsSupported=false;this.pointerEventsSupported=false;this.domSupported=false;this.transformSupported=false;this.transform3dSupported=false;this.hasGlobalWindow=typeof window!=="undefined"}return t}();var c=new h;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){c.wxa=true;c.touchEventsSupported=true}else if(typeof document==="undefined"&&typeof self!=="undefined"){c.worker=true}else if(typeof navigator==="undefined"){c.node=true;c.svgSupported=true}else{v(navigator.userAgent,c)}function v(t,e){var r=e.browser;var i=t.match(/Firefox\/([\d.]+)/);var a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/);var n=t.match(/Edge?\/([\d.]+)/);var o=/micromessenger/i.test(t);if(i){r.firefox=true;r.version=i[1]}if(a){r.ie=true;r.version=a[1]}if(n){r.edge=true;r.version=n[1];r.newEdge=+n[1].split(".")[0]>18}if(o){r.weChat=true}e.svgSupported=typeof SVGRect!=="undefined";e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge;e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);e.domSupported=typeof document!=="undefined";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s);e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var d=12;var p="sans-serif";var g=d+"px "+p;var y=20;var m=100;var _="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function x(t){var e={};if(typeof JSON==="undefined"){return e}for(var r=0;r<t.length;r++){var i=String.fromCharCode(r+32);var a=(t.charCodeAt(r)-y)/m;e[i]=a}return e}var w=x(_);var b={createCanvas:function(){return typeof document!=="undefined"&&document.createElement("canvas")},measureText:function(){var t;var e;return function(r,i){if(!t){var a=b.createCanvas();t=a&&a.getContext("2d")}if(t){if(e!==i){e=t.font=i||g}return t.measureText(r)}else{r=r||"";i=i||g;var n=/(\d+)px/.exec(i);var o=n&&+n[1]||d;var s=0;if(i.indexOf("mono")>=0){s=o*r.length}else{for(var l=0;l<r.length;l++){var u=w[r[l]];s+=u==null?o:u*o}}return{width:s}}}}(),loadImage:function(t,e,r){var i=new Image;i.onload=e;i.onerror=r;i.src=t;return i}};var S=j(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(t,e){t["[object "+e+"]"]=true;return t}),{});var M=j(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(t,e){t["[object "+e+"Array]"]=true;return t}),{});var I=Object.prototype.toString;var T=Array.prototype;var D=T.forEach;var C=T.filter;var A=T.slice;var k=T.map;var L=function(){}.constructor;var P=L?L.prototype:null;var O="__proto__";var N=2311;function R(){return N++}function E(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(typeof console!=="undefined"){console.error.apply(console,t)}}function z(t){if(t==null||typeof t!=="object"){return t}var e=t;var r=I.call(t);if(r==="[object Array]"){if(!St(t)){e=[];for(var i=0,a=t.length;i<a;i++){e[i]=z(t[i])}}}else if(M[r]){if(!St(t)){var n=t.constructor;if(n.from){e=n.from(t)}else{e=new n(t.length);for(var i=0,a=t.length;i<a;i++){e[i]=t[i]}}}}else if(!S[r]&&!St(t)&&!ut(t)){e={};for(var o in t){if(t.hasOwnProperty(o)&&o!==O){e[o]=z(t[o])}}}return e}function V(t,e,r){if(!ot(e)||!ot(t)){return r?z(e):t}for(var i in e){if(e.hasOwnProperty(i)&&i!==O){var a=t[i];var n=e[i];if(ot(n)&&ot(a)&&!et(n)&&!et(a)&&!ut(n)&&!ut(a)&&!st(n)&&!st(a)&&!St(n)&&!St(a)){V(a,n,r)}else if(r||!(i in t)){t[i]=z(e[i])}}}return t}function B(t,e){var r=t[0];for(var i=1,a=t.length;i<a;i++){r=V(r,t[i],e)}return r}function F(t,e){if(Object.assign){Object.assign(t,e)}else{for(var r in e){if(e.hasOwnProperty(r)&&r!==O){t[r]=e[r]}}}return t}function G(t,e,r){var i=$(e);for(var a=0;a<i.length;a++){var n=i[a];if(r?e[n]!=null:t[n]==null){t[n]=e[n]}}return t}function W(t,e){if(t){if(t.indexOf){return t.indexOf(e)}for(var r=0,i=t.length;r<i;r++){if(t[r]===e){return r}}}return-1}function H(t,e){var r=t.prototype;function i(){}i.prototype=e.prototype;t.prototype=new i;for(var a in r){if(r.hasOwnProperty(a)){t.prototype[a]=r[a]}}t.prototype.constructor=t;t.superClass=e}function Y(t,e,r){t="prototype"in t?t.prototype:t;e="prototype"in e?e.prototype:e;if(Object.getOwnPropertyNames){var i=Object.getOwnPropertyNames(e);for(var a=0;a<i.length;a++){var n=i[a];if(n!=="constructor"){if(r?e[n]!=null:t[n]==null){t[n]=e[n]}}}}else{G(t,e,r)}}function U(t){if(!t){return false}if(typeof t==="string"){return false}return typeof t.length==="number"}function X(t,e,r){if(!(t&&e)){return}if(t.forEach&&t.forEach===D){t.forEach(e,r)}else if(t.length===+t.length){for(var i=0,a=t.length;i<a;i++){e.call(r,t[i],i,t)}}else{for(var n in t){if(t.hasOwnProperty(n)){e.call(r,t[n],n,t)}}}}function Z(t,e,r){if(!t){return[]}if(!e){return yt(t)}if(t.map&&t.map===k){return t.map(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){i.push(e.call(r,t[a],a,t))}return i}}function j(t,e,r,i){if(!(t&&e)){return}for(var a=0,n=t.length;a<n;a++){r=e.call(i,r,t[a],a,t)}return r}function q(t,e,r){if(!t){return[]}if(!e){return yt(t)}if(t.filter&&t.filter===C){return t.filter(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){if(e.call(r,t[a],a,t)){i.push(t[a])}}return i}}function K(t,e,r){if(!(t&&e)){return}for(var i=0,a=t.length;i<a;i++){if(e.call(r,t[i],i,t)){return t[i]}}}function $(t){if(!t){return[]}if(Object.keys){return Object.keys(t)}var e=[];for(var r in t){if(t.hasOwnProperty(r)){e.push(r)}}return e}function J(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return function(){return t.apply(e,r.concat(A.call(arguments)))}}var Q=P&&rt(P.bind)?P.call.bind(P.bind):J;function tt(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return function(){return t.apply(this,e.concat(A.call(arguments)))}}function et(t){if(Array.isArray){return Array.isArray(t)}return I.call(t)==="[object Array]"}function rt(t){return typeof t==="function"}function it(t){return typeof t==="string"}function at(t){return I.call(t)==="[object String]"}function nt(t){return typeof t==="number"}function ot(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function st(t){return!!S[I.call(t)]}function lt(t){return!!M[I.call(t)]}function ut(t){return typeof t==="object"&&typeof t.nodeType==="number"&&typeof t.ownerDocument==="object"}function ft(t){return t.colorStops!=null}function ht(t){return t.image!=null}function ct(t){return I.call(t)==="[object RegExp]"}function vt(t){return t!==t}function dt(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}for(var r=0,i=t.length;r<i;r++){if(t[r]!=null){return t[r]}}}function pt(t,e){return t!=null?t:e}function gt(t,e,r){return t!=null?t:e!=null?e:r}function yt(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return A.apply(t,e)}function mt(t){if(typeof t==="number"){return[t,t,t,t]}var e=t.length;if(e===2){return[t[0],t[1],t[0],t[1]]}else if(e===3){return[t[0],t[1],t[2],t[1]]}return t}function _t(t,e){if(!t){throw new Error(e)}}function xt(t){if(t==null){return null}else if(typeof t.trim==="function"){return t.trim()}else{return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}var wt="__ec_primitive__";function bt(t){t[wt]=true}function St(t){return t[wt]}var Mt=function(){function t(){this.data={}}t.prototype["delete"]=function(t){var e=this.has(t);if(e){delete this.data[t]}return e};t.prototype.has=function(t){return this.data.hasOwnProperty(t)};t.prototype.get=function(t){return this.data[t]};t.prototype.set=function(t,e){this.data[t]=e;return this};t.prototype.keys=function(){return $(this.data)};t.prototype.forEach=function(t){var e=this.data;for(var r in e){if(e.hasOwnProperty(r)){t(e[r],r)}}};return t}();var It=typeof Map==="function";function Tt(){return It?new Map:new Mt}var Dt=function(){function t(e){var r=et(e);this.data=Tt();var i=this;e instanceof t?e.each(a):e&&X(e,a);function a(t,e){r?i.set(t,e):i.set(e,t)}}t.prototype.hasKey=function(t){return this.data.has(t)};t.prototype.get=function(t){return this.data.get(t)};t.prototype.set=function(t,e){this.data.set(t,e);return e};t.prototype.each=function(t,e){this.data.forEach((function(r,i){t.call(e,r,i)}))};t.prototype.keys=function(){var t=this.data.keys();return It?Array.from(t):t};t.prototype.removeKey=function(t){this.data["delete"](t)};return t}();function Ct(t){return new Dt(t)}function At(t,e){var r=new t.constructor(t.length+e.length);for(var i=0;i<t.length;i++){r[i]=t[i]}var a=t.length;for(var i=0;i<e.length;i++){r[i+a]=e[i]}return r}function kt(t,e){var r;if(Object.create){r=Object.create(t)}else{var i=function(){};i.prototype=t;r=new i}if(e){F(r,e)}return r}function Lt(t){var e=t.style;e.webkitUserSelect="none";e.userSelect="none";e.webkitTapHighlightColor="rgba(0,0,0,0)";e["-webkit-touch-callout"]="none"}function Pt(t,e){return t.hasOwnProperty(e)}function Ot(){}var Nt=180/Math.PI;
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation.

            Permission to use, copy, modify, and/or distribute this software for any
            purpose with or without fee is hereby granted.

            THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
            PERFORMANCE OF THIS SOFTWARE.
            ***************************************************************************** */var Rt=function(t,e){Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return Rt(t,e)};function Et(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zt(t,e){if(t==null){t=0}if(e==null){e=0}return[t,e]}function Vt(t,e){t[0]=e[0];t[1]=e[1];return t}function Bt(t){return[t[0],t[1]]}function Ft(t,e,r){t[0]=e;t[1]=r;return t}function Gt(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];return t}function Wt(t,e,r,i){t[0]=e[0]+r[0]*i;t[1]=e[1]+r[1]*i;return t}function Ht(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];return t}function Yt(t){return Math.sqrt(Ut(t))}function Ut(t){return t[0]*t[0]+t[1]*t[1]}function Xt(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;return t}function Zt(t,e){var r=Yt(e);if(r===0){t[0]=0;t[1]=0}else{t[0]=e[0]/r;t[1]=e[1]/r}return t}function jt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var qt=jt;function Kt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var $t=Kt;function Jt(t,e,r,i){t[0]=e[0]+i*(r[0]-e[0]);t[1]=e[1]+i*(r[1]-e[1]);return t}function Qt(t,e,r){var i=e[0];var a=e[1];t[0]=r[0]*i+r[2]*a+r[4];t[1]=r[1]*i+r[3]*a+r[5];return t}function te(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);return t}function ee(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);return t}var re=function(){function t(t,e){this.target=t;this.topTarget=e&&e.topTarget}return t}();var ie=function(){function t(t){this.handler=t;t.on("mousedown",this._dragStart,this);t.on("mousemove",this._drag,this);t.on("mouseup",this._dragEnd,this)}t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable){e=e.parent||e.__hostTarget}if(e){this._draggingTarget=e;e.dragging=true;this._x=t.offsetX;this._y=t.offsetY;this.handler.dispatchToElement(new re(e,t),"dragstart",t.event)}};t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX;var i=t.offsetY;var a=r-this._x;var n=i-this._y;this._x=r;this._y=i;e.drift(a,n,t);this.handler.dispatchToElement(new re(e,t),"drag",t.event);var o=this.handler.findHover(r,i,e).target;var s=this._dropTarget;this._dropTarget=o;if(e!==o){if(s&&o!==s){this.handler.dispatchToElement(new re(s,t),"dragleave",t.event)}if(o&&o!==s){this.handler.dispatchToElement(new re(o,t),"dragenter",t.event)}}}};t.prototype._dragEnd=function(t){var e=this._draggingTarget;if(e){e.dragging=false}this.handler.dispatchToElement(new re(e,t),"dragend",t.event);if(this._dropTarget){this.handler.dispatchToElement(new re(this._dropTarget,t),"drop",t.event)}this._draggingTarget=null;this._dropTarget=null};return t}();var ae=function(){function t(t){if(t){this._$eventProcessor=t}}t.prototype.on=function(t,e,r,i){if(!this._$handlers){this._$handlers={}}var a=this._$handlers;if(typeof e==="function"){i=r;r=e;e=null}if(!r||!t){return this}var n=this._$eventProcessor;if(e!=null&&n&&n.normalizeQuery){e=n.normalizeQuery(e)}if(!a[t]){a[t]=[]}for(var o=0;o<a[t].length;o++){if(a[t][o].h===r){return this}}var s={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast};var l=a[t].length-1;var u=a[t][l];u&&u.callAtLast?a[t].splice(l,0,s):a[t].push(s);return this};t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length};t.prototype.off=function(t,e){var r=this._$handlers;if(!r){return this}if(!t){this._$handlers={};return this}if(e){if(r[t]){var i=[];for(var a=0,n=r[t].length;a<n;a++){if(r[t][a].h!==e){i.push(r[t][a])}}r[t]=i}if(r[t]&&r[t].length===0){delete r[t]}}else{delete r[t]}return this};t.prototype.trigger=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=i.length;for(var s=0;s<o;s++){var l=i[s];if(a&&a.filter&&l.query!=null&&!a.filter(t,l.query)){continue}switch(n){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};t.prototype.triggerWithContext=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=e[n-1];var s=i.length;for(var l=0;l<s;l++){var u=i[l];if(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)){continue}switch(n){case 0:u.h.call(o);break;case 1:u.h.call(o,e[0]);break;case 2:u.h.call(o,e[0],e[1]);break;default:u.h.apply(o,e.slice(1,n-1));break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};return t}();var ne=Math.log(2);function oe(t,e,r,i,a,n){var o=i+"-"+a;var s=t.length;if(n.hasOwnProperty(o)){return n[o]}if(e===1){var l=Math.round(Math.log((1<<s)-1&~a)/ne);return t[r][l]}var u=i|1<<r;var f=r+1;while(i&1<<f){f++}var h=0;for(var c=0,v=0;c<s;c++){var d=1<<c;if(!(d&a)){h+=(v%2?-1:1)*t[r][c]*oe(t,e-1,f,u,a|d,n);v++}}n[o]=h;return h}function se(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]];var i={};var a=oe(r,8,0,0,0,i);if(a===0){return}var n=[];for(var o=0;o<8;o++){for(var s=0;s<8;s++){n[s]==null&&(n[s]=0);n[s]+=((o+s)%2?-1:1)*oe(r,7,o===0?1:0,1<<o,1<<s,i)/a*e[o]}}return function(t,e,r){var i=e*n[6]+r*n[7]+1;t[0]=(e*n[0]+r*n[1]+n[2])/i;t[1]=(e*n[3]+r*n[4]+n[5])/i}}var le="___zrEVENTSAVED";var ue=[];function fe(t,e,r,i,a){return he(ue,e,i,a,true)&&he(t,r,ue[0],ue[1])}function he(t,e,r,i,a){if(e.getBoundingClientRect&&c.domSupported&&!de(e)){var n=e[le]||(e[le]={});var o=ce(e,n);var s=ve(o,n,a);if(s){s(t,r,i);return true}}return false}function ce(t,e){var r=e.markers;if(r){return r}r=e.markers=[];var i=["left","right"];var a=["top","bottom"];for(var n=0;n<4;n++){var o=document.createElement("div");var s=o.style;var l=n%2;var u=(n>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",a[u]+":0",i[1-l]+":auto",a[1-u]+":auto",""].join("!important;");t.appendChild(o);r.push(o)}return r}function ve(t,e,r){var i=r?"invTrans":"trans";var a=e[i];var n=e.srcCoords;var o=[];var s=[];var l=true;for(var u=0;u<4;u++){var f=t[u].getBoundingClientRect();var h=2*u;var c=f.left;var v=f.top;o.push(c,v);l=l&&n&&c===n[h]&&v===n[h+1];s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&a?a:(e.srcCoords=o,e[i]=r?se(s,o):se(o,s))}function de(t){return t.nodeName.toUpperCase()==="CANVAS"}var pe=/([&<>"'])/g;var ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ye(t){return t==null?"":(t+"").replace(pe,(function(t,e){return ge[e]}))}var me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var _e=[];var xe=c.browser.firefox&&+c.browser.version.split(".")[0]<39;function we(t,e,r,i){r=r||{};if(i){be(t,e,r)}else if(xe&&e.layerX!=null&&e.layerX!==e.offsetX){r.zrX=e.layerX;r.zrY=e.layerY}else if(e.offsetX!=null){r.zrX=e.offsetX;r.zrY=e.offsetY}else{be(t,e,r)}return r}function be(t,e,r){if(c.domSupported&&t.getBoundingClientRect){var i=e.clientX;var a=e.clientY;if(de(t)){var n=t.getBoundingClientRect();r.zrX=i-n.left;r.zrY=a-n.top;return}else{if(he(_e,t,i,a)){r.zrX=_e[0];r.zrY=_e[1];return}}}r.zrX=r.zrY=0}function Se(t){return t||window.event}function Me(t,e,r){e=Se(e);if(e.zrX!=null){return e}var i=e.type;var a=i&&i.indexOf("touch")>=0;if(!a){we(t,e,e,r);var n=Ie(e);e.zrDelta=n?n/120:-(e.detail||0)/3}else{var o=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&we(t,o,e,r)}var s=e.button;if(e.which==null&&s!==undefined&&me.test(e.type)){e.which=s&1?1:s&2?3:s&4?2:0}return e}function Ie(t){var e=t.wheelDelta;if(e){return e}var r=t.deltaX;var i=t.deltaY;if(r==null||i==null){return e}var a=i!==0?Math.abs(i):Math.abs(r);var n=i>0?-1:i<0?1:r>0?-1:1;return 3*a*n}function Te(t,e,r,i){t.addEventListener(e,r,i)}function De(t,e,r,i){t.removeEventListener(e,r,i)}var Ce=function(t){t.preventDefault();t.stopPropagation();t.cancelBubble=true};function Ae(t){return t.which===2||t.which===3}var ke=function(){function t(){this._track=[]}t.prototype.recognize=function(t,e,r){this._doTrack(t,e,r);return this._recognize(t)};t.prototype.clear=function(){this._track.length=0;return this};t.prototype._doTrack=function(t,e,r){var i=t.touches;if(!i){return}var a={points:[],touches:[],target:e,event:t};for(var n=0,o=i.length;n<o;n++){var s=i[n];var l=we(r,s,{});a.points.push([l.zrX,l.zrY]);a.touches.push(s)}this._track.push(a)};t.prototype._recognize=function(t){for(var e in Oe){if(Oe.hasOwnProperty(e)){var r=Oe[e](this._track,t);if(r){return r}}}};return t}();function Le(t){var e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function Pe(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Oe={pinch:function(t,e){var r=t.length;if(!r){return}var i=(t[r-1]||{}).points;var a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var n=Le(i)/Le(a);!isFinite(n)&&(n=1);e.pinchScale=n;var o=Pe(i);e.pinchX=o[0];e.pinchY=o[1];return{type:"pinch",target:t[0].target,event:e}}}};function Ne(){return[1,0,0,1,0,0]}function Re(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t}function Ee(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function ze(t,e,r){var i=e[0]*r[0]+e[2]*r[1];var a=e[1]*r[0]+e[3]*r[1];var n=e[0]*r[2]+e[2]*r[3];var o=e[1]*r[2]+e[3]*r[3];var s=e[0]*r[4]+e[2]*r[5]+e[4];var l=e[1]*r[4]+e[3]*r[5]+e[5];t[0]=i;t[1]=a;t[2]=n;t[3]=o;t[4]=s;t[5]=l;return t}function Ve(t,e,r){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4]+r[0];t[5]=e[5]+r[1];return t}function Be(t,e,r){var i=e[0];var a=e[2];var n=e[4];var o=e[1];var s=e[3];var l=e[5];var u=Math.sin(r);var f=Math.cos(r);t[0]=i*f+o*u;t[1]=-i*u+o*f;t[2]=a*f+s*u;t[3]=-a*u+f*s;t[4]=f*n+u*l;t[5]=f*l-u*n;return t}function Fe(t,e,r){var i=r[0];var a=r[1];t[0]=e[0]*i;t[1]=e[1]*a;t[2]=e[2]*i;t[3]=e[3]*a;t[4]=e[4]*i;t[5]=e[5]*a;return t}function Ge(t,e){var r=e[0];var i=e[2];var a=e[4];var n=e[1];var o=e[3];var s=e[5];var l=r*o-n*i;if(!l){return null}l=1/l;t[0]=o*l;t[1]=-n*l;t[2]=-i*l;t[3]=r*l;t[4]=(i*s-o*a)*l;t[5]=(n*a-r*s)*l;return t}function We(t){var e=Ne();Ee(e,t);return e}var He=function(){function t(t,e){this.x=t||0;this.y=e||0}t.prototype.copy=function(t){this.x=t.x;this.y=t.y;return this};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.set=function(t,e){this.x=t;this.y=e;return this};t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y};t.prototype.add=function(t){this.x+=t.x;this.y+=t.y;return this};t.prototype.scale=function(t){this.x*=t;this.y*=t};t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e;this.y+=t.y*e};t.prototype.sub=function(t){this.x-=t.x;this.y-=t.y;return this};t.prototype.dot=function(t){return this.x*t.x+this.y*t.y};t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y};t.prototype.normalize=function(){var t=this.len();this.x/=t;this.y/=t;return this};t.prototype.distance=function(t){var e=this.x-t.x;var r=this.y-t.y;return Math.sqrt(e*e+r*r)};t.prototype.distanceSquare=function(t){var e=this.x-t.x;var r=this.y-t.y;return e*e+r*r};t.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};t.prototype.transform=function(t){if(!t){return}var e=this.x;var r=this.y;this.x=t[0]*e+t[2]*r+t[4];this.y=t[1]*e+t[3]*r+t[5];return this};t.prototype.toArray=function(t){t[0]=this.x;t[1]=this.y;return t};t.prototype.fromArray=function(t){this.x=t[0];this.y=t[1]};t.set=function(t,e,r){t.x=e;t.y=r};t.copy=function(t,e){t.x=e.x;t.y=e.y};t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.lenSquare=function(t){return t.x*t.x+t.y*t.y};t.dot=function(t,e){return t.x*e.x+t.y*e.y};t.add=function(t,e,r){t.x=e.x+r.x;t.y=e.y+r.y};t.sub=function(t,e,r){t.x=e.x-r.x;t.y=e.y-r.y};t.scale=function(t,e,r){t.x=e.x*r;t.y=e.y*r};t.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i;t.y=e.y+r.y*i};t.lerp=function(t,e,r,i){var a=1-i;t.x=a*e.x+i*r.x;t.y=a*e.y+i*r.y};return t}();var Ye=Math.min;var Ue=Math.max;var Xe=new He;var Ze=new He;var je=new He;var qe=new He;var Ke=new He;var $e=new He;var Je=function(){function t(t,e,r,i){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}this.x=t;this.y=e;this.width=r;this.height=i}t.prototype.union=function(t){var e=Ye(t.x,this.x);var r=Ye(t.y,this.y);if(isFinite(this.x)&&isFinite(this.width)){this.width=Ue(t.x+t.width,this.x+this.width)-e}else{this.width=t.width}if(isFinite(this.y)&&isFinite(this.height)){this.height=Ue(t.y+t.height,this.y+this.height)-r}else{this.height=t.height}this.x=e;this.y=r};t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)};t.prototype.calculateTransform=function(t){var e=this;var r=t.width/e.width;var i=t.height/e.height;var a=Ne();Ve(a,a,[-e.x,-e.y]);Fe(a,a,[r,i]);Ve(a,a,[t.x,t.y]);return a};t.prototype.intersect=function(e,r){if(!e){return false}if(!(e instanceof t)){e=t.create(e)}var i=this;var a=i.x;var n=i.x+i.width;var o=i.y;var s=i.y+i.height;var l=e.x;var u=e.x+e.width;var f=e.y;var h=e.y+e.height;var c=!(n<l||u<a||s<f||h<o);if(r){var v=Infinity;var d=0;var p=Math.abs(n-l);var g=Math.abs(u-a);var y=Math.abs(s-f);var m=Math.abs(h-o);var _=Math.min(p,g);var x=Math.min(y,m);if(n<l||u<a){if(_>d){d=_;if(p<g){He.set($e,-p,0)}else{He.set($e,g,0)}}}else{if(_<v){v=_;if(p<g){He.set(Ke,p,0)}else{He.set(Ke,-g,0)}}}if(s<f||h<o){if(x>d){d=x;if(y<m){He.set($e,0,-y)}else{He.set($e,0,m)}}}else{if(_<v){v=_;if(y<m){He.set(Ke,0,y)}else{He.set(Ke,0,-m)}}}}if(r){He.copy(r,c?Ke:$e)}return c};t.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height};t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copy=function(e){t.copy(this,e)};t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};t.prototype.isZero=function(){return this.width===0||this.height===0};t.create=function(e){return new t(e.x,e.y,e.width,e.height)};t.copy=function(t,e){t.x=e.x;t.y=e.y;t.width=e.width;t.height=e.height};t.applyTransform=function(e,r,i){if(!i){if(e!==r){t.copy(e,r)}return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var a=i[0];var n=i[3];var o=i[4];var s=i[5];e.x=r.x*a+o;e.y=r.y*n+s;e.width=r.width*a;e.height=r.height*n;if(e.width<0){e.x+=e.width;e.width=-e.width}if(e.height<0){e.y+=e.height;e.height=-e.height}return}Xe.x=je.x=r.x;Xe.y=qe.y=r.y;Ze.x=qe.x=r.x+r.width;Ze.y=je.y=r.y+r.height;Xe.transform(i);qe.transform(i);Ze.transform(i);je.transform(i);e.x=Ye(Xe.x,Ze.x,je.x,qe.x);e.y=Ye(Xe.y,Ze.y,je.y,qe.y);var l=Ue(Xe.x,Ze.x,je.x,qe.x);var u=Ue(Xe.y,Ze.y,je.y,qe.y);e.width=l-e.x;e.height=u-e.y};return t}();var Qe="silent";function tr(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:er}}function er(){Ce(this.event)}var rr=function(t){Et(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handler=null;return e}e.prototype.dispose=function(){};e.prototype.setCursor=function(){};return e}(ae);var ir=function(){function t(t,e){this.x=t;this.y=e}return t}();var ar=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var nr=new Je(0,0,0,0);var or=function(t){Et(e,t);function e(e,r,i,a,n){var o=t.call(this)||this;o._hovered=new ir(0,0);o.storage=e;o.painter=r;o.painterRoot=a;o._pointerSize=n;i=i||new rr;o.proxy=null;o.setHandlerProxy(i);o._draggingMgr=new ie(o);return o}e.prototype.setHandlerProxy=function(t){if(this.proxy){this.proxy.dispose()}if(t){X(ar,(function(e){t.on&&t.on(e,this[e],this)}),this);t.handler=this}this.proxy=t};e.prototype.mousemove=function(t){var e=t.zrX;var r=t.zrY;var i=ur(this,e,r);var a=this._hovered;var n=a.target;if(n&&!n.__zr){a=this.findHover(a.x,a.y);n=a.target}var o=this._hovered=i?new ir(e,r):this.findHover(e,r);var s=o.target;var l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default");if(n&&s!==n){this.dispatchToElement(a,"mouseout",t)}this.dispatchToElement(o,"mousemove",t);if(s&&s!==n){this.dispatchToElement(o,"mouseover",t)}};e.prototype.mouseout=function(t){var e=t.zrEventControl;if(e!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",t)}if(e!=="no_globalout"){this.trigger("globalout",{type:"globalout",event:t})}};e.prototype.resize=function(){this._hovered=new ir(0,0)};e.prototype.dispatch=function(t,e){var r=this[t];r&&r.call(this,e)};e.prototype.dispose=function(){this.proxy.dispose();this.storage=null;this.proxy=null;this.painter=null};e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)};e.prototype.dispatchToElement=function(t,e,r){t=t||{};var i=t.target;if(i&&i.silent){return}var a="on"+e;var n=tr(e,t,r);while(i){i[a]&&(n.cancelBubble=!!i[a].call(i,n));i.trigger(e,n);i=i.__hostTarget?i.__hostTarget:i.parent;if(n.cancelBubble){break}}if(!n.cancelBubble){this.trigger(e,n);if(this.painter&&this.painter.eachOtherLayer){this.painter.eachOtherLayer((function(t){if(typeof t[a]==="function"){t[a].call(t,n)}if(t.trigger){t.trigger(e,n)}}))}}};e.prototype.findHover=function(t,e,r){var i=this.storage.getDisplayList();var a=new ir(t,e);lr(i,a,t,e,r);if(this._pointerSize&&!a.target){var n=[];var o=this._pointerSize;var s=o/2;var l=new Je(t-s,e-s,o,o);for(var u=i.length-1;u>=0;u--){var f=i[u];if(f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)){nr.copy(f.getBoundingRect());if(f.transform){nr.applyTransform(f.transform)}if(nr.intersect(l)){n.push(f)}}}if(n.length){var h=4;var c=Math.PI/12;var v=Math.PI*2;for(var d=0;d<s;d+=h){for(var p=0;p<v;p+=c){var g=t+d*Math.cos(p);var y=e+d*Math.sin(p);lr(n,a,g,y,r);if(a.target){return a}}}}}return a};e.prototype.processGesture=function(t,e){if(!this._gestureMgr){this._gestureMgr=new ke}var r=this._gestureMgr;e==="start"&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);e==="end"&&r.clear();if(i){var a=i.type;t.gestureEvent=a;var n=new ir;n.target=i.target;this.dispatchToElement(n,a,i.event)}};return e}(ae);X(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){or.prototype[t]=function(e){var r=e.zrX;var i=e.zrY;var a=ur(this,r,i);var n;var o;if(t!=="mouseup"||!a){n=this.findHover(r,i);o=n.target}if(t==="mousedown"){this._downEl=o;this._downPoint=[e.zrX,e.zrY];this._upEl=o}else if(t==="mouseup"){this._upEl=o}else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||qt(this._downPoint,[e.zrX,e.zrY])>4){return}this._downPoint=null}this.dispatchToElement(n,t,e)}}));function sr(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){var i=t;var a=void 0;var n=false;while(i){if(i.ignoreClip){n=true}if(!n){var o=i.getClipPath();if(o&&!o.contain(e,r)){return false}if(i.silent){a=true}}var s=i.__hostTarget;i=s?s:i.parent}return a?Qe:true}return false}function lr(t,e,r,i,a){for(var n=t.length-1;n>=0;n--){var o=t[n];var s=void 0;if(o!==a&&!o.ignore&&(s=sr(o,r,i))){!e.topTarget&&(e.topTarget=o);if(s!==Qe){e.target=o;break}}}}function ur(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var fr=32;var hr=7;function cr(t){var e=0;while(t>=fr){e|=t&1;t>>=1}return t+e}function vr(t,e,r,i){var a=e+1;if(a===r){return 1}if(i(t[a++],t[e])<0){while(a<r&&i(t[a],t[a-1])<0){a++}dr(t,e,a)}else{while(a<r&&i(t[a],t[a-1])>=0){a++}}return a-e}function dr(t,e,r){r--;while(e<r){var i=t[e];t[e++]=t[r];t[r--]=i}}function pr(t,e,r,i,a){if(i===e){i++}for(;i<r;i++){var n=t[i];var o=e;var s=i;var l;while(o<s){l=o+s>>>1;if(a(n,t[l])<0){s=l}else{o=l+1}}var u=i-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:while(u>0){t[o+u]=t[o+u-1];u--}}t[o]=n}}function gr(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])>0){s=i-a;while(l<s&&n(t,e[r+a+l])>0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}else{s=a+1;while(l<s&&n(t,e[r+a-l])<=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])>0){o=f+1}else{l=f}}return l}function yr(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])<0){s=a+1;while(l<s&&n(t,e[r+a-l])<0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}else{s=i-a;while(l<s&&n(t,e[r+a+l])>=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])<0){l=f}else{o=f+1}}return l}function mr(t,e){var r=hr;var i;var a;var n=0;var o=[];i=[];a=[];function s(t,e){i[n]=t;a[n]=e;n+=1}function l(){while(n>1){var t=n-2;if(t>=1&&a[t-1]<=a[t]+a[t+1]||t>=2&&a[t-2]<=a[t]+a[t-1]){if(a[t-1]<a[t+1]){t--}}else if(a[t]>a[t+1]){break}f(t)}}function u(){while(n>1){var t=n-2;if(t>0&&a[t-1]<a[t+1]){t--}f(t)}}function f(r){var o=i[r];var s=a[r];var l=i[r+1];var u=a[r+1];a[r]=s+u;if(r===n-3){i[r+1]=i[r+2];a[r+1]=a[r+2]}n--;var f=yr(t[l],t,o,s,0,e);o+=f;s-=f;if(s===0){return}u=gr(t[o+s-1],t,l,u,u-1,e);if(u===0){return}if(s<=u){h(o,s,l,u)}else{c(o,s,l,u)}}function h(i,a,n,s){var l=0;for(l=0;l<a;l++){o[l]=t[i+l]}var u=0;var f=n;var h=i;t[h++]=t[f++];if(--s===0){for(l=0;l<a;l++){t[h+l]=o[u+l]}return}if(a===1){for(l=0;l<s;l++){t[h+l]=t[f+l]}t[h+s]=o[u];return}var c=r;var v;var d;var p;while(1){v=0;d=0;p=false;do{if(e(t[f],o[u])<0){t[h++]=t[f++];d++;v=0;if(--s===0){p=true;break}}else{t[h++]=o[u++];v++;d=0;if(--a===1){p=true;break}}}while((v|d)<c);if(p){break}do{v=yr(t[f],o,u,a,0,e);if(v!==0){for(l=0;l<v;l++){t[h+l]=o[u+l]}h+=v;u+=v;a-=v;if(a<=1){p=true;break}}t[h++]=t[f++];if(--s===0){p=true;break}d=gr(o[u],t,f,s,0,e);if(d!==0){for(l=0;l<d;l++){t[h+l]=t[f+l]}h+=d;f+=d;s-=d;if(s===0){p=true;break}}t[h++]=o[u++];if(--a===1){p=true;break}c--}while(v>=hr||d>=hr);if(p){break}if(c<0){c=0}c+=2}r=c;r<1&&(r=1);if(a===1){for(l=0;l<s;l++){t[h+l]=t[f+l]}t[h+s]=o[u]}else if(a===0){throw new Error}else{for(l=0;l<a;l++){t[h+l]=o[u+l]}}}function c(i,a,n,s){var l=0;for(l=0;l<s;l++){o[l]=t[n+l]}var u=i+a-1;var f=s-1;var h=n+s-1;var c=0;var v=0;t[h--]=t[u--];if(--a===0){c=h-(s-1);for(l=0;l<s;l++){t[c+l]=o[l]}return}if(s===1){h-=a;u-=a;v=h+1;c=u+1;for(l=a-1;l>=0;l--){t[v+l]=t[c+l]}t[h]=o[f];return}var d=r;while(true){var p=0;var g=0;var y=false;do{if(e(o[f],t[u])<0){t[h--]=t[u--];p++;g=0;if(--a===0){y=true;break}}else{t[h--]=o[f--];g++;p=0;if(--s===1){y=true;break}}}while((p|g)<d);if(y){break}do{p=a-yr(o[f],t,i,a,a-1,e);if(p!==0){h-=p;u-=p;a-=p;v=h+1;c=u+1;for(l=p-1;l>=0;l--){t[v+l]=t[c+l]}if(a===0){y=true;break}}t[h--]=o[f--];if(--s===1){y=true;break}g=s-gr(t[u],o,0,s,s-1,e);if(g!==0){h-=g;f-=g;s-=g;v=h+1;c=f+1;for(l=0;l<g;l++){t[v+l]=o[c+l]}if(s<=1){y=true;break}}t[h--]=t[u--];if(--a===0){y=true;break}d--}while(p>=hr||g>=hr);if(y){break}if(d<0){d=0}d+=2}r=d;if(r<1){r=1}if(s===1){h-=a;u-=a;v=h+1;c=u+1;for(l=a-1;l>=0;l--){t[v+l]=t[c+l]}t[h]=o[f]}else if(s===0){throw new Error}else{c=h-(s-1);for(l=0;l<s;l++){t[c+l]=o[l]}}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function _r(t,e,r,i){if(!r){r=0}if(!i){i=t.length}var a=i-r;if(a<2){return}var n=0;if(a<fr){n=vr(t,r,i,e);pr(t,r,i,r+n,e);return}var o=mr(t,e);var s=cr(a);do{n=vr(t,r,i,e);if(n<s){var l=a;if(l>s){l=s}pr(t,r,r+l,r+n,e);n=l}o.pushRun(r,n);o.mergeRuns();a-=n;r+=n}while(a!==0);o.forceMergeRuns()}var xr=1;var wr=2;var br=4;var Sr=false;function Mr(){if(Sr){return}Sr=true;console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function Ir(t,e){if(t.zlevel===e.zlevel){if(t.z===e.z){return t.z2-e.z2}return t.z-e.z}return t.zlevel-e.zlevel}var Tr=function(){function t(){this._roots=[];this._displayList=[];this._displayListLen=0;this.displayableSortFunc=Ir}t.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++){this._roots[r].traverse(t,e)}};t.prototype.getDisplayList=function(t,e){e=e||false;var r=this._displayList;if(t||!r.length){this.updateDisplayList(e)}return r};t.prototype.updateDisplayList=function(t){this._displayListLen=0;var e=this._roots;var r=this._displayList;for(var i=0,a=e.length;i<a;i++){this._updateAndAddDisplayable(e[i],null,t)}r.length=this._displayListLen;_r(r,Ir)};t.prototype._updateAndAddDisplayable=function(t,e,r){if(t.ignore&&!r){return}t.beforeUpdate();t.update();t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip){e=null}else if(i){if(e){e=e.slice()}else{e=[]}var a=i;var n=t;while(a){a.parent=n;a.updateTransform();e.push(a);n=a;a=a.getClipPath()}}if(t.childrenRef){var o=t.childrenRef();for(var s=0;s<o.length;s++){var l=o[s];if(t.__dirty){l.__dirty|=xr}this._updateAndAddDisplayable(l,e,r)}t.__dirty=0}else{var u=t;if(e&&e.length){u.__clipPaths=e}else if(u.__clipPaths&&u.__clipPaths.length>0){u.__clipPaths=[]}if(isNaN(u.z)){Mr();u.z=0}if(isNaN(u.z2)){Mr();u.z2=0}if(isNaN(u.zlevel)){Mr();u.zlevel=0}this._displayList[this._displayListLen++]=u}var f=t.getDecalElement&&t.getDecalElement();if(f){this._updateAndAddDisplayable(f,e,r)}var h=t.getTextGuideLine();if(h){this._updateAndAddDisplayable(h,e,r)}var c=t.getTextContent();if(c){this._updateAndAddDisplayable(c,e,r)}};t.prototype.addRoot=function(t){if(t.__zr&&t.__zr.storage===this){return}this._roots.push(t)};t.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,r=t.length;e<r;e++){this.delRoot(t[e])}return}var i=W(this._roots,t);if(i>=0){this._roots.splice(i,1)}};t.prototype.delAllRoots=function(){this._roots=[];this._displayList=[];this._displayListLen=0;return};t.prototype.getRoots=function(){return this._roots};t.prototype.dispose=function(){this._displayList=null;this._roots=null};return t}();var Dr;Dr=c.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Cr=Dr;var Ar={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},elasticOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},elasticInOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}if((t*=2)<1){return-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))}return r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Ar.bounceOut(1-t)},bounceOut:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},bounceInOut:function(t){if(t<.5){return Ar.bounceIn(t*2)*.5}return Ar.bounceOut(t*2-1)*.5+.5}};var kr=Math.pow;var Lr=Math.sqrt;var Pr=1e-8;var Or=1e-4;var Nr=Lr(3);var Rr=1/3;var Er=zt();var zr=zt();var Vr=zt();function Br(t){return t>-Pr&&t<Pr}function Fr(t){return t>Pr||t<-Pr}function Gr(t,e,r,i,a){var n=1-a;return n*n*(n*t+3*a*e)+a*a*(a*i+3*n*r)}function Wr(t,e,r,i,a){var n=1-a;return 3*(((e-t)*n+2*(r-e)*a)*n+(i-r)*a*a)}function Hr(t,e,r,i,a,n){var o=i+3*(e-r)-t;var s=3*(r-e*2+t);var l=3*(e-t);var u=t-a;var f=s*s-3*o*l;var h=s*l-9*o*u;var c=l*l-3*s*u;var v=0;if(Br(f)&&Br(h)){if(Br(s)){n[0]=0}else{var d=-l/s;if(d>=0&&d<=1){n[v++]=d}}}else{var p=h*h-4*f*c;if(Br(p)){var g=h/f;var d=-s/o+g;var y=-g/2;if(d>=0&&d<=1){n[v++]=d}if(y>=0&&y<=1){n[v++]=y}}else if(p>0){var m=Lr(p);var _=f*s+1.5*o*(-h+m);var x=f*s+1.5*o*(-h-m);if(_<0){_=-kr(-_,Rr)}else{_=kr(_,Rr)}if(x<0){x=-kr(-x,Rr)}else{x=kr(x,Rr)}var d=(-s-(_+x))/(3*o);if(d>=0&&d<=1){n[v++]=d}}else{var w=(2*f*s-3*o*h)/(2*Lr(f*f*f));var b=Math.acos(w)/3;var S=Lr(f);var M=Math.cos(b);var d=(-s-2*S*M)/(3*o);var y=(-s+S*(M+Nr*Math.sin(b)))/(3*o);var I=(-s+S*(M-Nr*Math.sin(b)))/(3*o);if(d>=0&&d<=1){n[v++]=d}if(y>=0&&y<=1){n[v++]=y}if(I>=0&&I<=1){n[v++]=I}}}return v}function Yr(t,e,r,i,a){var n=6*r-12*e+6*t;var o=9*e+3*i-3*t-9*r;var s=3*e-3*t;var l=0;if(Br(o)){if(Fr(n)){var u=-s/n;if(u>=0&&u<=1){a[l++]=u}}}else{var f=n*n-4*o*s;if(Br(f)){a[0]=-n/(2*o)}else if(f>0){var h=Lr(f);var u=(-n+h)/(2*o);var c=(-n-h)/(2*o);if(u>=0&&u<=1){a[l++]=u}if(c>=0&&c<=1){a[l++]=c}}}return l}function Ur(t,e,r,i,a,n){var o=(e-t)*a+t;var s=(r-e)*a+e;var l=(i-r)*a+r;var u=(s-o)*a+o;var f=(l-s)*a+s;var h=(f-u)*a+u;n[0]=t;n[1]=o;n[2]=u;n[3]=h;n[4]=h;n[5]=f;n[6]=l;n[7]=i}function Xr(t,e,r,i,a,n,o,s,l,u,f){var h;var c=.005;var v=Infinity;var d;var p;var g;var y;Er[0]=l;Er[1]=u;for(var m=0;m<1;m+=.05){zr[0]=Gr(t,r,a,o,m);zr[1]=Gr(e,i,n,s,m);g=$t(Er,zr);if(g<v){h=m;v=g}}v=Infinity;for(var _=0;_<32;_++){if(c<Or){break}d=h-c;p=h+c;zr[0]=Gr(t,r,a,o,d);zr[1]=Gr(e,i,n,s,d);g=$t(zr,Er);if(d>=0&&g<v){h=d;v=g}else{Vr[0]=Gr(t,r,a,o,p);Vr[1]=Gr(e,i,n,s,p);y=$t(Vr,Er);if(p<=1&&y<v){h=p;v=y}else{c*=.5}}}if(f){f[0]=Gr(t,r,a,o,h);f[1]=Gr(e,i,n,s,h)}return Lr(v)}function Zr(t,e,r,i,a,n,o,s,l){var u=t;var f=e;var h=0;var c=1/l;for(var v=1;v<=l;v++){var d=v*c;var p=Gr(t,r,a,o,d);var g=Gr(e,i,n,s,d);var y=p-u;var m=g-f;h+=Math.sqrt(y*y+m*m);u=p;f=g}return h}function jr(t,e,r,i){var a=1-i;return a*(a*t+2*i*e)+i*i*r}function qr(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function Kr(t,e,r,i,a){var n=t-2*e+r;var o=2*(e-t);var s=t-i;var l=0;if(Br(n)){if(Fr(o)){var u=-s/o;if(u>=0&&u<=1){a[l++]=u}}}else{var f=o*o-4*n*s;if(Br(f)){var u=-o/(2*n);if(u>=0&&u<=1){a[l++]=u}}else if(f>0){var h=Lr(f);var u=(-o+h)/(2*n);var c=(-o-h)/(2*n);if(u>=0&&u<=1){a[l++]=u}if(c>=0&&c<=1){a[l++]=c}}}return l}function $r(t,e,r){var i=t+r-2*e;if(i===0){return.5}else{return(t-e)/i}}function Jr(t,e,r,i,a){var n=(e-t)*i+t;var o=(r-e)*i+e;var s=(o-n)*i+n;a[0]=t;a[1]=n;a[2]=s;a[3]=s;a[4]=o;a[5]=r}function Qr(t,e,r,i,a,n,o,s,l){var u;var f=.005;var h=Infinity;Er[0]=o;Er[1]=s;for(var c=0;c<1;c+=.05){zr[0]=jr(t,r,a,c);zr[1]=jr(e,i,n,c);var v=$t(Er,zr);if(v<h){u=c;h=v}}h=Infinity;for(var d=0;d<32;d++){if(f<Or){break}var p=u-f;var g=u+f;zr[0]=jr(t,r,a,p);zr[1]=jr(e,i,n,p);var v=$t(zr,Er);if(p>=0&&v<h){u=p;h=v}else{Vr[0]=jr(t,r,a,g);Vr[1]=jr(e,i,n,g);var y=$t(Vr,Er);if(g<=1&&y<h){u=g;h=y}else{f*=.5}}}if(l){l[0]=jr(t,r,a,u);l[1]=jr(e,i,n,u)}return Lr(h)}function ti(t,e,r,i,a,n,o){var s=t;var l=e;var u=0;var f=1/o;for(var h=1;h<=o;h++){var c=h*f;var v=jr(t,r,a,c);var d=jr(e,i,n,c);var p=v-s;var g=d-l;u+=Math.sqrt(p*p+g*g);s=v;l=d}return u}var ei=/cubic-bezier\(([0-9,\.e ]+)\)/;function ri(t){var e=t&&ei.exec(t);if(e){var r=e[1].split(",");var i=+xt(r[0]);var a=+xt(r[1]);var n=+xt(r[2]);var o=+xt(r[3]);if(isNaN(i+a+n+o)){return}var s=[];return function(t){return t<=0?0:t>=1?1:Hr(0,i,n,1,t,s)&&Gr(0,a,o,1,s[0])}}}var ii=function(){function t(t){this._inited=false;this._startTime=0;this._pausedTime=0;this._paused=false;this._life=t.life||1e3;this._delay=t.delay||0;this.loop=t.loop||false;this.onframe=t.onframe||Ot;this.ondestroy=t.ondestroy||Ot;this.onrestart=t.onrestart||Ot;t.easing&&this.setEasing(t.easing)}t.prototype.step=function(t,e){if(!this._inited){this._startTime=t+this._delay;this._inited=true}if(this._paused){this._pausedTime+=e;return}var r=this._life;var i=t-this._startTime-this._pausedTime;var a=i/r;if(a<0){a=0}a=Math.min(a,1);var n=this.easingFunc;var o=n?n(a):a;this.onframe(o);if(a===1){if(this.loop){var s=i%r;this._startTime=t-s;this._pausedTime=0;this.onrestart()}else{return true}}return false};t.prototype.pause=function(){this._paused=true};t.prototype.resume=function(){this._paused=false};t.prototype.setEasing=function(t){this.easing=t;this.easingFunc=rt(t)?t:Ar[t]||ri(t)};return t}();var ai=function(){function t(t){this.value=t}return t}();var ni=function(){function t(){this._len=0}t.prototype.insert=function(t){var e=new ai(t);this.insertEntry(e);return e};t.prototype.insertEntry=function(t){if(!this.head){this.head=this.tail=t}else{this.tail.next=t;t.prev=this.tail;t.next=null;this.tail=t}this._len++};t.prototype.remove=function(t){var e=t.prev;var r=t.next;if(e){e.next=r}else{this.head=r}if(r){r.prev=e}else{this.tail=e}t.next=t.prev=null;this._len--};t.prototype.len=function(){return this._len};t.prototype.clear=function(){this.head=this.tail=null;this._len=0};return t}();var oi=function(){function t(t){this._list=new ni;this._maxSize=10;this._map={};this._maxSize=t}t.prototype.put=function(t,e){var r=this._list;var i=this._map;var a=null;if(i[t]==null){var n=r.len();var o=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var s=r.head;r.remove(s);delete i[s.key];a=s.value;this._lastRemovedEntry=s}if(o){o.value=e}else{o=new ai(e)}o.key=t;r.insertEntry(o);i[t]=o}return a};t.prototype.get=function(t){var e=this._map[t];var r=this._list;if(e!=null){if(e!==r.tail){r.remove(e);r.insertEntry(e)}return e.value}};t.prototype.clear=function(){this._list.clear();this._map={}};t.prototype.len=function(){return this._list.len()};return t}();var si={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function li(t){t=Math.round(t);return t<0?0:t>255?255:t}function ui(t){t=Math.round(t);return t<0?0:t>360?360:t}function fi(t){return t<0?0:t>1?1:t}function hi(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return li(parseFloat(e)/100*255)}return li(parseInt(e,10))}function ci(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return fi(parseFloat(e)/100)}return fi(parseFloat(e))}function vi(t,e,r){if(r<0){r+=1}else if(r>1){r-=1}if(r*6<1){return t+(e-t)*r*6}if(r*2<1){return e}if(r*3<2){return t+(e-t)*(2/3-r)*6}return t}function di(t,e,r){return t+(e-t)*r}function pi(t,e,r,i,a){t[0]=e;t[1]=r;t[2]=i;t[3]=a;return t}function gi(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}var yi=new oi(20);var mi=null;function _i(t,e){if(mi){gi(mi,e)}mi=yi.put(t,mi||e.slice())}function xi(t,e){if(!t){return}e=e||[];var r=yi.get(t);if(r){return gi(e,r)}t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in si){gi(e,si[i]);_i(t,e);return e}var a=i.length;if(i.charAt(0)==="#"){if(a===4||a===5){var n=parseInt(i.slice(1,4),16);if(!(n>=0&&n<=4095)){pi(e,0,0,0,1);return}pi(e,(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,a===5?parseInt(i.slice(4),16)/15:1);_i(t,e);return e}else if(a===7||a===9){var n=parseInt(i.slice(1,7),16);if(!(n>=0&&n<=16777215)){pi(e,0,0,0,1);return}pi(e,(n&16711680)>>16,(n&65280)>>8,n&255,a===9?parseInt(i.slice(7),16)/255:1);_i(t,e);return e}return}var o=i.indexOf("(");var s=i.indexOf(")");if(o!==-1&&s+1===a){var l=i.substr(0,o);var u=i.substr(o+1,s-(o+1)).split(",");var f=1;switch(l){case"rgba":if(u.length!==4){return u.length===3?pi(e,+u[0],+u[1],+u[2],1):pi(e,0,0,0,1)}f=ci(u.pop());case"rgb":if(u.length>=3){pi(e,hi(u[0]),hi(u[1]),hi(u[2]),u.length===3?f:ci(u[3]));_i(t,e);return e}else{pi(e,0,0,0,1);return}case"hsla":if(u.length!==4){pi(e,0,0,0,1);return}u[3]=ci(u[3]);wi(u,e);_i(t,e);return e;case"hsl":if(u.length!==3){pi(e,0,0,0,1);return}wi(u,e);_i(t,e);return e;default:return}}pi(e,0,0,0,1);return}function wi(t,e){var r=(parseFloat(t[0])%360+360)%360/360;var i=ci(t[1]);var a=ci(t[2]);var n=a<=.5?a*(i+1):a+i-a*i;var o=a*2-n;e=e||[];pi(e,li(vi(o,n,r+1/3)*255),li(vi(o,n,r)*255),li(vi(o,n,r-1/3)*255),1);if(t.length===4){e[3]=t[3]}return e}function bi(t){if(!t){return}var e=t[0]/255;var r=t[1]/255;var i=t[2]/255;var a=Math.min(e,r,i);var n=Math.max(e,r,i);var o=n-a;var s=(n+a)/2;var l;var u;if(o===0){l=0;u=0}else{if(s<.5){u=o/(n+a)}else{u=o/(2-n-a)}var f=((n-e)/6+o/2)/o;var h=((n-r)/6+o/2)/o;var c=((n-i)/6+o/2)/o;if(e===n){l=c-h}else if(r===n){l=1/3+f-c}else if(i===n){l=2/3+h-f}if(l<0){l+=1}if(l>1){l-=1}}var v=[l*360,u,s];if(t[3]!=null){v.push(t[3])}return v}function Si(t,e){var r=xi(t);if(r){for(var i=0;i<3;i++){if(e<0){r[i]=r[i]*(1-e)|0}else{r[i]=(255-r[i])*e+r[i]|0}if(r[i]>255){r[i]=255}else if(r[i]<0){r[i]=0}}return Ci(r,r.length===4?"rgba":"rgb")}}function Mi(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}r=r||[];var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=e[a];var s=e[n];var l=i-a;r[0]=li(di(o[0],s[0],l));r[1]=li(di(o[1],s[1],l));r[2]=li(di(o[2],s[2],l));r[3]=fi(di(o[3],s[3],l));return r}function Ii(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=xi(e[a]);var s=xi(e[n]);var l=i-a;var u=Ci([li(di(o[0],s[0],l)),li(di(o[1],s[1],l)),li(di(o[2],s[2],l)),fi(di(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:n,value:i}:u}function Ti(t,e,r,i){var a=xi(t);if(t){a=bi(a);e!=null&&(a[0]=ui(e));r!=null&&(a[1]=ci(r));i!=null&&(a[2]=ci(i));return Ci(wi(a),"rgba")}}function Di(t,e){var r=xi(t);if(r&&e!=null){r[3]=fi(e);return Ci(r,"rgba")}}function Ci(t,e){if(!t||!t.length){return}var r=t[0]+","+t[1]+","+t[2];if(e==="rgba"||e==="hsva"||e==="hsla"){r+=","+t[3]}return e+"("+r+")"}function Ai(t,e){var r=xi(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var ki=Math.round;function Li(t){var e;if(!t||t==="transparent"){t="none"}else if(typeof t==="string"&&t.indexOf("rgba")>-1){var r=xi(t);if(r){t="rgb("+r[0]+","+r[1]+","+r[2]+")";e=r[3]}}return{color:t,opacity:e==null?1:e}}var Pi=1e-4;function Oi(t){return t<Pi&&t>-Pi}function Ni(t){return ki(t*1e3)/1e3}function Ri(t){return ki(t*1e4)/1e4}function Ei(t){return"matrix("+Ni(t[0])+","+Ni(t[1])+","+Ni(t[2])+","+Ni(t[3])+","+Ri(t[4])+","+Ri(t[5])+")"}var zi={left:"start",right:"end",center:"middle",middle:"middle"};function Vi(t,e,r){if(r==="top"){t+=e/2}else if(r==="bottom"){t-=e/2}return t}function Bi(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function Fi(t){var e=t.style;var r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Gi(t){return t&&!!t.image}function Wi(t){return t&&!!t.svgElement}function Hi(t){return Gi(t)||Wi(t)}function Yi(t){return t.type==="linear"}function Ui(t){return t.type==="radial"}function Xi(t){return t&&(t.type==="linear"||t.type==="radial")}function Zi(t){return"url(#"+t+")"}function ji(t){var e=t.getGlobalScale();var r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function qi(t){var e=t.x||0;var r=t.y||0;var i=(t.rotation||0)*Nt;var a=pt(t.scaleX,1);var n=pt(t.scaleY,1);var o=t.skewX||0;var s=t.skewY||0;var l=[];if(e||r){l.push("translate("+e+"px,"+r+"px)")}if(i){l.push("rotate("+i+")")}if(a!==1||n!==1){l.push("scale("+a+","+n+")")}if(o||s){l.push("skew("+ki(o*Nt)+"deg, "+ki(s*Nt)+"deg)")}return l.join(" ")}var Ki=function(){if(c.hasGlobalWindow&&rt(window.btoa)){return function(t){return window.btoa(unescape(encodeURIComponent(t)))}}if(typeof Buffer!=="undefined"){return function(t){return Buffer.from(t).toString("base64")}}return function(t){return null}}();var $i=Array.prototype.slice;function Ji(t,e,r){return(e-t)*r+t}function Qi(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=Ji(e[n],r[n],i)}return t}function ta(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=Ji(e[o][s],r[o][s],i)}}return t}function ea(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=e[n]+r[n]*i}return t}function ra(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=e[o][s]+r[o][s]*i}}return t}function ia(t,e){var r=t.length;var i=e.length;var a=r>i?e:t;var n=Math.min(r,i);var o=a[n-1]||{color:[0,0,0,0],offset:0};for(var s=n;s<Math.max(r,i);s++){a.push({offset:o.offset,color:o.color.slice()})}}function aa(t,e,r){var i=t;var a=e;if(!i.push||!a.push){return}var n=i.length;var o=a.length;if(n!==o){var s=n>o;if(s){i.length=o}else{for(var l=n;l<o;l++){i.push(r===1?a[l]:$i.call(a[l]))}}}var u=i[0]&&i[0].length;for(var l=0;l<i.length;l++){if(r===1){if(isNaN(i[l])){i[l]=a[l]}}else{for(var f=0;f<u;f++){if(isNaN(i[l][f])){i[l][f]=a[l][f]}}}}}function na(t){if(U(t)){var e=t.length;if(U(t[0])){var r=[];for(var i=0;i<e;i++){r.push($i.call(t[i]))}return r}return $i.call(t)}return t}function oa(t){t[0]=Math.floor(t[0])||0;t[1]=Math.floor(t[1])||0;t[2]=Math.floor(t[2])||0;t[3]=t[3]==null?1:t[3];return"rgba("+t.join(",")+")"}function sa(t){return U(t&&t[0])?2:1}var la=0;var ua=1;var fa=2;var ha=3;var ca=4;var va=5;var da=6;function pa(t){return t===ca||t===va}function ga(t){return t===ua||t===fa}var ya=[0,0,0,0];var ma=function(){function t(t){this.keyframes=[];this.discrete=false;this._invalid=false;this._needsSort=false;this._lastFr=0;this._lastFrP=0;this.propName=t}t.prototype.isFinished=function(){return this._finished};t.prototype.setFinished=function(){this._finished=true;if(this._additiveTrack){this._additiveTrack.setFinished()}};t.prototype.needsAnimate=function(){return this.keyframes.length>=1};t.prototype.getAdditiveTrack=function(){return this._additiveTrack};t.prototype.addKeyframe=function(t,e,r){this._needsSort=true;var i=this.keyframes;var a=i.length;var n=false;var o=da;var s=e;if(U(e)){var l=sa(e);o=l;if(l===1&&!nt(e[0])||l===2&&!nt(e[0][0])){n=true}}else{if(nt(e)&&!vt(e)){o=la}else if(it(e)){if(!isNaN(+e)){o=la}else{var u=xi(e);if(u){s=u;o=ha}}}else if(ft(e)){var f=F({},s);f.colorStops=Z(e.colorStops,(function(t){return{offset:t.offset,color:xi(t.color)}}));if(Yi(e)){o=ca}else if(Ui(e)){o=va}s=f}}if(a===0){this.valType=o}else if(o!==this.valType||o===da){n=true}this.discrete=this.discrete||n;var h={time:t,value:s,rawValue:e,percent:0};if(r){h.easing=r;h.easingFunc=rt(r)?r:Ar[r]||ri(r)}i.push(h);return h};t.prototype.prepare=function(t,e){var r=this.keyframes;if(this._needsSort){r.sort((function(t,e){return t.time-e.time}))}var i=this.valType;var a=r.length;var n=r[a-1];var o=this.discrete;var s=ga(i);var l=pa(i);for(var u=0;u<a;u++){var f=r[u];var h=f.value;var c=n.value;f.percent=f.time/t;if(!o){if(s&&u!==a-1){aa(h,c,i)}else if(l){ia(h.colorStops,c.colorStops)}}}if(!o&&i!==va&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var v=r[0].value;for(var u=0;u<a;u++){if(i===la){r[u].additiveValue=r[u].value-v}else if(i===ha){r[u].additiveValue=ea([],r[u].value,v,-1)}else if(ga(i)){r[u].additiveValue=i===ua?ea([],r[u].value,v,-1):ra([],r[u].value,v,-1)}}}};t.prototype.step=function(t,e){if(this._finished){return}if(this._additiveTrack&&this._additiveTrack._finished){this._additiveTrack=null}var r=this._additiveTrack!=null;var i=r?"additiveValue":"value";var a=this.valType;var n=this.keyframes;var o=n.length;var s=this.propName;var l=a===ha;var u;var f=this._lastFr;var h=Math.min;var c;var v;if(o===1){c=v=n[0]}else{if(e<0){u=0}else if(e<this._lastFrP){var d=h(f+1,o-1);for(u=d;u>=0;u--){if(n[u].percent<=e){break}}u=h(u,o-2)}else{for(u=f;u<o;u++){if(n[u].percent>e){break}}u=h(u-1,o-2)}v=n[u+1];c=n[u]}if(!(c&&v)){return}this._lastFr=u;this._lastFrP=e;var p=v.percent-c.percent;var g=p===0?1:h((e-c.percent)/p,1);if(v.easingFunc){g=v.easingFunc(g)}var y=r?this._additiveValue:l?ya:t[s];if((ga(a)||l)&&!y){y=this._additiveValue=[]}if(this.discrete){t[s]=g<1?c.rawValue:v.rawValue}else if(ga(a)){a===ua?Qi(y,c[i],v[i],g):ta(y,c[i],v[i],g)}else if(pa(a)){var m=c[i];var _=v[i];var x=a===ca;t[s]={type:x?"linear":"radial",x:Ji(m.x,_.x,g),y:Ji(m.y,_.y,g),colorStops:Z(m.colorStops,(function(t,e){var r=_.colorStops[e];return{offset:Ji(t.offset,r.offset,g),color:oa(Qi([],t.color,r.color,g))}})),global:_.global};if(x){t[s].x2=Ji(m.x2,_.x2,g);t[s].y2=Ji(m.y2,_.y2,g)}else{t[s].r=Ji(m.r,_.r,g)}}else if(l){Qi(y,c[i],v[i],g);if(!r){t[s]=oa(y)}}else{var w=Ji(c[i],v[i],g);if(r){this._additiveValue=w}else{t[s]=w}}if(r){this._addToTarget(t)}};t.prototype._addToTarget=function(t){var e=this.valType;var r=this.propName;var i=this._additiveValue;if(e===la){t[r]=t[r]+i}else if(e===ha){xi(t[r],ya);ea(ya,ya,i,1);t[r]=oa(ya)}else if(e===ua){ea(t[r],t[r],i,1)}else if(e===fa){ra(t[r],t[r],i,1)}};return t}();var _a=function(){function t(t,e,r,i){this._tracks={};this._trackKeys=[];this._maxTime=0;this._started=0;this._clip=null;this._target=t;this._loop=e;if(e&&i){E("Can' use additive animation on looped animation.");return}this._additiveAnimators=i;this._allowDiscrete=r}t.prototype.getMaxTime=function(){return this._maxTime};t.prototype.getDelay=function(){return this._delay};t.prototype.getLoop=function(){return this._loop};t.prototype.getTarget=function(){return this._target};t.prototype.changeTarget=function(t){this._target=t};t.prototype.when=function(t,e,r){return this.whenWithKeys(t,e,$(e),r)};t.prototype.whenWithKeys=function(t,e,r,i){var a=this._tracks;for(var n=0;n<r.length;n++){var o=r[n];var s=a[o];if(!s){s=a[o]=new ma(o);var l=void 0;var u=this._getAdditiveTrack(o);if(u){var f=u.keyframes;var h=f[f.length-1];l=h&&h.value;if(u.valType===ha&&l){l=oa(l)}}else{l=this._target[o]}if(l==null){continue}if(t>0){s.addKeyframe(0,na(l),i)}this._trackKeys.push(o)}s.addKeyframe(t,na(e[o]),i)}this._maxTime=Math.max(this._maxTime,t);return this};t.prototype.pause=function(){this._clip.pause();this._paused=true};t.prototype.resume=function(){this._clip.resume();this._paused=false};t.prototype.isPaused=function(){return!!this._paused};t.prototype.duration=function(t){this._maxTime=t;this._force=true;return this};t.prototype._doneCallback=function(){this._setTracksFinished();this._clip=null;var t=this._doneCbs;if(t){var e=t.length;for(var r=0;r<e;r++){t[r].call(this)}}};t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation;var e=this._abortedCbs;if(t){t.removeClip(this._clip)}this._clip=null;if(e){for(var r=0;r<e.length;r++){e[r].call(this)}}};t.prototype._setTracksFinished=function(){var t=this._tracks;var e=this._trackKeys;for(var r=0;r<e.length;r++){t[e[r]].setFinished()}};t.prototype._getAdditiveTrack=function(t){var e;var r=this._additiveAnimators;if(r){for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);if(a){e=a}}}return e};t.prototype.start=function(t){if(this._started>0){return}this._started=1;var e=this;var r=[];var i=this._maxTime||0;for(var a=0;a<this._trackKeys.length;a++){var n=this._trackKeys[a];var o=this._tracks[n];var s=this._getAdditiveTrack(n);var l=o.keyframes;var u=l.length;o.prepare(i,s);if(o.needsAnimate()){if(!this._allowDiscrete&&o.discrete){var f=l[u-1];if(f){e._target[o.propName]=f.rawValue}o.setFinished()}else{r.push(o)}}}if(r.length||this._force){var h=new ii({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){var a=false;for(var n=0;n<i.length;n++){if(i[n]._clip){a=true;break}}if(!a){e._additiveAnimators=null}}for(var n=0;n<r.length;n++){r[n].step(e._target,t)}var o=e._onframeCbs;if(o){for(var n=0;n<o.length;n++){o[n](e._target,t)}}},ondestroy:function(){e._doneCallback()}});this._clip=h;if(this.animation){this.animation.addClip(h)}if(t){h.setEasing(t)}}else{this._doneCallback()}return this};t.prototype.stop=function(t){if(!this._clip){return}var e=this._clip;if(t){e.onframe(1)}this._abortedCallback()};t.prototype.delay=function(t){this._delay=t;return this};t.prototype.during=function(t){if(t){if(!this._onframeCbs){this._onframeCbs=[]}this._onframeCbs.push(t)}return this};t.prototype.done=function(t){if(t){if(!this._doneCbs){this._doneCbs=[]}this._doneCbs.push(t)}return this};t.prototype.aborted=function(t){if(t){if(!this._abortedCbs){this._abortedCbs=[]}this._abortedCbs.push(t)}return this};t.prototype.getClip=function(){return this._clip};t.prototype.getTrack=function(t){return this._tracks[t]};t.prototype.getTracks=function(){var t=this;return Z(this._trackKeys,(function(e){return t._tracks[e]}))};t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip){return true}var r=this._tracks;var i=this._trackKeys;for(var a=0;a<t.length;a++){var n=r[t[a]];if(n&&!n.isFinished()){if(e){n.step(this._target,1)}else if(this._started===1){n.step(this._target,0)}n.setFinished()}}var o=true;for(var a=0;a<i.length;a++){if(!r[i[a]].isFinished()){o=false;break}}if(o){this._abortedCallback()}return o};t.prototype.saveTo=function(t,e,r){if(!t){return}e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i];var n=this._tracks[a];if(!n||n.isFinished()){continue}var o=n.keyframes;var s=o[r?0:o.length-1];if(s){t[a]=na(s.rawValue)}}};t.prototype.__changeFinalValue=function(t,e){e=e||$(t);for(var r=0;r<e.length;r++){var i=e[r];var a=this._tracks[i];if(!a){continue}var n=a.keyframes;if(n.length>1){var o=n.pop();a.addKeyframe(o.time,t[i]);a.prepare(this._maxTime,a.getAdditiveTrack())}}};return t}();function xa(){return(new Date).getTime()}var wa=function(t){Et(e,t);function e(e){var r=t.call(this)||this;r._running=false;r._time=0;r._pausedTime=0;r._pauseStart=0;r._paused=false;e=e||{};r.stage=e.stage||{};return r}e.prototype.addClip=function(t){if(t.animation){this.removeClip(t)}if(!this._head){this._head=this._tail=t}else{this._tail.next=t;t.prev=this._tail;t.next=null;this._tail=t}t.animation=this};e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();if(e){this.addClip(e)}};e.prototype.removeClip=function(t){if(!t.animation){return}var e=t.prev;var r=t.next;if(e){e.next=r}else{this._head=r}if(r){r.prev=e}else{this._tail=e}t.next=t.prev=t.animation=null};e.prototype.removeAnimator=function(t){var e=t.getClip();if(e){this.removeClip(e)}t.animation=null};e.prototype.update=function(t){var e=xa()-this._pausedTime;var r=e-this._time;var i=this._head;while(i){var a=i.next;var n=i.step(e,r);if(n){i.ondestroy();this.removeClip(i);i=a}else{i=a}}this._time=e;if(!t){this.trigger("frame",r);this.stage.update&&this.stage.update()}};e.prototype._startLoop=function(){var t=this;this._running=true;function e(){if(t._running){Cr(e);!t._paused&&t.update()}}Cr(e)};e.prototype.start=function(){if(this._running){return}this._time=xa();this._pausedTime=0;this._startLoop()};e.prototype.stop=function(){this._running=false};e.prototype.pause=function(){if(!this._paused){this._pauseStart=xa();this._paused=true}};e.prototype.resume=function(){if(this._paused){this._pausedTime+=xa()-this._pauseStart;this._paused=false}};e.prototype.clear=function(){var t=this._head;while(t){var e=t.next;t.prev=t.next=t.animation=null;t=e}this._head=this._tail=null};e.prototype.isFinished=function(){return this._head==null};e.prototype.animate=function(t,e){e=e||{};this.start();var r=new _a(t,e.loop);this.addAnimator(r);return r};return e}(ae);var ba=300;var Sa=c.domSupported;var Ma=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var e=["touchstart","touchend","touchmove"];var r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var i=Z(t,(function(t){var e=t.replace("mouse","pointer");return r.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:i}}();var Ia={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};var Ta=false;function Da(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Ca(t){t.touching=true;if(t.touchTimer!=null){clearTimeout(t.touchTimer);t.touchTimer=null}t.touchTimer=setTimeout((function(){t.touching=false;t.touchTimer=null}),700)}function Aa(t){t&&(t.zrByTouch=true)}function ka(t,e){return Me(t.dom,new Pa(t,e),true)}function La(t,e){var r=e;var i=false;while(r&&r.nodeType!==9&&!(i=r.domBelongToZr||r!==e&&r===t.painterRoot)){r=r.parentNode}return i}var Pa=function(){function t(t,e){this.stopPropagation=Ot;this.stopImmediatePropagation=Ot;this.preventDefault=Ot;this.type=e.type;this.target=this.currentTarget=t.dom;this.pointerType=e.pointerType;this.clientX=e.clientX;this.clientY=e.clientY}return t}();var Oa={mousedown:function(t){t=Me(this.dom,t);this.__mayPointerCapture=[t.zrX,t.zrY];this.trigger("mousedown",t)},mousemove:function(t){t=Me(this.dom,t);var e=this.__mayPointerCapture;if(e&&(t.zrX!==e[0]||t.zrY!==e[1])){this.__togglePointerCapture(true)}this.trigger("mousemove",t)},mouseup:function(t){t=Me(this.dom,t);this.__togglePointerCapture(false);this.trigger("mouseup",t)},mouseout:function(t){t=Me(this.dom,t);var e=t.toElement||t.relatedTarget;if(!La(this,e)){if(this.__pointerCapturing){t.zrEventControl="no_globalout"}this.trigger("mouseout",t)}},wheel:function(t){Ta=true;t=Me(this.dom,t);this.trigger("mousewheel",t)},mousewheel:function(t){if(Ta){return}t=Me(this.dom,t);this.trigger("mousewheel",t)},touchstart:function(t){t=Me(this.dom,t);Aa(t);this.__lastTouchMoment=new Date;this.handler.processGesture(t,"start");Oa.mousemove.call(this,t);Oa.mousedown.call(this,t)},touchmove:function(t){t=Me(this.dom,t);Aa(t);this.handler.processGesture(t,"change");Oa.mousemove.call(this,t)},touchend:function(t){t=Me(this.dom,t);Aa(t);this.handler.processGesture(t,"end");Oa.mouseup.call(this,t);if(+new Date-+this.__lastTouchMoment<ba){Oa.click.call(this,t)}},pointerdown:function(t){Oa.mousedown.call(this,t)},pointermove:function(t){if(!Da(t)){Oa.mousemove.call(this,t)}},pointerup:function(t){Oa.mouseup.call(this,t)},pointerout:function(t){if(!Da(t)){Oa.mouseout.call(this,t)}}};X(["click","dblclick","contextmenu"],(function(t){Oa[t]=function(e){e=Me(this.dom,e);this.trigger(t,e)}}));var Na={pointermove:function(t){if(!Da(t)){Na.mousemove.call(this,t)}},pointerup:function(t){Na.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(false);this.trigger("mouseup",t);if(e){t.zrEventControl="only_globalout";this.trigger("mouseout",t)}}};function Ra(t,e){var r=e.domHandlers;if(c.pointerEventsSupported){X(Ma.pointer,(function(i){za(e,i,(function(e){r[i].call(t,e)}))}))}else{if(c.touchEventsSupported){X(Ma.touch,(function(i){za(e,i,(function(a){r[i].call(t,a);Ca(e)}))}))}X(Ma.mouse,(function(i){za(e,i,(function(a){a=Se(a);if(!e.touching){r[i].call(t,a)}}))}))}}function Ea(t,e){if(c.pointerEventsSupported){X(Ia.pointer,r)}else if(!c.touchEventsSupported){X(Ia.mouse,r)}function r(r){function i(i){i=Se(i);if(!La(t,i.target)){i=ka(t,i);e.domHandlers[r].call(t,i)}}za(e,r,i,{capture:true})}}function za(t,e,r,i){t.mounted[e]=r;t.listenerOpts[e]=i;Te(t.domTarget,e,r,i)}function Va(t){var e=t.mounted;for(var r in e){if(e.hasOwnProperty(r)){De(t.domTarget,r,e[r],t.listenerOpts[r])}}t.mounted={}}var Ba=function(){function t(t,e){this.mounted={};this.listenerOpts={};this.touching=false;this.domTarget=t;this.domHandlers=e}return t}();var Fa=function(t){Et(e,t);function e(e,r){var i=t.call(this)||this;i.__pointerCapturing=false;i.dom=e;i.painterRoot=r;i._localHandlerScope=new Ba(e,Oa);if(Sa){i._globalHandlerScope=new Ba(document,Na)}Ra(i,i._localHandlerScope);return i}e.prototype.dispose=function(){Va(this._localHandlerScope);if(Sa){Va(this._globalHandlerScope)}};e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")};e.prototype.__togglePointerCapture=function(t){this.__mayPointerCapture=null;if(Sa&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Ea(this,e):Va(e)}};return e}(ae);var Ga=1;if(c.hasGlobalWindow){Ga=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)}var Wa=Ga;var Ha=.4;var Ya="#333";var Ua="#ccc";var Xa="#eee";var Za=Re;var ja=5e-5;function qa(t){return t>ja||t<-ja}var Ka=[];var $a=[];var Ja=Ne();var Qa=Math.abs;var tn=function(){function t(){}t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)};t.prototype.setPosition=function(t){this.x=t[0];this.y=t[1]};t.prototype.setScale=function(t){this.scaleX=t[0];this.scaleY=t[1]};t.prototype.setSkew=function(t){this.skewX=t[0];this.skewY=t[1]};t.prototype.setOrigin=function(t){this.originX=t[0];this.originY=t[1]};t.prototype.needLocalTransform=function(){return qa(this.rotation)||qa(this.x)||qa(this.y)||qa(this.scaleX-1)||qa(this.scaleY-1)||qa(this.skewX)||qa(this.skewY)};t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform;var e=this.needLocalTransform();var r=this.transform;if(!(e||t)){r&&Za(r);return}r=r||Ne();if(e){this.getLocalTransform(r)}else{Za(r)}if(t){if(e){ze(r,t,r)}else{Ee(r,t)}}this.transform=r;this._resolveGlobalScaleRatio(r)};t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(Ka);var r=Ka[0]<0?-1:1;var i=Ka[1]<0?-1:1;var a=((Ka[0]-r)*e+r)/Ka[0]||0;var n=((Ka[1]-i)*e+i)/Ka[1]||0;t[0]*=a;t[1]*=a;t[2]*=n;t[3]*=n}this.invTransform=this.invTransform||Ne();Ge(this.invTransform,t)};t.prototype.getComputedTransform=function(){var t=this;var e=[];while(t){e.push(t);t=t.parent}while(t=e.pop()){t.updateTransform()}return this.transform};t.prototype.setLocalTransform=function(t){if(!t){return}var e=t[0]*t[0]+t[1]*t[1];var r=t[2]*t[2]+t[3]*t[3];var i=Math.atan2(t[1],t[0]);var a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a);e=Math.sqrt(e);this.skewX=a;this.skewY=0;this.rotation=-i;this.x=+t[4];this.y=+t[5];this.scaleX=e;this.scaleY=r;this.originX=0;this.originY=0};t.prototype.decomposeTransform=function(){if(!this.transform){return}var t=this.parent;var e=this.transform;if(t&&t.transform){ze($a,t.invTransform,e);e=$a}var r=this.originX;var i=this.originY;if(r||i){Ja[4]=r;Ja[5]=i;ze($a,e,Ja);$a[4]-=r;$a[5]-=i;e=$a}this.setLocalTransform(e)};t.prototype.getGlobalScale=function(t){var e=this.transform;t=t||[];if(!e){t[0]=1;t[1]=1;return t}t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]);t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){t[0]=-t[0]}if(e[3]<0){t[1]=-t[1]}return t};t.prototype.transformCoordToLocal=function(t,e){var r=[t,e];var i=this.invTransform;if(i){Qt(r,r,i)}return r};t.prototype.transformCoordToGlobal=function(t,e){var r=[t,e];var i=this.transform;if(i){Qt(r,r,i)}return r};t.prototype.getLineScale=function(){var t=this.transform;return t&&Qa(t[0]-1)>1e-10&&Qa(t[3]-1)>1e-10?Math.sqrt(Qa(t[0]*t[3]-t[2]*t[1])):1};t.prototype.copyTransform=function(t){rn(this,t)};t.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0;var i=t.originY||0;var a=t.scaleX;var n=t.scaleY;var o=t.anchorX;var s=t.anchorY;var l=t.rotation||0;var u=t.x;var f=t.y;var h=t.skewX?Math.tan(t.skewX):0;var c=t.skewY?Math.tan(-t.skewY):0;if(r||i||o||s){var v=r+o;var d=i+s;e[4]=-v*a-h*d*n;e[5]=-d*n-c*v*a}else{e[4]=e[5]=0}e[0]=a;e[3]=n;e[1]=c*a;e[2]=h*n;l&&Be(e,e,l);e[4]+=r+u;e[5]+=i+f;return e};t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1;e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}();return t}();var en=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function rn(t,e){for(var r=0;r<en.length;r++){var i=en[r];t[i]=e[i]}}var an={};function nn(t,e){e=e||g;var r=an[e];if(!r){r=an[e]=new oi(500)}var i=r.get(t);if(i==null){i=b.measureText(t,e).width;r.put(t,i)}return i}function on(t,e,r,i){var a=nn(t,e);var n=fn(e);var o=ln(0,a,r);var s=un(0,n,i);var l=new Je(o,s,a,n);return l}function sn(t,e,r,i){var a=((t||"")+"").split("\n");var n=a.length;if(n===1){return on(a[0],e,r,i)}else{var o=new Je(0,0,0,0);for(var s=0;s<a.length;s++){var l=on(a[s],e,r,i);s===0?o.copy(l):o.union(l)}return o}}function ln(t,e,r){if(r==="right"){t-=e}else if(r==="center"){t-=e/2}return t}function un(t,e,r){if(r==="middle"){t-=e/2}else if(r==="bottom"){t-=e}return t}function fn(t){return nn("",t)}function hn(t,e){if(typeof t==="string"){if(t.lastIndexOf("%")>=0){return parseFloat(t)/100*e}return parseFloat(t)}return t}function cn(t,e,r){var i=e.position||"inside";var a=e.distance!=null?e.distance:5;var n=r.height;var o=r.width;var s=n/2;var l=r.x;var u=r.y;var f="left";var h="top";if(i instanceof Array){l+=hn(i[0],r.width);u+=hn(i[1],r.height);f=null;h=null}else{switch(i){case"left":l-=a;u+=s;f="right";h="middle";break;case"right":l+=a+o;u+=s;h="middle";break;case"top":l+=o/2;u-=a;f="center";h="bottom";break;case"bottom":l+=o/2;u+=n+a;f="center";break;case"inside":l+=o/2;u+=s;f="center";h="middle";break;case"insideLeft":l+=a;u+=s;h="middle";break;case"insideRight":l+=o-a;u+=s;f="right";h="middle";break;case"insideTop":l+=o/2;u+=a;f="center";break;case"insideBottom":l+=o/2;u+=n-a;f="center";h="bottom";break;case"insideTopLeft":l+=a;u+=a;break;case"insideTopRight":l+=o-a;u+=a;f="right";break;case"insideBottomLeft":l+=a;u+=n-a;h="bottom";break;case"insideBottomRight":l+=o-a;u+=n-a;f="right";h="bottom";break}}t=t||{};t.x=l;t.y=u;t.align=f;t.verticalAlign=h;return t}var vn="__zr_normal__";var dn=en.concat(["ignore"]);var pn=j(en,(function(t,e){t[e]=true;return t}),{ignore:false});var gn={};var yn=new Je(0,0,0,0);var mn=function(){function t(t){this.id=R();this.animators=[];this.currentStates=[];this.states={};this._init(t)}t.prototype._init=function(t){this.attr(t)};t.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;if(!i){i=this.transform=[1,0,0,1,0,0]}i[4]+=t;i[5]+=e;this.decomposeTransform();this.markRedraw()};t.prototype.beforeUpdate=function(){};t.prototype.afterUpdate=function(){};t.prototype.update=function(){this.updateTransform();if(this.__dirty){this.updateInnerText()}};t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){if(!this.textConfig){this.textConfig={}}var r=this.textConfig;var i=r.local;var a=e.innerTransformable;var n=void 0;var o=void 0;var s=false;a.parent=i?this:null;var l=false;a.copyTransform(e);if(r.position!=null){var u=yn;if(r.layoutRect){u.copy(r.layoutRect)}else{u.copy(this.getBoundingRect())}if(!i){u.applyTransform(this.transform)}if(this.calculateTextPosition){this.calculateTextPosition(gn,r,u)}else{cn(gn,r,u)}a.x=gn.x;a.y=gn.y;n=gn.align;o=gn.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var h=void 0;var c=void 0;if(f==="center"){h=u.width*.5;c=u.height*.5}else{h=hn(f[0],u.width);c=hn(f[1],u.height)}l=true;a.originX=-a.x+h+(i?0:u.x);a.originY=-a.y+c+(i?0:u.y)}}if(r.rotation!=null){a.rotation=r.rotation}var v=r.offset;if(v){a.x+=v[0];a.y+=v[1];if(!l){a.originX=-v[0];a.originY=-v[1]}}var d=r.inside==null?typeof r.position==="string"&&r.position.indexOf("inside")>=0:r.inside;var p=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});var g=void 0;var y=void 0;var m=void 0;if(d&&this.canBeInsideText()){g=r.insideFill;y=r.insideStroke;if(g==null||g==="auto"){g=this.getInsideTextFill()}if(y==null||y==="auto"){y=this.getInsideTextStroke(g);m=true}}else{g=r.outsideFill;y=r.outsideStroke;if(g==null||g==="auto"){g=this.getOutsideFill()}if(y==null||y==="auto"){y=this.getOutsideStroke(g);m=true}}g=g||"#000";if(g!==p.fill||y!==p.stroke||m!==p.autoStroke||n!==p.align||o!==p.verticalAlign){s=true;p.fill=g;p.stroke=y;p.autoStroke=m;p.align=n;p.verticalAlign=o;e.setDefaultTextStyle(p)}e.__dirty|=xr;if(s){e.dirtyStyle(true)}}};t.prototype.canBeInsideText=function(){return true};t.prototype.getInsideTextFill=function(){return"#fff"};t.prototype.getInsideTextStroke=function(t){return"#000"};t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Ua:Ya};t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor();var r=typeof e==="string"&&xi(e);if(!r){r=[255,255,255,1]}var i=r[3];var a=this.__zr.isDarkMode();for(var n=0;n<3;n++){r[n]=r[n]*i+(a?0:255)*(1-i)}r[3]=1;return Ci(r,"rgba")};t.prototype.traverse=function(t,e){};t.prototype.attrKV=function(t,e){if(t==="textConfig"){this.setTextConfig(e)}else if(t==="textContent"){this.setTextContent(e)}else if(t==="clipPath"){this.setClipPath(e)}else if(t==="extra"){this.extra=this.extra||{};F(this.extra,e)}else{this[t]=e}};t.prototype.hide=function(){this.ignore=true;this.markRedraw()};t.prototype.show=function(){this.ignore=false;this.markRedraw()};t.prototype.attr=function(t,e){if(typeof t==="string"){this.attrKV(t,e)}else if(ot(t)){var r=t;var i=$(r);for(var a=0;a<i.length;a++){var n=i[a];this.attrKV(n,t[n])}}this.markRedraw();return this};t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);var e=this._normalState;for(var r=0;r<this.animators.length;r++){var i=this.animators[r];var a=i.__fromStateTransition;if(i.getLoop()||a&&a!==vn){continue}var n=i.targetName;var o=n?e[n]:e;i.saveTo(o)}};t.prototype._innerSaveToNormal=function(t){var e=this._normalState;if(!e){e=this._normalState={}}if(t.textConfig&&!e.textConfig){e.textConfig=this.textConfig}this._savePrimaryToNormal(t,e,dn)};t.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!=null&&!(a in e)){e[a]=this[a]}}};t.prototype.hasState=function(){return this.currentStates.length>0};t.prototype.getState=function(t){return this.states[t]};t.prototype.ensureState=function(t){var e=this.states;if(!e[t]){e[t]={}}return e[t]};t.prototype.clearStates=function(t){this.useState(vn,false,t)};t.prototype.useState=function(t,e,r,i){var a=t===vn;var n=this.hasState();if(!n&&a){return}var o=this.currentStates;var s=this.stateTransition;if(W(o,t)>=0&&(e||o.length===1)){return}var l;if(this.stateProxy&&!a){l=this.stateProxy(t)}if(!l){l=this.states&&this.states[t]}if(!l&&!a){E("State "+t+" not exists.");return}if(!a){this.saveCurrentToNormalState(l)}var u=!!(l&&l.hoverLayer||i);if(u){this._toggleHoverLayerFlag(true)}this._applyStateObj(t,l,this._normalState,e,!r&&!this.__inHover&&s&&s.duration>0,s);var f=this._textContent;var h=this._textGuide;if(f){f.useState(t,e,r,u)}if(h){h.useState(t,e,r,u)}if(a){this.currentStates=[];this._normalState={}}else{if(!e){this.currentStates=[t]}else{this.currentStates.push(t)}}this._updateAnimationTargets();this.markRedraw();if(!u&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~xr}return l};t.prototype.useStates=function(t,e,r){if(!t.length){this.clearStates()}else{var i=[];var a=this.currentStates;var n=t.length;var o=n===a.length;if(o){for(var s=0;s<n;s++){if(t[s]!==a[s]){o=false;break}}}if(o){return}for(var s=0;s<n;s++){var l=t[s];var u=void 0;if(this.stateProxy){u=this.stateProxy(l,t)}if(!u){u=this.states[l]}if(u){i.push(u)}}var f=i[n-1];var h=!!(f&&f.hoverLayer||r);if(h){this._toggleHoverLayerFlag(true)}var c=this._mergeStates(i);var v=this.stateTransition;this.saveCurrentToNormalState(c);this._applyStateObj(t.join(","),c,this._normalState,false,!e&&!this.__inHover&&v&&v.duration>0,v);var d=this._textContent;var p=this._textGuide;if(d){d.useStates(t,e,h)}if(p){p.useStates(t,e,h)}this._updateAnimationTargets();this.currentStates=t.slice();this.markRedraw();if(!h&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~xr}}};t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];if(e.targetName){e.changeTarget(this[e.targetName])}}};t.prototype.removeState=function(t){var e=W(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1);this.useStates(r)}};t.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice();var a=W(i,t);var n=W(i,e)>=0;if(a>=0){if(!n){i[a]=e}else{i.splice(a,1)}}else if(r&&!n){i.push(e)}this.useStates(i)};t.prototype.toggleState=function(t,e){if(e){this.useState(t,true)}else{this.removeState(t)}};t.prototype._mergeStates=function(t){var e={};var r;for(var i=0;i<t.length;i++){var a=t[i];F(e,a);if(a.textConfig){r=r||{};F(r,a.textConfig)}}if(r){e.textConfig=r}return e};t.prototype._applyStateObj=function(t,e,r,i,a,n){var o=!(e&&i);if(e&&e.textConfig){this.textConfig=F({},i?this.textConfig:r.textConfig);F(this.textConfig,e.textConfig)}else if(o){if(r.textConfig){this.textConfig=r.textConfig}}var s={};var l=false;for(var u=0;u<dn.length;u++){var f=dn[u];var h=a&&pn[f];if(e&&e[f]!=null){if(h){l=true;s[f]=e[f]}else{this[f]=e[f]}}else if(o){if(r[f]!=null){if(h){l=true;s[f]=r[f]}else{this[f]=r[f]}}}}if(!a){for(var u=0;u<this.animators.length;u++){var c=this.animators[u];var v=c.targetName;if(!c.getLoop()){c.__changeFinalValue(v?(e||r)[v]:e||r)}}}if(l){this._transitionState(t,s,n)}};t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget){return}if(t===this){return}var e=this.__zr;if(e){t.addSelfToZr(e)}t.__zr=e;t.__hostTarget=this};t.prototype._detachComponent=function(t){if(t.__zr){t.removeSelfFromZr(t.__zr)}t.__zr=null;t.__hostTarget=null};t.prototype.getClipPath=function(){return this._clipPath};t.prototype.setClipPath=function(t){if(this._clipPath&&this._clipPath!==t){this.removeClipPath()}this._attachComponent(t);this._clipPath=t;this.markRedraw()};t.prototype.removeClipPath=function(){var t=this._clipPath;if(t){this._detachComponent(t);this._clipPath=null;this.markRedraw()}};t.prototype.getTextContent=function(){return this._textContent};t.prototype.setTextContent=function(t){var e=this._textContent;if(e===t){return}if(e&&e!==t){this.removeTextContent()}t.innerTransformable=new tn;this._attachComponent(t);this._textContent=t;this.markRedraw()};t.prototype.setTextConfig=function(t){if(!this.textConfig){this.textConfig={}}F(this.textConfig,t);this.markRedraw()};t.prototype.removeTextConfig=function(){this.textConfig=null;this.markRedraw()};t.prototype.removeTextContent=function(){var t=this._textContent;if(t){t.innerTransformable=null;this._detachComponent(t);this._textContent=null;this._innerTextDefaultStyle=null;this.markRedraw()}};t.prototype.getTextGuideLine=function(){return this._textGuide};t.prototype.setTextGuideLine=function(t){if(this._textGuide&&this._textGuide!==t){this.removeTextGuideLine()}this._attachComponent(t);this._textGuide=t;this.markRedraw()};t.prototype.removeTextGuideLine=function(){var t=this._textGuide;if(t){this._detachComponent(t);this._textGuide=null;this.markRedraw()}};t.prototype.markRedraw=function(){this.__dirty|=xr;var t=this.__zr;if(t){if(this.__inHover){t.refreshHover()}else{t.refresh()}}if(this.__hostTarget){this.__hostTarget.markRedraw()}};t.prototype.dirty=function(){this.markRedraw()};t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent;var r=this._textGuide;if(e){e.__inHover=t}if(r){r.__inHover=t}};t.prototype.addSelfToZr=function(t){if(this.__zr===t){return}this.__zr=t;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.addAnimator(e[r])}}if(this._clipPath){this._clipPath.addSelfToZr(t)}if(this._textContent){this._textContent.addSelfToZr(t)}if(this._textGuide){this._textGuide.addSelfToZr(t)}};t.prototype.removeSelfFromZr=function(t){if(!this.__zr){return}this.__zr=null;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.removeAnimator(e[r])}}if(this._clipPath){this._clipPath.removeSelfFromZr(t)}if(this._textContent){this._textContent.removeSelfFromZr(t)}if(this._textGuide){this._textGuide.removeSelfFromZr(t)}};t.prototype.animate=function(t,e,r){var i=t?this[t]:this;var a=new _a(i,e,r);t&&(a.targetName=t);this.addAnimator(a,t);return a};t.prototype.addAnimator=function(t,e){var r=this.__zr;var i=this;t.during((function(){i.updateDuringAnimation(e)})).done((function(){var e=i.animators;var r=W(e,t);if(r>=0){e.splice(r,1)}}));this.animators.push(t);if(r){r.animation.addAnimator(t)}r&&r.wakeUp()};t.prototype.updateDuringAnimation=function(t){this.markRedraw()};t.prototype.stopAnimation=function(t,e){var r=this.animators;var i=r.length;var a=[];for(var n=0;n<i;n++){var o=r[n];if(!t||t===o.scope){o.stop(e)}else{a.push(o)}}this.animators=a;return this};t.prototype.animateTo=function(t,e,r){_n(this,t,e,r)};t.prototype.animateFrom=function(t,e,r){_n(this,t,e,r,true)};t.prototype._transitionState=function(t,e,r,i){var a=_n(this,e,r,i);for(var n=0;n<a.length;n++){a[n].__fromStateTransition=t}};t.prototype.getBoundingRect=function(){return null};t.prototype.getPaintRect=function(){return null};t.initDefaultProps=function(){var e=t.prototype;e.type="element";e.name="";e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=false;e.__dirty=xr;function r(t,r,i,a){Object.defineProperty(e,t,{get:function(){if(!this[r]){var t=this[r]=[];n(this,t)}return this[r]},set:function(t){this[i]=t[0];this[a]=t[1];this[r]=t;n(this,t)}});function n(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}});Object.defineProperty(e,1,{get:function(){return t[a]},set:function(e){t[a]=e}})}}if(Object.defineProperty){r("position","_legacyPos","x","y");r("scale","_legacyScale","scaleX","scaleY");r("origin","_legacyOrigin","originX","originY")}}();return t}();Y(mn,ae);Y(mn,tn);function _n(t,e,r,i,a){r=r||{};var n=[];In(t,"",t,e,r,i,n,a);var o=n.length;var s=false;var l=r.done;var u=r.aborted;var f=function(){s=true;o--;if(o<=0){s?l&&l():u&&u()}};var h=function(){o--;if(o<=0){s?l&&l():u&&u()}};if(!o){l&&l()}if(n.length>0&&r.during){n[0].during((function(t,e){r.during(e)}))}for(var c=0;c<n.length;c++){var v=n[c];if(f){v.done(f)}if(h){v.aborted(h)}if(r.force){v.duration(r.duration)}v.start(r.easing)}return n}function xn(t,e,r){for(var i=0;i<r;i++){t[i]=e[i]}}function wn(t){return U(t[0])}function bn(t,e,r){if(U(e[r])){if(!U(t[r])){t[r]=[]}if(lt(e[r])){var i=e[r].length;if(t[r].length!==i){t[r]=new e[r].constructor(i);xn(t[r],e[r],i)}}else{var a=e[r];var n=t[r];var o=a.length;if(wn(a)){var s=a[0].length;for(var l=0;l<o;l++){if(!n[l]){n[l]=Array.prototype.slice.call(a[l])}else{xn(n[l],a[l],s)}}}else{xn(n,a,o)}n.length=a.length}}else{t[r]=e[r]}}function Sn(t,e){return t===e||U(t)&&U(e)&&Mn(t,e)}function Mn(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){if(t[i]!==e[i]){return false}}return true}function In(t,e,r,i,a,n,o,s){var l=$(i);var u=a.duration;var f=a.delay;var h=a.additive;var c=a.setToFinal;var v=!ot(n);var d=t.animators;var p=[];for(var g=0;g<l.length;g++){var y=l[g];var m=i[y];if(m!=null&&r[y]!=null&&(v||n[y])){if(ot(m)&&!U(m)&&!ft(m)){if(e){if(!s){r[y]=m;t.updateDuringAnimation(e)}continue}In(t,y,r[y],m,a,n&&n[y],o,s)}else{p.push(y)}}else if(!s){r[y]=m;t.updateDuringAnimation(e);p.push(y)}}var _=p.length;if(!h&&_){for(var x=0;x<d.length;x++){var w=d[x];if(w.targetName===e){var b=w.stopTracks(p);if(b){var S=W(d,w);d.splice(S,1)}}}}if(!a.force){p=q(p,(function(t){return!Sn(i[t],r[t])}));_=p.length}if(_>0||a.force&&!o.length){var M=void 0;var I=void 0;var T=void 0;if(s){I={};if(c){M={}}for(var x=0;x<_;x++){var y=p[x];I[y]=r[y];if(c){M[y]=i[y]}else{r[y]=i[y]}}}else if(c){T={};for(var x=0;x<_;x++){var y=p[x];T[y]=na(r[y]);bn(r,i,y)}}var w=new _a(r,false,false,h?q(d,(function(t){return t.targetName===e})):null);w.targetName=e;if(a.scope){w.scope=a.scope}if(c&&M){w.whenWithKeys(0,M,p)}if(T){w.whenWithKeys(0,T,p)}w.whenWithKeys(u==null?500:u,s?I:i,p).delay(f||0);t.addAnimator(w,e);o.push(w)}}var Tn=function(t){Et(e,t);function e(e){var r=t.call(this)||this;r.isGroup=true;r._children=[];r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.children=function(){return this._children.slice()};e.prototype.childAt=function(t){return this._children[t]};e.prototype.childOfName=function(t){var e=this._children;for(var r=0;r<e.length;r++){if(e[r].name===t){return e[r]}}};e.prototype.childCount=function(){return this._children.length};e.prototype.add=function(t){if(t){if(t!==this&&t.parent!==this){this._children.push(t);this._doAdd(t)}}return this};e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children;var i=r.indexOf(e);if(i>=0){r.splice(i,0,t);this._doAdd(t)}}return this};e.prototype.replace=function(t,e){var r=W(this._children,t);if(r>=0){this.replaceAt(e,r)}return this};e.prototype.replaceAt=function(t,e){var r=this._children;var i=r[e];if(t&&t!==this&&t.parent!==this&&t!==i){r[e]=t;i.parent=null;var a=this.__zr;if(a){i.removeSelfFromZr(a)}this._doAdd(t)}return this};e.prototype._doAdd=function(t){if(t.parent){t.parent.remove(t)}t.parent=this;var e=this.__zr;if(e&&e!==t.__zr){t.addSelfToZr(e)}e&&e.refresh()};e.prototype.remove=function(t){var e=this.__zr;var r=this._children;var i=W(r,t);if(i<0){return this}r.splice(i,1);t.parent=null;if(e){t.removeSelfFromZr(e)}e&&e.refresh();return this};e.prototype.removeAll=function(){var t=this._children;var e=this.__zr;for(var r=0;r<t.length;r++){var i=t[r];if(e){i.removeSelfFromZr(e)}i.parent=null}t.length=0;return this};e.prototype.eachChild=function(t,e){var r=this._children;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,a,i)}return this};e.prototype.traverse=function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];var a=t.call(e,i);if(i.isGroup&&!a){i.traverse(t,e)}}return this};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(e)}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(e)}};e.prototype.getBoundingRect=function(t){var e=new Je(0,0,0,0);var r=t||this._children;var i=[];var a=null;for(var n=0;n<r.length;n++){var o=r[n];if(o.ignore||o.invisible){continue}var s=o.getBoundingRect();var l=o.getLocalTransform(i);if(l){Je.applyTransform(e,s,l);a=a||e.clone();a.union(e)}else{a=a||s.clone();a.union(s)}}return a||e};return e}(mn);Tn.prototype.type="group";
/*!
            * ZRender, a high performance 2d drawing library.
            *
            * Copyright (c) 2013, Baidu Inc.
            * All rights reserved.
            *
            * LICENSE
            * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
            */var Dn={};var Cn={};function An(t){delete Cn[t]}function kn(t){if(!t){return false}if(typeof t==="string"){return Ai(t,1)<Ha}else if(t.colorStops){var e=t.colorStops;var r=0;var i=e.length;for(var a=0;a<i;a++){r+=Ai(e[a].color,1)}r/=i;return r<Ha}return false}var Ln=function(){function t(t,e,r){var i=this;this._sleepAfterStill=10;this._stillFrameAccum=0;this._needsRefresh=true;this._needsRefreshHover=true;this._darkMode=false;r=r||{};this.dom=e;this.id=t;var a=new Tr;var n=r.renderer||"canvas";if(!Dn[n]){n=$(Dn)[0]}r.useDirtyRect=r.useDirtyRect==null?false:r.useDirtyRect;var o=new Dn[n](e,a,r,t);var s=r.ssr||o.ssrOnly;this.storage=a;this.painter=o;var l=!c.node&&!c.worker&&!s?new Fa(o.getViewportRoot(),o.root):null;var u=r.useCoarsePointer;var f=u==null||u==="auto"?c.touchEventsSupported:!!u;var h=44;var v;if(f){v=pt(r.pointerSize,h)}this.handler=new or(a,o,l,o.root,v);this.animation=new wa({stage:{update:s?null:function(){return i._flush(true)}}});if(!s){this.animation.start()}}t.prototype.add=function(t){if(!t){return}this.storage.addRoot(t);t.addSelfToZr(this);this.refresh()};t.prototype.remove=function(t){if(!t){return}this.storage.delRoot(t);t.removeSelfFromZr(this);this.refresh()};t.prototype.configLayer=function(t,e){if(this.painter.configLayer){this.painter.configLayer(t,e)}this.refresh()};t.prototype.setBackgroundColor=function(t){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(t)}this.refresh();this._backgroundColor=t;this._darkMode=kn(t)};t.prototype.getBackgroundColor=function(){return this._backgroundColor};t.prototype.setDarkMode=function(t){this._darkMode=t};t.prototype.isDarkMode=function(){return this._darkMode};t.prototype.refreshImmediately=function(t){if(!t){this.animation.update(true)}this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false};t.prototype.refresh=function(){this._needsRefresh=true;this.animation.start()};t.prototype.flush=function(){this._flush(false)};t.prototype._flush=function(t){var e;var r=xa();if(this._needsRefresh){e=true;this.refreshImmediately(t)}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}var i=xa();if(e){this._stillFrameAccum=0;this.trigger("rendered",{elapsedTime:i-r})}else if(this._sleepAfterStill>0){this._stillFrameAccum++;if(this._stillFrameAccum>this._sleepAfterStill){this.animation.stop()}}};t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t};t.prototype.wakeUp=function(){this.animation.start();this._stillFrameAccum=0};t.prototype.refreshHover=function(){this._needsRefreshHover=true};t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=false;if(this.painter.refreshHover&&this.painter.getType()==="canvas"){this.painter.refreshHover()}};t.prototype.resize=function(t){t=t||{};this.painter.resize(t.width,t.height);this.handler.resize()};t.prototype.clearAnimation=function(){this.animation.clear()};t.prototype.getWidth=function(){return this.painter.getWidth()};t.prototype.getHeight=function(){return this.painter.getHeight()};t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)};t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)};t.prototype.on=function(t,e,r){this.handler.on(t,e,r);return this};t.prototype.off=function(t,e){this.handler.off(t,e)};t.prototype.trigger=function(t,e){this.handler.trigger(t,e)};t.prototype.clear=function(){var t=this.storage.getRoots();for(var e=0;e<t.length;e++){if(t[e]instanceof Tn){t[e].removeSelfFromZr(this)}}this.storage.delAllRoots();this.painter.clear()};t.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;An(this.id)};return t}();function Pn(t,e){var r=new Ln(R(),t,e);Cn[r.id]=r;return r}function On(t,e){Dn[t]=e}var Nn=1e-4;var Rn=20;function En(t){return t.replace(/^\s+|\s+$/g,"")}function zn(t,e,r,i){var a=e[0];var n=e[1];var o=r[0];var s=r[1];var l=n-a;var u=s-o;if(l===0){return u===0?o:(o+s)/2}if(i){if(l>0){if(t<=a){return o}else if(t>=n){return s}}else{if(t>=a){return o}else if(t<=n){return s}}}else{if(t===a){return o}if(t===n){return s}}return(t-a)/l*u+o}function Vn(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}if(it(t)){if(En(t).match(/%$/)){return parseFloat(t)/100*e}return parseFloat(t)}return t==null?NaN:+t}function Bn(t,e,r){if(e==null){e=10}e=Math.min(Math.max(0,e),Rn);t=(+t).toFixed(e);return r?t:+t}function Fn(t){t.sort((function(t,e){return t-e}));return t}function Gn(t){t=+t;if(isNaN(t)){return 0}if(t>1e-14){var e=1;for(var r=0;r<15;r++,e*=10){if(Math.round(t*e)/e===t){return r}}}return Wn(t)}function Wn(t){var e=t.toString().toLowerCase();var r=e.indexOf("e");var i=r>0?+e.slice(r+1):0;var a=r>0?r:e.length;var n=e.indexOf(".");var o=n<0?0:a-1-n;return Math.max(0,o-i)}function Hn(t,e){var r=Math.log;var i=Math.LN10;var a=Math.floor(r(t[1]-t[0])/i);var n=Math.round(r(Math.abs(e[1]-e[0]))/i);var o=Math.min(Math.max(-a+n,0),20);return!isFinite(o)?20:o}function Yn(t,e){var r=j(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(r===0){return[]}var i=Math.pow(10,e);var a=Z(t,(function(t){return(isNaN(t)?0:t)/r*i*100}));var n=i*100;var o=Z(a,(function(t){return Math.floor(t)}));var s=j(o,(function(t,e){return t+e}),0);var l=Z(a,(function(t,e){return t-o[e]}));while(s<n){var u=Number.NEGATIVE_INFINITY;var f=null;for(var h=0,c=l.length;h<c;++h){if(l[h]>u){u=l[h];f=h}}++o[f];l[f]=0;++s}return Z(o,(function(t){return t/i}))}function Un(t,e){var r=Math.max(Gn(t),Gn(e));var i=t+e;return r>Rn?i:Bn(i,r)}var Xn=9007199254740991;function Zn(t){var e=Math.PI*2;return(t%e+e)%e}function jn(t){return t>-Nn&&t<Nn}var qn=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Kn(t){if(t instanceof Date){return t}else if(it(t)){var e=qn.exec(t);if(!e){return new Date(NaN)}if(!e[8]){return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else{var r=+e[4]||0;if(e[8].toUpperCase()!=="Z"){r-=+e[8].slice(0,3)}return new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}}else if(t==null){return new Date(NaN)}return new Date(Math.round(t))}function $n(t){return Math.pow(10,Jn(t))}function Jn(t){if(t===0){return 0}var e=Math.floor(Math.log(t)/Math.LN10);if(t/Math.pow(10,e)>=10){e++}return e}function Qn(t,e){var r=Jn(t);var i=Math.pow(10,r);var a=t/i;var n;if(e){if(a<1.5){n=1}else if(a<2.5){n=2}else if(a<4){n=3}else if(a<7){n=5}else{n=10}}else{if(a<1){n=1}else if(a<2){n=2}else if(a<3){n=3}else if(a<5){n=5}else{n=10}}t=n*i;return r>=-20?+t.toFixed(r<0?-r:0):t}function to(t,e){var r=(t.length-1)*e+1;var i=Math.floor(r);var a=+t[i-1];var n=r-i;return n?a+n*(t[i]-a):a}function eo(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));var e=-Infinity;var r=1;for(var i=0;i<t.length;){var a=t[i].interval;var n=t[i].close;for(var o=0;o<2;o++){if(a[o]<=e){a[o]=e;n[o]=!o?1-r:1}e=a[o];r=n[o]}if(a[0]===a[1]&&n[0]*n[1]!==1){t.splice(i,1)}else{i++}}return t;function s(t,e,r){return t.interval[r]<e.interval[r]||t.interval[r]===e.interval[r]&&(t.close[r]-e.close[r]===(!r?1:-1)||!r&&s(t,e,1))}}function ro(t){var e=parseFloat(t);return e==t&&(e!==0||!it(t)||t.indexOf("x")<=0)?e:NaN}function io(t){return!isNaN(ro(t))}function ao(){return Math.round(Math.random()*9)}function no(t,e){if(e===0){return t}return no(e,t%e)}function oo(t,e){if(t==null){return e}if(e==null){return t}return t*e/no(t,e)}var so="[ECharts] ";var lo={};var uo=typeof console!=="undefined"&&console.warn&&console.log;function fo(t,e,r){if(uo){if(r){if(lo[e]){return}lo[e]=true}console[t](so+e)}}function ho(t,e){fo("warn",t,e)}function co(t){throw new Error(t)}function vo(t,e,r){return(e-t)*r+t}var po="series\0";var go="\0_ec_\0";function yo(t){return t instanceof Array?t:t==null?[]:[t]}function mo(t,e,r){if(t){t[e]=t[e]||{};t.emphasis=t.emphasis||{};t.emphasis[e]=t.emphasis[e]||{};for(var i=0,a=r.length;i<a;i++){var n=r[i];if(!t.emphasis[e].hasOwnProperty(n)&&t[e].hasOwnProperty(n)){t.emphasis[e][n]=t[e][n]}}}}var _o=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function xo(t){return ot(t)&&!et(t)&&!(t instanceof Date)?t.value:t}function wo(t){return ot(t)&&!(t instanceof Array)}function bo(t,e,r){var i=r==="normalMerge";var a=r==="replaceMerge";var n=r==="replaceAll";t=t||[];e=(e||[]).slice();var o=Ct();X(e,(function(t,r){if(!ot(t)){e[r]=null;return}}));var s=So(t,o,r);if(i||a){Mo(s,t,o,e)}if(i){Io(s,e)}if(i||a){To(s,e,a)}else if(n){Do(s,e)}Co(s);return s}function So(t,e,r){var i=[];if(r==="replaceAll"){return i}for(var a=0;a<t.length;a++){var n=t[a];if(n&&n.id!=null){e.set(n.id,a)}i.push({existing:r==="replaceMerge"||Oo(n)?null:n,newOption:null,keyInfo:null,brandNew:null})}return i}function Mo(t,e,r,i){X(i,(function(a,n){if(!a||a.id==null){return}var o=ko(a.id);var s=r.get(o);if(s!=null){var l=t[s];_t(!l.newOption,'Duplicated option on id "'+o+'".');l.newOption=a;l.existing=e[s];i[n]=null}}))}function Io(t,e){X(e,(function(r,i){if(!r||r.name==null){return}for(var a=0;a<t.length;a++){var n=t[a].existing;if(!t[a].newOption&&n&&(n.id==null||r.id==null)&&!Oo(r)&&!Oo(n)&&Ao("name",n,r)){t[a].newOption=r;e[i]=null;return}}}))}function To(t,e,r){X(e,(function(e){if(!e){return}var i;var a=0;while((i=t[a])&&(i.newOption||Oo(i.existing)||i.existing&&e.id!=null&&!Ao("id",e,i.existing))){a++}if(i){i.newOption=e;i.brandNew=r}else{t.push({newOption:e,brandNew:r,existing:null,keyInfo:null})}a++}))}function Do(t,e){X(e,(function(e){t.push({newOption:e,brandNew:true,existing:null,keyInfo:null})}))}function Co(t){var e=Ct();X(t,(function(t){var r=t.existing;r&&e.set(r.id,t)}));X(t,(function(t){var r=t.newOption;_t(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id));r&&r.id!=null&&e.set(r.id,t);!t.keyInfo&&(t.keyInfo={})}));X(t,(function(t,r){var i=t.existing;var a=t.newOption;var n=t.keyInfo;if(!ot(a)){return}n.name=a.name!=null?ko(a.name):i?i.name:po+r;if(i){n.id=ko(i.id)}else if(a.id!=null){n.id=ko(a.id)}else{var o=0;do{n.id="\0"+n.name+"\0"+o++}while(e.get(n.id))}e.set(n.id,t)}))}function Ao(t,e,r){var i=Lo(e[t],null);var a=Lo(r[t],null);return i!=null&&a!=null&&i===a}function ko(t){return Lo(t,"")}function Lo(t,e){if(t==null){return e}return it(t)?t:nt(t)||at(t)?t+"":e}function Po(t){var e=t.name;return!!(e&&e.indexOf(po))}function Oo(t){return t&&t.id!=null&&ko(t.id).indexOf(go)===0}function No(t){return go+t}function Ro(t,e,r){X(t,(function(t){var i=t.newOption;if(ot(i)){t.keyInfo.mainType=e;t.keyInfo.subType=Eo(e,i,t.existing,r)}}))}function Eo(t,e,r,i){var a=e.type?e.type:r?r.subType:i.determineSubType(t,e);return a}function zo(t,e){var r={};var i={};a(t||[],r);a(e||[],i,r);return[n(r),n(i)];function a(t,e,r){for(var i=0,a=t.length;i<a;i++){var n=Lo(t[i].seriesId,null);if(n==null){return}var o=yo(t[i].dataIndex);var s=r&&r[n];for(var l=0,u=o.length;l<u;l++){var f=o[l];if(s&&s[f]){s[f]=null}else{(e[n]||(e[n]={}))[f]=1}}}}function n(t,e){var r=[];for(var i in t){if(t.hasOwnProperty(i)&&t[i]!=null){if(e){r.push(+i)}else{var a=n(t[i],true);a.length&&r.push({seriesId:i,dataIndex:a})}}}return r}}function Vo(t,e){if(e.dataIndexInside!=null){return e.dataIndexInside}else if(e.dataIndex!=null){return et(e.dataIndex)?Z(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex)}else if(e.name!=null){return et(e.name)?Z(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name)}}function Bo(){var t="__ec_inner_"+Fo++;return function(e){return e[t]||(e[t]={})}}var Fo=ao();function Go(t,e,r){var i=Wo(e,r),a=i.mainTypeSpecified,n=i.queryOptionMap,o=i.others;var s=o;var l=r?r.defaultMainType:null;if(!a&&l){n.set(l,{})}n.each((function(e,i){var a=Uo(t,i,e,{useDefault:l===i,enableAll:r&&r.enableAll!=null?r.enableAll:true,enableNone:r&&r.enableNone!=null?r.enableNone:true});s[i+"Models"]=a.models;s[i+"Model"]=a.models[0]}));return s}function Wo(t,e){var r;if(it(t)){var i={};i[t+"Index"]=0;r=i}else{r=t}var a=Ct();var n={};var o=false;X(r,(function(t,r){if(r==="dataIndex"||r==="dataIndexInside"){n[r]=t;return}var i=r.match(/^(\w+)(Index|Id|Name)$/)||[];var s=i[1];var l=(i[2]||"").toLowerCase();if(!s||!l||e&&e.includeMainTypes&&W(e.includeMainTypes,s)<0){return}o=o||!!s;var u=a.get(s)||a.set(s,{});u[l]=t}));return{mainTypeSpecified:o,queryOptionMap:a,others:n}}var Ho={useDefault:true,enableAll:false,enableNone:false};var Yo={useDefault:false,enableAll:true,enableNone:true};function Uo(t,e,r,i){i=i||Ho;var a=r.index;var n=r.id;var o=r.name;var s={models:null,specified:a!=null||n!=null||o!=null};if(!s.specified){var l=void 0;s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[];return s}if(a==="none"||a===false){_t(i.enableNone,'`"none"` or `false` is not a valid value on index option.');s.models=[];return s}if(a==="all"){_t(i.enableAll,'`"all"` is not a valid value on index option.');a=n=o=null}s.models=t.queryComponents({mainType:e,index:a,id:n,name:o});return s}function Xo(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Zo(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function jo(t){if(t==="auto"){return c.domSupported?"html":"richText"}else{return t||"html"}}function qo(t,e){var r=Ct();var i=[];X(t,(function(t){var a=e(t);(r.get(a)||(i.push(a),r.set(a,[]))).push(t)}));return{keys:i,buckets:r}}function Ko(t,e,r,i,a){var n=e==null||e==="auto";if(i==null){return i}if(nt(i)){var o=vo(r||0,i,a);return Bn(o,n?Math.max(Gn(r||0),Gn(i)):e)}else if(it(i)){return a<1?r:i}else{var s=[];var l=r;var u=i;var f=Math.max(l?l.length:0,u.length);for(var h=0;h<f;++h){var c=t.getDimensionInfo(h);if(c&&c.type==="ordinal"){s[h]=(a<1&&l?l:u)[h]}else{var v=l&&l[h]?l[h]:0;var d=u[h];var o=vo(v,d,a);s[h]=Bn(o,n?Math.max(Gn(v),Gn(d)):e)}}return s}}var $o=".";var Jo="___EC__COMPONENT__CONTAINER___";var Qo="___EC__EXTENDED_CLASS___";function ts(t){var e={main:"",sub:""};if(t){var r=t.split($o);e.main=r[0]||"";e.sub=r[1]||""}return e}function es(t){_t(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function rs(t){return!!(t&&t[Qo])}function is(t,e){t.$constructor=t;t.extend=function(t){var e=this;var r;if(as(e)){r=function(t){u(e,t);function e(){return t.apply(this,arguments)||this}return e}(e)}else{r=function(){(t.$constructor||e).apply(this,arguments)};H(r,this)}F(r.prototype,t);r[Qo]=true;r.extend=this.extend;r.superCall=ls;r.superApply=us;r.superClass=e;return r}}function as(t){return rt(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function ns(t,e){t.extend=e.extend}var os=Math.round(Math.random()*10);function ss(t){var e=["__\0is_clz",os++].join("_");t.prototype[e]=true;t.isInstance=function(t){return!!(t&&t[e])}}function ls(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return this.superClass.prototype[e].apply(t,r)}function us(t,e,r){return this.superClass.prototype[e].apply(t,r)}function fs(t){var e={};t.registerClass=function(t){var i=t.type||t.prototype.type;if(i){es(i);t.prototype.type=i;var a=ts(i);if(!a.sub){e[a.main]=t}else if(a.sub!==Jo){var n=r(a);n[a.sub]=t}}return t};t.getClass=function(t,r,i){var a=e[t];if(a&&a[Jo]){a=r?a[r]:null}if(i&&!a){throw new Error(!r?t+"."+"type should be specified.":"Component "+t+"."+(r||"")+" is used but not imported.")}return a};t.getClassesByMainType=function(t){var r=ts(t);var i=[];var a=e[r.main];if(a&&a[Jo]){X(a,(function(t,e){e!==Jo&&i.push(t)}))}else{i.push(a)}return i};t.hasClass=function(t){var r=ts(t);return!!e[r.main]};t.getAllClassMainTypes=function(){var t=[];X(e,(function(e,r){t.push(r)}));return t};t.hasSubTypes=function(t){var r=ts(t);var i=e[r.main];return i&&i[Jo]};function r(t){var r=e[t.main];if(!r||!r[Jo]){r=e[t.main]={};r[Jo]=true}return r}}function hs(t,e){for(var r=0;r<t.length;r++){if(!t[r][1]){t[r][1]=t[r][0]}}e=e||false;return function(r,i,a){var n={};for(var o=0;o<t.length;o++){var s=t[o][1];if(i&&W(i,s)>=0||a&&W(a,s)<0){continue}var l=r.getShallow(s,e);if(l!=null){n[t[o][0]]=l}}return n}}var cs=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var vs=hs(cs);var ds=function(){function t(){}t.prototype.getAreaStyle=function(t,e){return vs(this,t,e)};return t}();var ps=new oi(50);function gs(t){if(typeof t==="string"){var e=ps.get(t);return e&&e.image}else{return t}}function ys(t,e,r,i,a){if(!t){return e}else if(typeof t==="string"){if(e&&e.__zrImageSrc===t||!r){return e}var n=ps.get(t);var o={hostEl:r,cb:i,cbPayload:a};if(n){e=n.image;!_s(e)&&n.pending.push(o)}else{e=b.loadImage(t,ms,ms);e.__zrImageSrc=t;ps.put(t,e.__cachedImgObj={image:e,pending:[o]})}return e}else{return t}}function ms(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e];var i=r.cb;i&&i(this,r.cbPayload);r.hostEl.dirty()}t.pending.length=0}function _s(t){return t&&t.width&&t.height}var xs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function ws(t,e,r,i,a){if(!e){return""}var n=(t+"").split("\n");a=bs(e,r,i,a);for(var o=0,s=n.length;o<s;o++){n[o]=Ss(n[o],a)}return n.join("\n")}function bs(t,e,r,i){i=i||{};var a=F({},i);a.font=e;r=pt(r,"...");a.maxIterations=pt(i.maxIterations,2);var n=a.minChar=pt(i.minChar,0);a.cnCharWidth=nn("",e);var o=a.ascCharWidth=nn("a",e);a.placeholder=pt(i.placeholder,"");var s=t=Math.max(0,t-1);for(var l=0;l<n&&s>=o;l++){s-=o}var u=nn(r,e);if(u>s){r="";u=0}s=t-u;a.ellipsis=r;a.ellipsisWidth=u;a.contentWidth=s;a.containerWidth=t;return a}function Ss(t,e){var r=e.containerWidth;var i=e.font;var a=e.contentWidth;if(!r){return""}var n=nn(t,i);if(n<=r){return t}for(var o=0;;o++){if(n<=a||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?Ms(t,a,e.ascCharWidth,e.cnCharWidth):n>0?Math.floor(t.length*a/n):0;t=t.substr(0,s);n=nn(t,i)}if(t===""){t=e.placeholder}return t}function Ms(t,e,r,i){var a=0;var n=0;for(var o=t.length;n<o&&a<e;n++){var s=t.charCodeAt(n);a+=0<=s&&s<=127?r:i}return n}function Is(t,e){t!=null&&(t+="");var r=e.overflow;var i=e.padding;var a=e.font;var n=r==="truncate";var o=fn(a);var s=pt(e.lineHeight,o);var l=!!e.backgroundColor;var u=e.lineOverflow==="truncate";var f=e.width;var h;if(f!=null&&(r==="break"||r==="breakAll")){h=t?Ns(t,e.font,f,r==="breakAll",0).lines:[]}else{h=t?t.split("\n"):[]}var c=h.length*s;var v=pt(e.height,c);if(c>v&&u){var d=Math.floor(v/s);h=h.slice(0,d)}if(t&&n&&f!=null){var p=bs(f,a,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder});for(var g=0;g<h.length;g++){h[g]=Ss(h[g],p)}}var y=v;var m=0;for(var g=0;g<h.length;g++){m=Math.max(nn(h[g],a),m)}if(f==null){f=m}var _=m;if(i){y+=i[0]+i[2];_+=i[1]+i[3];f+=i[1]+i[3]}if(l){_=f}return{lines:h,height:v,outerWidth:_,outerHeight:y,lineHeight:s,calculatedLineHeight:o,contentWidth:m,contentHeight:c,width:f}}var Ts=function(){function t(){}return t}();var Ds=function(){function t(t){this.tokens=[];if(t){this.tokens=t}}return t}();var Cs=function(){function t(){this.width=0;this.height=0;this.contentWidth=0;this.contentHeight=0;this.outerWidth=0;this.outerHeight=0;this.lines=[]}return t}();function As(t,e){var r=new Cs;t!=null&&(t+="");if(!t){return r}var i=e.width;var a=e.height;var n=e.overflow;var o=(n==="break"||n==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:n==="breakAll"}:null;var s=xs.lastIndex=0;var l;while((l=xs.exec(t))!=null){var u=l.index;if(u>s){ks(r,t.substring(s,u),e,o)}ks(r,l[2],e,o,l[1]);s=xs.lastIndex}if(s<t.length){ks(r,t.substring(s,t.length),e,o)}var f=[];var h=0;var c=0;var v=e.padding;var d=n==="truncate";var p=e.lineOverflow==="truncate";function g(t,e,r){t.width=e;t.lineHeight=r;h+=r;c=Math.max(c,e)}t:for(var y=0;y<r.lines.length;y++){var m=r.lines[y];var _=0;var x=0;for(var w=0;w<m.tokens.length;w++){var b=m.tokens[w];var S=b.styleName&&e.rich[b.styleName]||{};var M=b.textPadding=S.padding;var I=M?M[1]+M[3]:0;var T=b.font=S.font||e.font;b.contentHeight=fn(T);var D=pt(S.height,b.contentHeight);b.innerHeight=D;M&&(D+=M[0]+M[2]);b.height=D;b.lineHeight=gt(S.lineHeight,e.lineHeight,D);b.align=S&&S.align||e.align;b.verticalAlign=S&&S.verticalAlign||"middle";if(p&&a!=null&&h+b.lineHeight>a){if(w>0){m.tokens=m.tokens.slice(0,w);g(m,x,_);r.lines=r.lines.slice(0,y+1)}else{r.lines=r.lines.slice(0,y)}break t}var C=S.width;var A=C==null||C==="auto";if(typeof C==="string"&&C.charAt(C.length-1)==="%"){b.percentWidth=C;f.push(b);b.contentWidth=nn(b.text,T)}else{if(A){var k=S.backgroundColor;var L=k&&k.image;if(L){L=gs(L);if(_s(L)){b.width=Math.max(b.width,L.width*D/L.height)}}}var P=d&&i!=null?i-x:null;if(P!=null&&P<b.width){if(!A||P<I){b.text="";b.width=b.contentWidth=0}else{b.text=ws(b.text,P-I,T,e.ellipsis,{minChar:e.truncateMinChar});b.width=b.contentWidth=nn(b.text,T)}}else{b.contentWidth=nn(b.text,T)}}b.width+=I;x+=b.width;S&&(_=Math.max(_,b.lineHeight))}g(m,x,_)}r.outerWidth=r.width=pt(i,c);r.outerHeight=r.height=pt(a,h);r.contentHeight=h;r.contentWidth=c;if(v){r.outerWidth+=v[1]+v[3];r.outerHeight+=v[0]+v[2]}for(var y=0;y<f.length;y++){var b=f[y];var O=b.percentWidth;b.width=parseInt(O,10)/100*r.width}return r}function ks(t,e,r,i,a){var n=e==="";var o=a&&r.rich[a]||{};var s=t.lines;var l=o.font||r.font;var u=false;var f;var h;if(i){var c=o.padding;var v=c?c[1]+c[3]:0;if(o.width!=null&&o.width!=="auto"){var d=hn(o.width,i.width)+v;if(s.length>0){if(d+i.accumWidth>i.width){f=e.split("\n");u=true}}i.accumWidth=d}else{var p=Ns(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=p.accumWidth+v;h=p.linesWidths;f=p.lines}}else{f=e.split("\n")}for(var g=0;g<f.length;g++){var y=f[g];var m=new Ts;m.styleName=a;m.text=y;m.isLineHolder=!y&&!n;if(typeof o.width==="number"){m.width=o.width}else{m.width=h?h[g]:nn(y,l)}if(!g&&!u){var _=(s[s.length-1]||(s[0]=new Ds)).tokens;var x=_.length;x===1&&_[0].isLineHolder?_[0]=m:(y||!x||n)&&_.push(m)}else{s.push(new Ds([m]))}}}function Ls(t){var e=t.charCodeAt(0);return e>=33&&e<=383}var Ps=j(",&?/;] ".split(""),(function(t,e){t[e]=true;return t}),{});function Os(t){if(Ls(t)){if(Ps[t]){return true}return false}return true}function Ns(t,e,r,i,a){var n=[];var o=[];var s="";var l="";var u=0;var f=0;for(var h=0;h<t.length;h++){var c=t.charAt(h);if(c==="\n"){if(l){s+=l;f+=u}n.push(s);o.push(f);s="";l="";u=0;f=0;continue}var v=nn(c,e);var d=i?false:!Os(c);if(!n.length?a+f+v>r:f+v>r){if(!f){if(d){n.push(l);o.push(u);l=c;u=v}else{n.push(c);o.push(v)}}else if(s||l){if(d){if(!s){s=l;l="";u=0;f=u}n.push(s);o.push(f-u);l+=c;u+=v;s="";f=u}else{if(l){s+=l;l="";u=0}n.push(s);o.push(f);s=c;f=v}}continue}f+=v;if(d){l+=c;u+=v}else{if(l){s+=l;l="";u=0}s+=c}}if(!n.length&&!s){s=t;l="";u=0}if(l){s+=l}if(s){n.push(s);o.push(f)}if(n.length===1){f+=a}return{accumWidth:f,lines:n,linesWidths:o}}var Rs="__zr_style_"+Math.round(Math.random()*10);var Es={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"};var zs={style:{shadowBlur:true,shadowOffsetX:true,shadowOffsetY:true,shadowColor:true,opacity:true}};Es[Rs]=true;var Vs=["z","z2","invisible"];var Bs=["invisible"];var Fs=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype._init=function(e){var r=$(e);for(var i=0;i<r.length;i++){var a=r[i];if(a==="style"){this.useStyle(e[a])}else{t.prototype.attrKV.call(this,a,e[a])}}if(!this.style){this.useStyle({})}};e.prototype.beforeBrush=function(){};e.prototype.afterBrush=function(){};e.prototype.innerBeforeBrush=function(){};e.prototype.innerAfterBrush=function(){};e.prototype.shouldBePainted=function(t,e,r,i){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Hs(this,t,e)||a&&!a[0]&&!a[3]){return false}if(r&&this.__clipPaths){for(var n=0;n<this.__clipPaths.length;++n){if(this.__clipPaths[n].isZeroArea()){return false}}}if(i&&this.parent){var o=this.parent;while(o){if(o.ignore){return false}o=o.parent}}return true};e.prototype.contain=function(t,e){return this.rectContain(t,e)};e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.rectContain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();return i.contain(r[0],r[1])};e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform;var r=this.getBoundingRect();var i=this.style;var a=i.shadowBlur||0;var n=i.shadowOffsetX||0;var o=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Je(0,0,0,0));if(e){Je.applyTransform(t,r,e)}else{t.copy(r)}if(a||n||o){t.width+=a*2+Math.abs(n);t.height+=a*2+Math.abs(o);t.x=Math.min(t.x,t.x+n-a);t.y=Math.min(t.y,t.y+o-a)}var s=this.dirtyRectTolerance;if(!t.isZero()){t.x=Math.floor(t.x-s);t.y=Math.floor(t.y-s);t.width=Math.ceil(t.width+1+s*2);t.height=Math.ceil(t.height+1+s*2)}}return t};e.prototype.setPrevPaintRect=function(t){if(t){this._prevPaintRect=this._prevPaintRect||new Je(0,0,0,0);this._prevPaintRect.copy(t)}else{this._prevPaintRect=null}};e.prototype.getPrevPaintRect=function(){return this._prevPaintRect};e.prototype.animateStyle=function(t){return this.animate("style",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e!=="style"){t.prototype.attrKV.call(this,e,r)}else{if(!this.style){this.useStyle(r)}else{this.setStyle(r)}}};e.prototype.setStyle=function(t,e){if(typeof t==="string"){this.style[t]=e}else{F(this.style,t)}this.dirtyStyle();return this};e.prototype.dirtyStyle=function(t){if(!t){this.markRedraw()}this.__dirty|=wr;if(this._rect){this._rect=null}};e.prototype.dirty=function(){this.dirtyStyle()};e.prototype.styleChanged=function(){return!!(this.__dirty&wr)};e.prototype.styleUpdated=function(){this.__dirty&=~wr};e.prototype.createStyle=function(t){return kt(Es,t)};e.prototype.useStyle=function(t){if(!t[Rs]){t=this.createStyle(t)}if(this.__inHover){this.__hoverStyle=t}else{this.style=t}this.dirtyStyle()};e.prototype.isStyleObject=function(t){return t[Rs]};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.style&&!r.style){r.style=this._mergeStyle(this.createStyle(),this.style)}this._savePrimaryToNormal(e,r,Vs)};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.style){if(n){if(a){l=r.style}else{l=this._mergeStyle(this.createStyle(),i.style);this._mergeStyle(l,r.style)}}else{l=this._mergeStyle(this.createStyle(),a?this.style:i.style);this._mergeStyle(l,r.style)}}else if(s){l=i.style}if(l){if(n){var u=this.style;this.style=this.createStyle(s?{}:u);if(s){var f=$(u);for(var h=0;h<f.length;h++){var c=f[h];if(c in l){l[c]=l[c];this.style[c]=u[c]}}}var v=$(l);for(var h=0;h<v.length;h++){var c=v[h];this.style[c]=this.style[c]}this._transitionState(e,{style:l},o,this.getAnimationStyleProps())}else{this.useStyle(l)}}var d=this.__inHover?Bs:Vs;for(var h=0;h<d.length;h++){var c=d[h];if(r&&r[c]!=null){this[c]=r[c]}else if(s){if(i[c]!=null){this[c]=i[c]}}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.style){i=i||{};this._mergeStyle(i,n.style)}}if(i){r.style=i}return r};e.prototype._mergeStyle=function(t,e){F(t,e);return t};e.prototype.getAnimationStyleProps=function(){return zs};e.initDefaultProps=function(){var t=e.prototype;t.type="displayable";t.invisible=false;t.z=0;t.z2=0;t.zlevel=0;t.culling=false;t.cursor="pointer";t.rectHover=false;t.incremental=false;t._rect=null;t.dirtyRectTolerance=0;t.__dirty=xr|wr}();return e}(mn);var Gs=new Je(0,0,0,0);var Ws=new Je(0,0,0,0);function Hs(t,e,r){Gs.copy(t.getBoundingRect());if(t.transform){Gs.applyTransform(t.transform)}Ws.width=e;Ws.height=r;return!Gs.intersect(Ws)}var Ys=Math.min;var Us=Math.max;var Xs=Math.sin;var Zs=Math.cos;var js=Math.PI*2;var qs=zt();var Ks=zt();var $s=zt();function Js(t,e,r){if(t.length===0){return}var i=t[0];var a=i[0];var n=i[0];var o=i[1];var s=i[1];for(var l=1;l<t.length;l++){i=t[l];a=Ys(a,i[0]);n=Us(n,i[0]);o=Ys(o,i[1]);s=Us(s,i[1])}e[0]=a;e[1]=o;r[0]=n;r[1]=s}function Qs(t,e,r,i,a,n){a[0]=Ys(t,r);a[1]=Ys(e,i);n[0]=Us(t,r);n[1]=Us(e,i)}var tl=[];var el=[];function rl(t,e,r,i,a,n,o,s,l,u){var f=Yr;var h=Gr;var c=f(t,r,a,o,tl);l[0]=Infinity;l[1]=Infinity;u[0]=-Infinity;u[1]=-Infinity;for(var v=0;v<c;v++){var d=h(t,r,a,o,tl[v]);l[0]=Ys(d,l[0]);u[0]=Us(d,u[0])}c=f(e,i,n,s,el);for(var v=0;v<c;v++){var p=h(e,i,n,s,el[v]);l[1]=Ys(p,l[1]);u[1]=Us(p,u[1])}l[0]=Ys(t,l[0]);u[0]=Us(t,u[0]);l[0]=Ys(o,l[0]);u[0]=Us(o,u[0]);l[1]=Ys(e,l[1]);u[1]=Us(e,u[1]);l[1]=Ys(s,l[1]);u[1]=Us(s,u[1])}function il(t,e,r,i,a,n,o,s){var l=$r;var u=jr;var f=Us(Ys(l(t,r,a),1),0);var h=Us(Ys(l(e,i,n),1),0);var c=u(t,r,a,f);var v=u(e,i,n,h);o[0]=Ys(t,a,c);o[1]=Ys(e,n,v);s[0]=Us(t,a,c);s[1]=Us(e,n,v)}function al(t,e,r,i,a,n,o,s,l){var u=te;var f=ee;var h=Math.abs(a-n);if(h%js<1e-4&&h>1e-4){s[0]=t-r;s[1]=e-i;l[0]=t+r;l[1]=e+i;return}qs[0]=Zs(a)*r+t;qs[1]=Xs(a)*i+e;Ks[0]=Zs(n)*r+t;Ks[1]=Xs(n)*i+e;u(s,qs,Ks);f(l,qs,Ks);a=a%js;if(a<0){a=a+js}n=n%js;if(n<0){n=n+js}if(a>n&&!o){n+=js}else if(a<n&&o){a+=js}if(o){var c=n;n=a;a=c}for(var v=0;v<n;v+=Math.PI/2){if(v>a){$s[0]=Zs(v)*r+t;$s[1]=Xs(v)*i+e;u(s,$s,s);f(l,$s,l)}}}var nl={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var ol=[];var sl=[];var ll=[];var ul=[];var fl=[];var hl=[];var cl=Math.min;var vl=Math.max;var dl=Math.cos;var pl=Math.sin;var gl=Math.abs;var yl=Math.PI;var ml=yl*2;var _l=typeof Float32Array!=="undefined";var xl=[];function wl(t){var e=Math.round(t/yl*1e8)/1e8;return e%2*yl}function bl(t,e){var r=wl(t[0]);if(r<0){r+=ml}var i=r-t[0];var a=t[1];a+=i;if(!e&&a-r>=ml){a=r+ml}else if(e&&r-a>=ml){a=r-ml}else if(!e&&r>a){a=r+(ml-wl(r-a))}else if(e&&r<a){a=r-(ml-wl(a-r))}t[0]=r;t[1]=a}var Sl=function(){function t(t){this.dpr=1;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._len=0;if(t){this._saveData=false}if(this._saveData){this.data=[]}}t.prototype.increaseVersion=function(){this._version++};t.prototype.getVersion=function(){return this._version};t.prototype.setScale=function(t,e,r){r=r||0;if(r>0){this._ux=gl(r/Wa/t)||0;this._uy=gl(r/Wa/e)||0}};t.prototype.setDPR=function(t){this.dpr=t};t.prototype.setContext=function(t){this._ctx=t};t.prototype.getContext=function(){return this._ctx};t.prototype.beginPath=function(){this._ctx&&this._ctx.beginPath();this.reset();return this};t.prototype.reset=function(){if(this._saveData){this._len=0}if(this._pathSegLen){this._pathSegLen=null;this._pathLen=0}this._version++};t.prototype.moveTo=function(t,e){this._drawPendingPt();this.addData(nl.M,t,e);this._ctx&&this._ctx.moveTo(t,e);this._x0=t;this._y0=e;this._xi=t;this._yi=e;return this};t.prototype.lineTo=function(t,e){var r=gl(t-this._xi);var i=gl(e-this._yi);var a=r>this._ux||i>this._uy;this.addData(nl.L,t,e);if(this._ctx&&a){this._ctx.lineTo(t,e)}if(a){this._xi=t;this._yi=e;this._pendingPtDist=0}else{var n=r*r+i*i;if(n>this._pendingPtDist){this._pendingPtX=t;this._pendingPtY=e;this._pendingPtDist=n}}return this};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._drawPendingPt();this.addData(nl.C,t,e,r,i,a,n);if(this._ctx){this._ctx.bezierCurveTo(t,e,r,i,a,n)}this._xi=a;this._yi=n;return this};t.prototype.quadraticCurveTo=function(t,e,r,i){this._drawPendingPt();this.addData(nl.Q,t,e,r,i);if(this._ctx){this._ctx.quadraticCurveTo(t,e,r,i)}this._xi=r;this._yi=i;return this};t.prototype.arc=function(t,e,r,i,a,n){this._drawPendingPt();xl[0]=i;xl[1]=a;bl(xl,n);i=xl[0];a=xl[1];var o=a-i;this.addData(nl.A,t,e,r,r,i,o,0,n?0:1);this._ctx&&this._ctx.arc(t,e,r,i,a,n);this._xi=dl(a)*r+t;this._yi=pl(a)*r+e;return this};t.prototype.arcTo=function(t,e,r,i,a){this._drawPendingPt();if(this._ctx){this._ctx.arcTo(t,e,r,i,a)}return this};t.prototype.rect=function(t,e,r,i){this._drawPendingPt();this._ctx&&this._ctx.rect(t,e,r,i);this.addData(nl.R,t,e,r,i);return this};t.prototype.closePath=function(){this._drawPendingPt();this.addData(nl.Z);var t=this._ctx;var e=this._x0;var r=this._y0;if(t){t.closePath()}this._xi=e;this._yi=r;return this};t.prototype.fill=function(t){t&&t.fill();this.toStatic()};t.prototype.stroke=function(t){t&&t.stroke();this.toStatic()};t.prototype.len=function(){return this._len};t.prototype.setData=function(t){var e=t.length;if(!(this.data&&this.data.length===e)&&_l){this.data=new Float32Array(e)}for(var r=0;r<e;r++){this.data[r]=t[r]}this._len=e};t.prototype.appendPath=function(t){if(!(t instanceof Array)){t=[t]}var e=t.length;var r=0;var i=this._len;for(var a=0;a<e;a++){r+=t[a].len()}if(_l&&this.data instanceof Float32Array){this.data=new Float32Array(i+r)}for(var a=0;a<e;a++){var n=t[a].data;for(var o=0;o<n.length;o++){this.data[i++]=n[o]}}this._len=i};t.prototype.addData=function(t,e,r,i,a,n,o,s,l){if(!this._saveData){return}var u=this.data;if(this._len+arguments.length>u.length){this._expandData();u=this.data}for(var f=0;f<arguments.length;f++){u[this._len++]=arguments[f]}};t.prototype._drawPendingPt=function(){if(this._pendingPtDist>0){this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY);this._pendingPtDist=0}};t.prototype._expandData=function(){if(!(this.data instanceof Array)){var t=[];for(var e=0;e<this._len;e++){t[e]=this.data[e]}this.data=t}};t.prototype.toStatic=function(){if(!this._saveData){return}this._drawPendingPt();var t=this.data;if(t instanceof Array){t.length=this._len;if(_l&&this._len>11){this.data=new Float32Array(t)}}};t.prototype.getBoundingRect=function(){ll[0]=ll[1]=fl[0]=fl[1]=Number.MAX_VALUE;ul[0]=ul[1]=hl[0]=hl[1]=-Number.MAX_VALUE;var t=this.data;var e=0;var r=0;var i=0;var a=0;var n;for(n=0;n<this._len;){var o=t[n++];var s=n===1;if(s){e=t[n];r=t[n+1];i=e;a=r}switch(o){case nl.M:e=i=t[n++];r=a=t[n++];fl[0]=i;fl[1]=a;hl[0]=i;hl[1]=a;break;case nl.L:Qs(e,r,t[n],t[n+1],fl,hl);e=t[n++];r=t[n++];break;case nl.C:rl(e,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],fl,hl);e=t[n++];r=t[n++];break;case nl.Q:il(e,r,t[n++],t[n++],t[n],t[n+1],fl,hl);e=t[n++];r=t[n++];break;case nl.A:var l=t[n++];var u=t[n++];var f=t[n++];var h=t[n++];var c=t[n++];var v=t[n++]+c;n+=1;var d=!t[n++];if(s){i=dl(c)*f+l;a=pl(c)*h+u}al(l,u,f,h,c,v,d,fl,hl);e=dl(v)*f+l;r=pl(v)*h+u;break;case nl.R:i=e=t[n++];a=r=t[n++];var p=t[n++];var g=t[n++];Qs(i,a,i+p,a+g,fl,hl);break;case nl.Z:e=i;r=a;break}te(ll,ll,fl);ee(ul,ul,hl)}if(n===0){ll[0]=ll[1]=ul[0]=ul[1]=0}return new Je(ll[0],ll[1],ul[0]-ll[0],ul[1]-ll[1])};t.prototype._calculateLength=function(){var t=this.data;var e=this._len;var r=this._ux;var i=this._uy;var a=0;var n=0;var o=0;var s=0;if(!this._pathSegLen){this._pathSegLen=[]}var l=this._pathSegLen;var u=0;var f=0;for(var h=0;h<e;){var c=t[h++];var v=h===1;if(v){a=t[h];n=t[h+1];o=a;s=n}var d=-1;switch(c){case nl.M:a=o=t[h++];n=s=t[h++];break;case nl.L:{var p=t[h++];var g=t[h++];var y=p-a;var m=g-n;if(gl(y)>r||gl(m)>i||h===e-1){d=Math.sqrt(y*y+m*m);a=p;n=g}break}case nl.C:{var _=t[h++];var x=t[h++];var p=t[h++];var g=t[h++];var w=t[h++];var b=t[h++];d=Zr(a,n,_,x,p,g,w,b,10);a=w;n=b;break}case nl.Q:{var _=t[h++];var x=t[h++];var p=t[h++];var g=t[h++];d=ti(a,n,_,x,p,g,10);a=p;n=g;break}case nl.A:var S=t[h++];var M=t[h++];var I=t[h++];var T=t[h++];var D=t[h++];var C=t[h++];var A=C+D;h+=1;var k=!t[h++];if(v){o=dl(D)*I+S;s=pl(D)*T+M}d=vl(I,T)*cl(ml,Math.abs(C));a=dl(A)*I+S;n=pl(A)*T+M;break;case nl.R:{o=a=t[h++];s=n=t[h++];var L=t[h++];var P=t[h++];d=L*2+P*2;break}case nl.Z:{var y=o-a;var m=s-n;d=Math.sqrt(y*y+m*m);a=o;n=s;break}}if(d>=0){l[f++]=d;u+=d}}this._pathLen=u;return u};t.prototype.rebuildPath=function(t,e){var r=this.data;var i=this._ux;var a=this._uy;var n=this._len;var o;var s;var l;var u;var f;var h;var c=e<1;var v;var d;var p=0;var g=0;var y;var m=0;var _;var x;if(c){if(!this._pathSegLen){this._calculateLength()}v=this._pathSegLen;d=this._pathLen;y=e*d;if(!y){return}}t:for(var w=0;w<n;){var b=r[w++];var S=w===1;if(S){l=r[w];u=r[w+1];o=l;s=u}if(b!==nl.L&&m>0){t.lineTo(_,x);m=0}switch(b){case nl.M:o=l=r[w++];s=u=r[w++];t.moveTo(l,u);break;case nl.L:{f=r[w++];h=r[w++];var M=gl(f-l);var I=gl(h-u);if(M>i||I>a){if(c){var T=v[g++];if(p+T>y){var D=(y-p)/T;t.lineTo(l*(1-D)+f*D,u*(1-D)+h*D);break t}p+=T}t.lineTo(f,h);l=f;u=h;m=0}else{var C=M*M+I*I;if(C>m){_=f;x=h;m=C}}break}case nl.C:{var A=r[w++];var k=r[w++];var L=r[w++];var P=r[w++];var O=r[w++];var N=r[w++];if(c){var T=v[g++];if(p+T>y){var D=(y-p)/T;Ur(l,A,L,O,D,ol);Ur(u,k,P,N,D,sl);t.bezierCurveTo(ol[1],sl[1],ol[2],sl[2],ol[3],sl[3]);break t}p+=T}t.bezierCurveTo(A,k,L,P,O,N);l=O;u=N;break}case nl.Q:{var A=r[w++];var k=r[w++];var L=r[w++];var P=r[w++];if(c){var T=v[g++];if(p+T>y){var D=(y-p)/T;Jr(l,A,L,D,ol);Jr(u,k,P,D,sl);t.quadraticCurveTo(ol[1],sl[1],ol[2],sl[2]);break t}p+=T}t.quadraticCurveTo(A,k,L,P);l=L;u=P;break}case nl.A:var R=r[w++];var E=r[w++];var z=r[w++];var V=r[w++];var B=r[w++];var F=r[w++];var G=r[w++];var W=!r[w++];var H=z>V?z:V;var Y=gl(z-V)>.001;var U=B+F;var X=false;if(c){var T=v[g++];if(p+T>y){U=B+F*(y-p)/T;X=true}p+=T}if(Y&&t.ellipse){t.ellipse(R,E,z,V,G,B,U,W)}else{t.arc(R,E,H,B,U,W)}if(X){break t}if(S){o=dl(B)*z+R;s=pl(B)*V+E}l=dl(U)*z+R;u=pl(U)*V+E;break;case nl.R:o=l=r[w];s=u=r[w+1];f=r[w++];h=r[w++];var Z=r[w++];var j=r[w++];if(c){var T=v[g++];if(p+T>y){var q=y-p;t.moveTo(f,h);t.lineTo(f+cl(q,Z),h);q-=Z;if(q>0){t.lineTo(f+Z,h+cl(q,j))}q-=j;if(q>0){t.lineTo(f+vl(Z-q,0),h+j)}q-=Z;if(q>0){t.lineTo(f,h+vl(j-q,0))}break t}p+=T}t.rect(f,h,Z,j);break;case nl.Z:if(c){var T=v[g++];if(p+T>y){var D=(y-p)/T;t.lineTo(l*(1-D)+o*D,u*(1-D)+s*D);break t}p+=T}t.closePath();l=o;u=s}}};t.prototype.clone=function(){var e=new t;var r=this.data;e.data=r.slice?r.slice():Array.prototype.slice.call(r);e._len=this._len;return e};t.CMD=nl;t.initDefaultProps=function(){var e=t.prototype;e._saveData=true;e._ux=0;e._uy=0;e._pendingPtDist=0;e._version=0}();return t}();function Ml(t,e,r,i,a,n,o){if(a===0){return false}var s=a;var l=0;var u=t;if(o>e+s&&o>i+s||o<e-s&&o<i-s||n>t+s&&n>r+s||n<t-s&&n<r-s){return false}if(t!==r){l=(e-i)/(t-r);u=(t*i-r*e)/(t-r)}else{return Math.abs(n-t)<=s/2}var f=l*n-o+u;var h=f*f/(l*l+1);return h<=s/2*s/2}function Il(t,e,r,i,a,n,o,s,l,u,f){if(l===0){return false}var h=l;if(f>e+h&&f>i+h&&f>n+h&&f>s+h||f<e-h&&f<i-h&&f<n-h&&f<s-h||u>t+h&&u>r+h&&u>a+h&&u>o+h||u<t-h&&u<r-h&&u<a-h&&u<o-h){return false}var c=Xr(t,e,r,i,a,n,o,s,u,f,null);return c<=h/2}function Tl(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;if(l>e+u&&l>i+u&&l>n+u||l<e-u&&l<i-u&&l<n-u||s>t+u&&s>r+u&&s>a+u||s<t-u&&s<r-u&&s<a-u){return false}var f=Qr(t,e,r,i,a,n,s,l,null);return f<=u/2}var Dl=Math.PI*2;function Cl(t){t%=Dl;if(t<0){t+=Dl}return t}var Al=Math.PI*2;function kl(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;s-=t;l-=e;var f=Math.sqrt(s*s+l*l);if(f-u>r||f+u<r){return false}if(Math.abs(i-a)%Al<1e-4){return true}if(n){var h=i;i=Cl(a);a=Cl(h)}else{i=Cl(i);a=Cl(a)}if(i>a){a+=Al}var c=Math.atan2(l,s);if(c<0){c+=Al}return c>=i&&c<=a||c+Al>=i&&c+Al<=a}function Ll(t,e,r,i,a,n){if(n>e&&n>i||n<e&&n<i){return 0}if(i===e){return 0}var o=(n-e)/(i-e);var s=i<e?1:-1;if(o===1||o===0){s=i<e?.5:-.5}var l=o*(r-t)+t;return l===a?Infinity:l>a?s:0}var Pl=Sl.CMD;var Ol=Math.PI*2;var Nl=1e-4;function Rl(t,e){return Math.abs(t-e)<Nl}var El=[-1,-1,-1];var zl=[-1,-1];function Vl(){var t=zl[0];zl[0]=zl[1];zl[1]=t}function Bl(t,e,r,i,a,n,o,s,l,u){if(u>e&&u>i&&u>n&&u>s||u<e&&u<i&&u<n&&u<s){return 0}var f=Hr(e,i,n,s,u,El);if(f===0){return 0}else{var h=0;var c=-1;var v=void 0;var d=void 0;for(var p=0;p<f;p++){var g=El[p];var y=g===0||g===1?.5:1;var m=Gr(t,r,a,o,g);if(m<l){continue}if(c<0){c=Yr(e,i,n,s,zl);if(zl[1]<zl[0]&&c>1){Vl()}v=Gr(e,i,n,s,zl[0]);if(c>1){d=Gr(e,i,n,s,zl[1])}}if(c===2){if(g<zl[0]){h+=v<e?y:-y}else if(g<zl[1]){h+=d<v?y:-y}else{h+=s<d?y:-y}}else{if(g<zl[0]){h+=v<e?y:-y}else{h+=s<v?y:-y}}}return h}}function Fl(t,e,r,i,a,n,o,s){if(s>e&&s>i&&s>n||s<e&&s<i&&s<n){return 0}var l=Kr(e,i,n,s,El);if(l===0){return 0}else{var u=$r(e,i,n);if(u>=0&&u<=1){var f=0;var h=jr(e,i,n,u);for(var c=0;c<l;c++){var v=El[c]===0||El[c]===1?.5:1;var d=jr(t,r,a,El[c]);if(d<o){continue}if(El[c]<u){f+=h<e?v:-v}else{f+=n<h?v:-v}}return f}else{var v=El[0]===0||El[0]===1?.5:1;var d=jr(t,r,a,El[0]);if(d<o){return 0}return n<e?v:-v}}}function Gl(t,e,r,i,a,n,o,s){s-=e;if(s>r||s<-r){return 0}var l=Math.sqrt(r*r-s*s);El[0]=-l;El[1]=l;var u=Math.abs(i-a);if(u<1e-4){return 0}if(u>=Ol-1e-4){i=0;a=Ol;var f=n?1:-1;if(o>=El[0]+t&&o<=El[1]+t){return f}else{return 0}}if(i>a){var h=i;i=a;a=h}if(i<0){i+=Ol;a+=Ol}var c=0;for(var v=0;v<2;v++){var d=El[v];if(d+t>o){var p=Math.atan2(s,d);var f=n?1:-1;if(p<0){p=Ol+p}if(p>=i&&p<=a||p+Ol>=i&&p+Ol<=a){if(p>Math.PI/2&&p<Math.PI*1.5){f=-f}c+=f}}}return c}function Wl(t,e,r,i,a){var n=t.data;var o=t.len();var s=0;var l=0;var u=0;var f=0;var h=0;var c;var v;for(var d=0;d<o;){var p=n[d++];var g=d===1;if(p===Pl.M&&d>1){if(!r){s+=Ll(l,u,f,h,i,a)}}if(g){l=n[d];u=n[d+1];f=l;h=u}switch(p){case Pl.M:f=n[d++];h=n[d++];l=f;u=h;break;case Pl.L:if(r){if(Ml(l,u,n[d],n[d+1],e,i,a)){return true}}else{s+=Ll(l,u,n[d],n[d+1],i,a)||0}l=n[d++];u=n[d++];break;case Pl.C:if(r){if(Il(l,u,n[d++],n[d++],n[d++],n[d++],n[d],n[d+1],e,i,a)){return true}}else{s+=Bl(l,u,n[d++],n[d++],n[d++],n[d++],n[d],n[d+1],i,a)||0}l=n[d++];u=n[d++];break;case Pl.Q:if(r){if(Tl(l,u,n[d++],n[d++],n[d],n[d+1],e,i,a)){return true}}else{s+=Fl(l,u,n[d++],n[d++],n[d],n[d+1],i,a)||0}l=n[d++];u=n[d++];break;case Pl.A:var y=n[d++];var m=n[d++];var _=n[d++];var x=n[d++];var w=n[d++];var b=n[d++];d+=1;var S=!!(1-n[d++]);c=Math.cos(w)*_+y;v=Math.sin(w)*x+m;if(!g){s+=Ll(l,u,c,v,i,a)}else{f=c;h=v}var M=(i-y)*x/_+y;if(r){if(kl(y,m,x,w,w+b,S,e,M,a)){return true}}else{s+=Gl(y,m,x,w,w+b,S,M,a)}l=Math.cos(w+b)*_+y;u=Math.sin(w+b)*x+m;break;case Pl.R:f=l=n[d++];h=u=n[d++];var I=n[d++];var T=n[d++];c=f+I;v=h+T;if(r){if(Ml(f,h,c,h,e,i,a)||Ml(c,h,c,v,e,i,a)||Ml(c,v,f,v,e,i,a)||Ml(f,v,f,h,e,i,a)){return true}}else{s+=Ll(c,h,c,v,i,a);s+=Ll(f,v,f,h,i,a)}break;case Pl.Z:if(r){if(Ml(l,u,f,h,e,i,a)){return true}}else{s+=Ll(l,u,f,h,i,a)}l=f;u=h;break}}if(!r&&!Rl(u,h)){s+=Ll(l,u,f,h,i,a)||0}return s!==0}function Hl(t,e,r){return Wl(t,0,false,e,r)}function Yl(t,e,r,i){return Wl(t,e,true,r,i)}var Ul=G({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:false,strokeFirst:false},Es);var Xl={style:G({fill:true,stroke:true,strokePercent:true,fillOpacity:true,strokeOpacity:true,lineDashOffset:true,lineWidth:true,miterLimit:true},zs.style)};var Zl=en.concat(["invisible","culling","z","z2","zlevel","parent"]);var jl=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.update=function(){var r=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new e;if(a.buildPath===e.prototype.buildPath){a.buildPath=function(t){r.buildPath(t,r.shape)}}a.silent=true;var n=a.style;for(var o in i){if(n[o]!==i[o]){n[o]=i[o]}}n.fill=i.fill?i.decal:null;n.decal=null;n.shadowColor=null;i.strokeFirst&&(n.stroke=null);for(var s=0;s<Zl.length;++s){a[Zl[s]]=this[Zl[s]]}a.__dirty|=xr}else if(this._decalEl){this._decalEl=null}};e.prototype.getDecalElement=function(){return this._decalEl};e.prototype._init=function(e){var r=$(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();if(i){this.useStyle(i)}for(var a=0;a<r.length;a++){var n=r[a];var o=e[n];if(n==="style"){if(!this.style){this.useStyle(o)}else{F(this.style,o)}}else if(n==="shape"){F(this.shape,o)}else{t.prototype.attrKV.call(this,n,o)}}if(!this.style){this.useStyle({})}};e.prototype.getDefaultStyle=function(){return null};e.prototype.getDefaultShape=function(){return{}};e.prototype.canBeInsideText=function(){return this.hasFill()};e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(it(t)){var e=Ai(t,0);if(e>.5){return Ya}else if(e>.2){return Xa}return Ua}else if(t){return Ua}}return Ya};e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(it(e)){var r=this.__zr;var i=!!(r&&r.isDarkMode());var a=Ai(t,0)<Ha;if(i===a){return e}}};e.prototype.buildPath=function(t,e,r){};e.prototype.pathUpdated=function(){this.__dirty&=~br};e.prototype.getUpdatedPathProxy=function(t){!this.path&&this.createPathProxy();this.path.beginPath();this.buildPath(this.path,this.shape,t);return this.path};e.prototype.createPathProxy=function(){this.path=new Sl(false)};e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.getBoundingRect=function(){var t=this._rect;var e=this.style;var r=!t;if(r){var i=false;if(!this.path){i=true;this.createPathProxy()}var a=this.path;if(i||this.__dirty&br){a.beginPath();this.buildPath(a,this.shape,false);this.pathUpdated()}t=a.getBoundingRect()}this._rect=t;if(this.hasStroke()&&this.path&&this.path.len()>0){var n=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){n.copy(t);var o=e.strokeNoScale?this.getLineScale():1;var s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,l==null?4:l)}if(o>1e-10){n.width+=s/o;n.height+=s/o;n.x-=s/o/2;n.y-=s/o/2}}return n}return t};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();var a=this.style;t=r[0];e=r[1];if(i.contain(t,e)){var n=this.path;if(this.hasStroke()){var o=a.lineWidth;var s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10){if(!this.hasFill()){o=Math.max(o,this.strokeContainThreshold)}if(Yl(n,o/s,t,e)){return true}}}if(this.hasFill()){return Hl(n,t,e)}}return false};e.prototype.dirtyShape=function(){this.__dirty|=br;if(this._rect){this._rect=null}if(this._decalEl){this._decalEl.dirtyShape()}this.markRedraw()};e.prototype.dirty=function(){this.dirtyStyle();this.dirtyShape()};e.prototype.animateShape=function(t){return this.animate("shape",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else if(t==="shape"){this.dirtyShape()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e==="shape"){this.setShape(r)}else{t.prototype.attrKV.call(this,e,r)}};e.prototype.setShape=function(t,e){var r=this.shape;if(!r){r=this.shape={}}if(typeof t==="string"){r[t]=e}else{F(r,t)}this.dirtyShape();return this};e.prototype.shapeChanged=function(){return!!(this.__dirty&br)};e.prototype.createStyle=function(t){return kt(Ul,t)};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.shape&&!r.shape){r.shape=F({},this.shape)}};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.shape){if(n){if(a){l=r.shape}else{l=F({},i.shape);F(l,r.shape)}}else{l=F({},a?this.shape:i.shape);F(l,r.shape)}}else if(s){l=i.shape}if(l){if(n){this.shape=F({},this.shape);var u={};var f=$(l);for(var h=0;h<f.length;h++){var c=f[h];if(typeof l[c]==="object"){this.shape[c]=l[c]}else{u[c]=l[c]}}this._transitionState(e,{shape:u},o)}else{this.shape=l;this.dirtyShape()}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.shape){i=i||{};this._mergeStyle(i,n.shape)}}if(i){r.shape=i}return r};e.prototype.getAnimationStyleProps=function(){return Xl};e.prototype.isZeroArea=function(){return false};e.extend=function(t){var r=function(e){Et(r,e);function r(r){var i=e.call(this,r)||this;t.init&&t.init.call(i,r);return i}r.prototype.getDefaultStyle=function(){return z(t.style)};r.prototype.getDefaultShape=function(){return z(t.shape)};return r}(e);for(var i in t){if(typeof t[i]==="function"){r.prototype[i]=t[i]}}return r};e.initDefaultProps=function(){var t=e.prototype;t.type="path";t.strokeContainThreshold=5;t.segmentIgnoreThreshold=0;t.subPixelOptimize=false;t.autoBatch=false;t.__dirty=xr|wr|br}();return e}(Fs);var ql=G({strokeFirst:true,font:g,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ul);var Kl=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return e!=null&&e!=="none"&&t.lineWidth>0};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.createStyle=function(t){return kt(ql,t)};e.prototype.setBoundingRect=function(t){this._rect=t};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;e!=null?e+="":e="";var r=sn(e,t.font,t.textAlign,t.textBaseline);r.x+=t.x||0;r.y+=t.y||0;if(this.hasStroke()){var i=t.lineWidth;r.x-=i/2;r.y-=i/2;r.width+=i;r.height+=i}this._rect=r}return this._rect};e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}();return e}(Fs);Kl.prototype.type="tspan";var $l=G({x:0,y:0},Es);var Jl={style:G({x:true,y:true,width:true,height:true,sx:true,sy:true,sWidth:true,sHeight:true},zs.style)};function Ql(t){return!!(t&&typeof t!=="string"&&t.width&&t.height)}var tu=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.createStyle=function(t){return kt($l,t)};e.prototype._getSize=function(t){var e=this.style;var r=e[t];if(r!=null){return r}var i=Ql(e.image)?e.image:this.__image;if(!i){return 0}var a=t==="width"?"height":"width";var n=e[a];if(n==null){return i[t]}else{return i[t]/i[a]*n}};e.prototype.getWidth=function(){return this._getSize("width")};e.prototype.getHeight=function(){return this._getSize("height")};e.prototype.getAnimationStyleProps=function(){return Jl};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){this._rect=new Je(t.x||0,t.y||0,this.getWidth(),this.getHeight())}return this._rect};return e}(Fs);tu.prototype.type="image";function eu(t,e){var r=e.x;var i=e.y;var a=e.width;var n=e.height;var o=e.r;var s;var l;var u;var f;if(a<0){r=r+a;a=-a}if(n<0){i=i+n;n=-n}if(typeof o==="number"){s=l=u=f=o}else if(o instanceof Array){if(o.length===1){s=l=u=f=o[0]}else if(o.length===2){s=u=o[0];l=f=o[1]}else if(o.length===3){s=o[0];l=f=o[1];u=o[2]}else{s=o[0];l=o[1];u=o[2];f=o[3]}}else{s=l=u=f=0}var h;if(s+l>a){h=s+l;s*=a/h;l*=a/h}if(u+f>a){h=u+f;u*=a/h;f*=a/h}if(l+u>n){h=l+u;l*=n/h;u*=n/h}if(s+f>n){h=s+f;s*=n/h;f*=n/h}t.moveTo(r+s,i);t.lineTo(r+a-l,i);l!==0&&t.arc(r+a-l,i+l,l,-Math.PI/2,0);t.lineTo(r+a,i+n-u);u!==0&&t.arc(r+a-u,i+n-u,u,0,Math.PI/2);t.lineTo(r+f,i+n);f!==0&&t.arc(r+f,i+n-f,f,Math.PI/2,Math.PI);t.lineTo(r,i+s);s!==0&&t.arc(r+s,i+s,s,Math.PI,Math.PI*1.5)}var ru=Math.round;function iu(t,e,r){if(!e){return}var i=e.x1;var a=e.x2;var n=e.y1;var o=e.y2;t.x1=i;t.x2=a;t.y1=n;t.y2=o;var s=r&&r.lineWidth;if(!s){return t}if(ru(i*2)===ru(a*2)){t.x1=t.x2=nu(i,s,true)}if(ru(n*2)===ru(o*2)){t.y1=t.y2=nu(n,s,true)}return t}function au(t,e,r){if(!e){return}var i=e.x;var a=e.y;var n=e.width;var o=e.height;t.x=i;t.y=a;t.width=n;t.height=o;var s=r&&r.lineWidth;if(!s){return t}t.x=nu(i,s,true);t.y=nu(a,s,true);t.width=Math.max(nu(i+n,s,false)-t.x,n===0?0:1);t.height=Math.max(nu(a+o,s,false)-t.y,o===0?0:1);return t}function nu(t,e,r){if(!e){return t}var i=ru(t*2);return(i+ru(e))%2===0?i/2:(i+(r?1:-1))/2}var ou=function(){function t(){this.x=0;this.y=0;this.width=0;this.height=0}return t}();var su={};var lu=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new ou};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=au(su,e,this.style);r=o.x;i=o.y;a=o.width;n=o.height;o.r=e.r;e=o}else{r=e.x;i=e.y;a=e.width;n=e.height}if(!e.r){t.rect(r,i,a,n)}else{eu(t,e)}};e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height};return e}(jl);lu.prototype.type="rect";var uu={fill:"#000"};var fu=2;var hu={style:G({fill:true,stroke:true,fillOpacity:true,strokeOpacity:true,lineWidth:true,fontSize:true,lineHeight:true,width:true,height:true,textShadowColor:true,textShadowBlur:true,textShadowOffsetX:true,textShadowOffsetY:true,backgroundColor:true,padding:true,borderColor:true,borderWidth:true,borderRadius:true},zs.style)};var cu=function(t){Et(e,t);function e(e){var r=t.call(this)||this;r.type="text";r._children=[];r._defaultStyle=uu;r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.update=function(){t.prototype.update.call(this);if(this.styleChanged()){this._updateSubTexts()}for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel;r.z=this.z;r.z2=this.z2;r.culling=this.culling;r.cursor=this.cursor;r.invisible=this.invisible}};e.prototype.updateTransform=function(){var e=this.innerTransformable;if(e){e.updateTransform();if(e.transform){this.transform=e.transform}}else{t.prototype.updateTransform.call(this)}};e.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)};e.prototype.getComputedTransform=function(){if(this.__hostTarget){this.__hostTarget.getComputedTransform();this.__hostTarget.updateInnerText(true)}return t.prototype.getComputedTransform.call(this)};e.prototype._updateSubTexts=function(){this._childCursor=0;_u(this.style);this.style.rich?this._updateRichTexts():this._updatePlainTexts();this._children.length=this._childCursor;this.styleUpdated()};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=e}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=null}};e.prototype.getBoundingRect=function(){if(this.styleChanged()){this._updateSubTexts()}if(!this._rect){var t=new Je(0,0,0,0);var e=this._children;var r=[];var i=null;for(var a=0;a<e.length;a++){var n=e[a];var o=n.getBoundingRect();var s=n.getLocalTransform(r);if(s){t.copy(o);t.applyTransform(s);i=i||t.clone();i.union(t)}else{i=i||o.clone();i.union(o)}}this._rect=i||t}return this._rect};e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||uu};e.prototype.setTextContent=function(t){};e.prototype._mergeStyle=function(t,e){if(!e){return t}var r=e.rich;var i=t.rich||r&&{};F(t,e);if(r&&i){this._mergeRich(i,r);t.rich=i}else if(i){t.rich=i}return t};e.prototype._mergeRich=function(t,e){var r=$(e);for(var i=0;i<r.length;i++){var a=r[i];t[a]=t[a]||{};F(t[a],e[a])}};e.prototype.getAnimationStyleProps=function(){return hu};e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];if(!e||!(e instanceof t)){e=new t}this._children[this._childCursor++]=e;e.__zr=this.__zr;e.parent=this;return e};e.prototype._updatePlainTexts=function(){var t=this.style;var e=t.font||g;var r=t.padding;var i=Mu(t);var a=Is(i,t);var n=Iu(t);var o=!!t.backgroundColor;var s=a.outerHeight;var l=a.outerWidth;var u=a.contentWidth;var f=a.lines;var h=a.lineHeight;var c=this._defaultStyle;var v=t.x||0;var d=t.y||0;var p=t.align||c.align||"left";var y=t.verticalAlign||c.verticalAlign||"top";var m=v;var _=un(d,a.contentHeight,y);if(n||r){var x=ln(v,l,p);var w=un(d,s,y);n&&this._renderBackground(t,t,x,w,l,s)}_+=h/2;if(r){m=Su(v,p,r);if(y==="top"){_+=r[0]}else if(y==="bottom"){_-=r[2]}}var b=0;var S=false;var M=bu("fill"in t?t.fill:(S=true,c.fill));var I=wu("stroke"in t?t.stroke:!o&&(!c.autoStroke||S)?(b=fu,c.stroke):null);var T=t.textShadowBlur>0;var D=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll");var C=a.calculatedLineHeight;for(var A=0;A<f.length;A++){var k=this._getOrCreateChild(Kl);var L=k.createStyle();k.useStyle(L);L.text=f[A];L.x=m;L.y=_;if(p){L.textAlign=p}L.textBaseline="middle";L.opacity=t.opacity;L.strokeFirst=true;if(T){L.shadowBlur=t.textShadowBlur||0;L.shadowColor=t.textShadowColor||"transparent";L.shadowOffsetX=t.textShadowOffsetX||0;L.shadowOffsetY=t.textShadowOffsetY||0}L.stroke=I;L.fill=M;if(I){L.lineWidth=t.lineWidth||b;L.lineDash=t.lineDash;L.lineDashOffset=t.lineDashOffset||0}L.font=e;yu(L,t);_+=h;if(D){k.setBoundingRect(new Je(ln(L.x,t.width,L.textAlign),un(L.y,C,L.textBaseline),u,C))}}};e.prototype._updateRichTexts=function(){var t=this.style;var e=Mu(t);var r=As(e,t);var i=r.width;var a=r.outerWidth;var n=r.outerHeight;var o=t.padding;var s=t.x||0;var l=t.y||0;var u=this._defaultStyle;var f=t.align||u.align;var h=t.verticalAlign||u.verticalAlign;var c=ln(s,a,f);var v=un(l,n,h);var d=c;var p=v;if(o){d+=o[3];p+=o[0]}var g=d+i;if(Iu(t)){this._renderBackground(t,t,c,v,a,n)}var y=!!t.backgroundColor;for(var m=0;m<r.lines.length;m++){var _=r.lines[m];var x=_.tokens;var w=x.length;var b=_.lineHeight;var S=_.width;var M=0;var I=d;var T=g;var D=w-1;var C=void 0;while(M<w&&(C=x[M],!C.align||C.align==="left")){this._placeToken(C,t,b,p,I,"left",y);S-=C.width;I+=C.width;M++}while(D>=0&&(C=x[D],C.align==="right")){this._placeToken(C,t,b,p,T,"right",y);S-=C.width;T-=C.width;D--}I+=(i-(I-d)-(g-T)-S)/2;while(M<=D){C=x[M];this._placeToken(C,t,b,p,I+C.width/2,"center",y);I+=C.width;M++}p+=b}};e.prototype._placeToken=function(t,e,r,i,a,n,o){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign;var u=i+r/2;if(l==="top"){u=i+t.height/2}else if(l==="bottom"){u=i+r-t.height/2}var f=!t.isLineHolder&&Iu(s);f&&this._renderBackground(s,e,n==="right"?a-t.width:n==="center"?a-t.width/2:a,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor;var c=t.textPadding;if(c){a=Su(a,n,c);u-=t.height/2-c[0]-t.innerHeight/2}var v=this._getOrCreateChild(Kl);var d=v.createStyle();v.useStyle(d);var p=this._defaultStyle;var y=false;var m=0;var _=bu("fill"in s?s.fill:"fill"in e?e.fill:(y=true,p.fill));var x=wu("stroke"in s?s.stroke:"stroke"in e?e.stroke:!h&&!o&&(!p.autoStroke||y)?(m=fu,p.stroke):null);var w=s.textShadowBlur>0||e.textShadowBlur>0;d.text=t.text;d.x=a;d.y=u;if(w){d.shadowBlur=s.textShadowBlur||e.textShadowBlur||0;d.shadowColor=s.textShadowColor||e.textShadowColor||"transparent";d.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0;d.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0}d.textAlign=n;d.textBaseline="middle";d.font=t.font||g;d.opacity=gt(s.opacity,e.opacity,1);yu(d,s);if(x){d.lineWidth=gt(s.lineWidth,e.lineWidth,m);d.lineDash=pt(s.lineDash,e.lineDash);d.lineDashOffset=e.lineDashOffset||0;d.stroke=x}if(_){d.fill=_}var b=t.contentWidth;var S=t.contentHeight;v.setBoundingRect(new Je(ln(d.x,b,d.textAlign),un(d.y,S,d.textBaseline),b,S))};e.prototype._renderBackground=function(t,e,r,i,a,n){var o=t.backgroundColor;var s=t.borderWidth;var l=t.borderColor;var u=o&&o.image;var f=o&&!u;var h=t.borderRadius;var c=this;var v;var d;if(f||t.lineHeight||s&&l){v=this._getOrCreateChild(lu);v.useStyle(v.createStyle());v.style.fill=null;var p=v.shape;p.x=r;p.y=i;p.width=a;p.height=n;p.r=h;v.dirtyShape()}if(f){var g=v.style;g.fill=o||null;g.fillOpacity=pt(t.fillOpacity,1)}else if(u){d=this._getOrCreateChild(tu);d.onload=function(){c.dirtyStyle()};var y=d.style;y.image=o.image;y.x=r;y.y=i;y.width=a;y.height=n}if(s&&l){var g=v.style;g.lineWidth=s;g.stroke=l;g.strokeOpacity=pt(t.strokeOpacity,1);g.lineDash=t.borderDash;g.lineDashOffset=t.borderDashOffset||0;v.strokeContainThreshold=0;if(v.hasFill()&&v.hasStroke()){g.strokeFirst=true;g.lineWidth*=2}}var m=(v||d).style;m.shadowBlur=t.shadowBlur||0;m.shadowColor=t.shadowColor||"transparent";m.shadowOffsetX=t.shadowOffsetX||0;m.shadowOffsetY=t.shadowOffsetY||0;m.opacity=gt(t.opacity,e.opacity,1)};e.makeFont=function(t){var e="";if(mu(t)){e=[t.fontStyle,t.fontWeight,gu(t.fontSize),t.fontFamily||"sans-serif"].join(" ")}return e&&xt(e)||t.textFont||t.font};return e}(Fs);var vu={left:true,right:1,center:1};var du={top:1,bottom:1,middle:1};var pu=["fontStyle","fontWeight","fontSize","fontFamily"];function gu(t){if(typeof t==="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)){return t}else if(!isNaN(+t)){return t+"px"}else{return d+"px"}}function yu(t,e){for(var r=0;r<pu.length;r++){var i=pu[r];var a=e[i];if(a!=null){t[i]=a}}}function mu(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function _u(t){xu(t);X(t.rich,xu);return t}function xu(t){if(t){t.font=cu.makeFont(t);var e=t.align;e==="middle"&&(e="center");t.align=e==null||vu[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle");t.verticalAlign=r==null||du[r]?r:"top";var i=t.padding;if(i){t.padding=mt(t.padding)}}}function wu(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function bu(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Su(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function Mu(t){var e=t.text;e!=null&&(e+="");return e}function Iu(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Tu=Bo();var Du=function(t,e,r,i){if(i){var a=Tu(i);a.dataIndex=r;a.dataType=e;a.seriesIndex=t;if(i.type==="group"){i.traverse((function(i){var a=Tu(i);a.seriesIndex=t;a.dataIndex=r;a.dataType=e}))}}};var Cu=1;var Au={};var ku=Bo();var Lu=Bo();var Pu=0;var Ou=1;var Nu=2;var Ru=["emphasis","blur","select"];var Eu=["normal","emphasis","blur","select"];var zu=10;var Vu=9;var Bu="highlight";var Fu="downplay";var Gu="select";var Wu="unselect";var Hu="toggleSelect";function Yu(t){return t!=null&&t!=="none"}var Uu=new oi(100);function Xu(t){if(it(t)){var e=Uu.get(t);if(!e){e=Si(t,-.1);Uu.put(t,e)}return e}else if(ft(t)){var r=F({},t);r.colorStops=Z(t.colorStops,(function(t){return{offset:t.offset,color:Si(t.color,-.1)}}));return r}return t}function Zu(t,e,r){if(t.onHoverStateChange&&(t.hoverState||0)!==r){t.onHoverStateChange(e)}t.hoverState=r}function ju(t){Zu(t,"emphasis",Nu)}function qu(t){if(t.hoverState===Nu){Zu(t,"normal",Pu)}}function Ku(t){Zu(t,"blur",Ou)}function $u(t){if(t.hoverState===Ou){Zu(t,"normal",Pu)}}function Ju(t){t.selected=true}function Qu(t){t.selected=false}function tf(t,e,r){e(t,r)}function ef(t,e,r){tf(t,e,r);t.isGroup&&t.traverse((function(t){tf(t,e,r)}))}function rf(t,e){switch(e){case"emphasis":t.hoverState=Nu;break;case"normal":t.hoverState=Pu;break;case"blur":t.hoverState=Ou;break;case"select":t.selected=true}}function af(t,e,r,i){var a=t.style;var n={};for(var o=0;o<e.length;o++){var s=e[o];var l=a[s];n[s]=l==null?i&&i[s]:l}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];if(u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"){u.saveTo(n,e)}}return n}function nf(t,e,r,i){var a=r&&W(r,"select")>=0;var n=false;if(t instanceof jl){var o=ku(t);var s=a?o.selectFill||o.normalFill:o.normalFill;var l=a?o.selectStroke||o.normalStroke:o.normalStroke;if(Yu(s)||Yu(l)){i=i||{};var u=i.style||{};if(u.fill==="inherit"){n=true;i=F({},i);u=F({},u);u.fill=s}else if(!Yu(u.fill)&&Yu(s)){n=true;i=F({},i);u=F({},u);u.fill=Xu(s)}else if(!Yu(u.stroke)&&Yu(l)){if(!n){i=F({},i);u=F({},u)}u.stroke=Xu(l)}i.style=u}}if(i){if(i.z2==null){if(!n){i=F({},i)}var f=t.z2EmphasisLift;i.z2=t.z2+(f!=null?f:zu)}}return i}function of(t,e,r){if(r){if(r.z2==null){r=F({},r);var i=t.z2SelectLift;r.z2=t.z2+(i!=null?i:Vu)}}return r}function sf(t,e,r){var i=W(t.currentStates,e)>=0;var a=t.style.opacity;var n=!i?af(t,["opacity"],e,{opacity:1}):null;r=r||{};var o=r.style||{};if(o.opacity==null){r=F({},r);o=F({opacity:i?a:n.opacity*.1},o);r.style=o}return r}function lf(t,e){var r=this.states[t];if(this.style){if(t==="emphasis"){return nf(this,t,e,r)}else if(t==="blur"){return sf(this,t,r)}else if(t==="select"){return of(this,t,r)}}return r}function uf(t){t.stateProxy=lf;var e=t.getTextContent();var r=t.getTextGuideLine();if(e){e.stateProxy=lf}if(r){r.stateProxy=lf}}function ff(t,e){!mf(t,e)&&!t.__highByOuter&&ef(t,ju)}function hf(t,e){!mf(t,e)&&!t.__highByOuter&&ef(t,qu)}function cf(t,e){t.__highByOuter|=1<<(e||0);ef(t,ju)}function vf(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&ef(t,qu)}function df(t){ef(t,Ku)}function pf(t){ef(t,$u)}function gf(t){ef(t,Ju)}function yf(t){ef(t,Qu)}function mf(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function _f(t){var e=t.getModel();var r=[];var i=[];e.eachComponent((function(e,a){var n=Lu(a);var o=e==="series";var s=o?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!o&&i.push(s);if(n.isBlured){s.group.traverse((function(t){$u(t)}));o&&r.push(a)}n.isBlured=false}));X(i,(function(t){if(t&&t.toggleBlurSeries){t.toggleBlurSeries(r,false,e)}}))}function xf(t,e,r,i){var a=i.getModel();r=r||"coordinateSystem";function n(t,e){for(var r=0;r<e.length;r++){var i=t.getItemGraphicEl(e[r]);i&&pf(i)}}if(t==null){return}if(!e||e==="none"){return}var o=a.getSeriesByIndex(t);var s=o.coordinateSystem;if(s&&s.master){s=s.master}var l=[];a.eachSeries((function(t){var a=o===t;var u=t.coordinateSystem;if(u&&u.master){u=u.master}var f=u&&s?u===s:a;if(!(r==="series"&&!a||r==="coordinateSystem"&&!f||e==="series"&&a)){var h=i.getViewOfSeriesModel(t);h.group.traverse((function(t){Ku(t)}));if(U(e)){n(t.getData(),e)}else if(ot(e)){var c=$(e);for(var v=0;v<c.length;v++){n(t.getData(c[v]),e[c[v]])}}l.push(t);Lu(t).isBlured=true}}));a.eachComponent((function(t,e){if(t==="series"){return}var r=i.getViewOfComponentModel(e);if(r&&r.toggleBlurSeries){r.toggleBlurSeries(l,true,a)}}))}function wf(t,e,r){if(t==null||e==null){return}var i=r.getModel().getComponent(t,e);if(!i){return}Lu(i).isBlured=true;var a=r.getViewOfComponentModel(i);if(!a||!a.focusBlurEnabled){return}a.group.traverse((function(t){Ku(t)}))}function bf(t,e,r){var i=t.seriesIndex;var a=t.getData(e.dataType);if(!a){return}var n=Vo(a,e);n=(et(n)?n[0]:n)||0;var o=a.getItemGraphicEl(n);if(!o){var s=a.count();var l=0;while(!o&&l<s){o=a.getItemGraphicEl(l++)}}if(o){var u=Tu(o);xf(i,u.focus,u.blurScope,r)}else{var f=t.get(["emphasis","focus"]);var h=t.get(["emphasis","blurScope"]);if(f!=null){xf(i,f,h,r)}}}function Sf(t,e,r,i){var a={focusSelf:false,dispatchers:null};if(t==null||t==="series"||e==null||r==null){return a}var n=i.getModel().getComponent(t,e);if(!n){return a}var o=i.getViewOfComponentModel(n);if(!o||!o.findHighDownDispatchers){return a}var s=o.findHighDownDispatchers(r);var l;for(var u=0;u<s.length;u++){if(Tu(s[u]).focus==="self"){l=true;break}}return{focusSelf:l,dispatchers:s}}function Mf(t,e,r){var i=Tu(t);var a=Sf(i.componentMainType,i.componentIndex,i.componentHighDownName,r),n=a.dispatchers,o=a.focusSelf;if(n){if(o){wf(i.componentMainType,i.componentIndex,r)}X(n,(function(t){return ff(t,e)}))}else{xf(i.seriesIndex,i.focus,i.blurScope,r);if(i.focus==="self"){wf(i.componentMainType,i.componentIndex,r)}ff(t,e)}}function If(t,e,r){_f(r);var i=Tu(t);var a=Sf(i.componentMainType,i.componentIndex,i.componentHighDownName,r).dispatchers;if(a){X(a,(function(t){return hf(t,e)}))}else{hf(t,e)}}function Tf(t,e,r){if(!Ff(e)){return}var i=e.dataType;var a=t.getData(i);var n=Vo(a,e);if(!et(n)){n=[n]}t[e.type===Hu?"toggleSelect":e.type===Gu?"select":"unselect"](n,i)}function Df(t){var e=t.getAllData();X(e,(function(e){var r=e.data,i=e.type;r.eachItemGraphicEl((function(e,r){t.isSelected(r,i)?gf(e):yf(e)}))}))}function Cf(t){var e=[];t.eachSeries((function(t){var r=t.getAllData();X(r,(function(r){var i=r.type;var a=t.getSelectedDataIndices();if(a.length>0){var n={dataIndex:a,seriesIndex:t.seriesIndex};if(i!=null){n.dataType=i}e.push(n)}}))}));return e}function Af(t,e,r){Ef(t,true);ef(t,uf);Pf(t,e,r)}function kf(t){Ef(t,false)}function Lf(t,e,r,i){i?kf(t):Af(t,e,r)}function Pf(t,e,r){var i=Tu(t);if(e!=null){i.focus=e;i.blurScope=r}else if(i.focus){i.focus=null}}var Of=["emphasis","blur","select"];var Nf={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Rf(t,e,r,i){r=r||"itemStyle";for(var a=0;a<Of.length;a++){var n=Of[a];var o=e.getModel([n,r]);var s=t.ensureState(n);s.style=i?i(o):o[Nf[r]]()}}function Ef(t,e){var r=e===false;var i=t;if(t.highDownSilentOnTouch){i.__highDownSilentOnTouch=t.highDownSilentOnTouch}if(!r||i.__highDownDispatcher){i.__highByOuter=i.__highByOuter||0;i.__highDownDispatcher=!r}}function zf(t){return!!(t&&t.__highDownDispatcher)}function Vf(t,e,r){var i=Tu(t);i.componentMainType=e.mainType;i.componentIndex=e.componentIndex;i.componentHighDownName=r}function Bf(t){var e=Au[t];if(e==null&&Cu<=32){e=Au[t]=Cu++}return e}function Ff(t){var e=t.type;return e===Gu||e===Wu||e===Hu}function Gf(t){var e=t.type;return e===Bu||e===Fu}function Wf(t){var e=ku(t);e.normalFill=t.style.fill;e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null;e.selectStroke=r.style&&r.style.stroke||null}var Hf=Sl.CMD;var Yf=[[],[],[]];var Uf=Math.sqrt;var Xf=Math.atan2;function Zf(t,e){if(!e){return}var r=t.data;var i=t.len();var a;var n;var o;var s;var l;var u;var f=Hf.M;var h=Hf.C;var c=Hf.L;var v=Hf.R;var d=Hf.A;var p=Hf.Q;for(o=0,s=0;o<i;){a=r[o++];s=o;n=0;switch(a){case f:n=1;break;case c:n=1;break;case h:n=3;break;case p:n=2;break;case d:var g=e[4];var y=e[5];var m=Uf(e[0]*e[0]+e[1]*e[1]);var _=Uf(e[2]*e[2]+e[3]*e[3]);var x=Xf(-e[1]/_,e[0]/m);r[o]*=m;r[o++]+=g;r[o]*=_;r[o++]+=y;r[o++]*=m;r[o++]*=_;r[o++]+=x;r[o++]+=x;o+=2;s=o;break;case v:u[0]=r[o++];u[1]=r[o++];Qt(u,u,e);r[s++]=u[0];r[s++]=u[1];u[0]+=r[o++];u[1]+=r[o++];Qt(u,u,e);r[s++]=u[0];r[s++]=u[1]}for(l=0;l<n;l++){var w=Yf[l];w[0]=r[o++];w[1]=r[o++];Qt(w,w,e);r[s++]=w[0];r[s++]=w[1]}}t.increaseVersion()}var jf=Math.sqrt;var qf=Math.sin;var Kf=Math.cos;var $f=Math.PI;function Jf(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qf(t,e){return(t[0]*e[0]+t[1]*e[1])/(Jf(t)*Jf(e))}function th(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qf(t,e))}function eh(t,e,r,i,a,n,o,s,l,u,f){var h=l*($f/180);var c=Kf(h)*(t-r)/2+qf(h)*(e-i)/2;var v=-1*qf(h)*(t-r)/2+Kf(h)*(e-i)/2;var d=c*c/(o*o)+v*v/(s*s);if(d>1){o*=jf(d);s*=jf(d)}var p=(a===n?-1:1)*jf((o*o*(s*s)-o*o*(v*v)-s*s*(c*c))/(o*o*(v*v)+s*s*(c*c)))||0;var g=p*o*v/s;var y=p*-s*c/o;var m=(t+r)/2+Kf(h)*g-qf(h)*y;var _=(e+i)/2+qf(h)*g+Kf(h)*y;var x=th([1,0],[(c-g)/o,(v-y)/s]);var w=[(c-g)/o,(v-y)/s];var b=[(-1*c-g)/o,(-1*v-y)/s];var S=th(w,b);if(Qf(w,b)<=-1){S=$f}if(Qf(w,b)>=1){S=0}if(S<0){var M=Math.round(S/$f*1e6)/1e6;S=$f*2+M%2*$f}f.addData(u,m,_,o,s,x,S,h,n)}var rh=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi;var ih=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ah(t){var e=new Sl;if(!t){return e}var r=0;var i=0;var a=r;var n=i;var o;var s=Sl.CMD;var l=t.match(rh);if(!l){return e}for(var u=0;u<l.length;u++){var f=l[u];var h=f.charAt(0);var c=void 0;var v=f.match(ih)||[];var d=v.length;for(var p=0;p<d;p++){v[p]=parseFloat(v[p])}var g=0;while(g<d){var y=void 0;var m=void 0;var _=void 0;var x=void 0;var w=void 0;var b=void 0;var S=void 0;var M=r;var I=i;var T=void 0;var D=void 0;switch(h){case"l":r+=v[g++];i+=v[g++];c=s.L;e.addData(c,r,i);break;case"L":r=v[g++];i=v[g++];c=s.L;e.addData(c,r,i);break;case"m":r+=v[g++];i+=v[g++];c=s.M;e.addData(c,r,i);a=r;n=i;h="l";break;case"M":r=v[g++];i=v[g++];c=s.M;e.addData(c,r,i);a=r;n=i;h="L";break;case"h":r+=v[g++];c=s.L;e.addData(c,r,i);break;case"H":r=v[g++];c=s.L;e.addData(c,r,i);break;case"v":i+=v[g++];c=s.L;e.addData(c,r,i);break;case"V":i=v[g++];c=s.L;e.addData(c,r,i);break;case"C":c=s.C;e.addData(c,v[g++],v[g++],v[g++],v[g++],v[g++],v[g++]);r=v[g-2];i=v[g-1];break;case"c":c=s.C;e.addData(c,v[g++]+r,v[g++]+i,v[g++]+r,v[g++]+i,v[g++]+r,v[g++]+i);r+=v[g-2];i+=v[g-1];break;case"S":y=r;m=i;T=e.len();D=e.data;if(o===s.C){y+=r-D[T-4];m+=i-D[T-3]}c=s.C;M=v[g++];I=v[g++];r=v[g++];i=v[g++];e.addData(c,y,m,M,I,r,i);break;case"s":y=r;m=i;T=e.len();D=e.data;if(o===s.C){y+=r-D[T-4];m+=i-D[T-3]}c=s.C;M=r+v[g++];I=i+v[g++];r+=v[g++];i+=v[g++];e.addData(c,y,m,M,I,r,i);break;case"Q":M=v[g++];I=v[g++];r=v[g++];i=v[g++];c=s.Q;e.addData(c,M,I,r,i);break;case"q":M=v[g++]+r;I=v[g++]+i;r+=v[g++];i+=v[g++];c=s.Q;e.addData(c,M,I,r,i);break;case"T":y=r;m=i;T=e.len();D=e.data;if(o===s.Q){y+=r-D[T-4];m+=i-D[T-3]}r=v[g++];i=v[g++];c=s.Q;e.addData(c,y,m,r,i);break;case"t":y=r;m=i;T=e.len();D=e.data;if(o===s.Q){y+=r-D[T-4];m+=i-D[T-3]}r+=v[g++];i+=v[g++];c=s.Q;e.addData(c,y,m,r,i);break;case"A":_=v[g++];x=v[g++];w=v[g++];b=v[g++];S=v[g++];M=r,I=i;r=v[g++];i=v[g++];c=s.A;eh(M,I,r,i,b,S,_,x,w,c,e);break;case"a":_=v[g++];x=v[g++];w=v[g++];b=v[g++];S=v[g++];M=r,I=i;r+=v[g++];i+=v[g++];c=s.A;eh(M,I,r,i,b,S,_,x,w,c,e);break}}if(h==="z"||h==="Z"){c=s.Z;e.addData(c);r=a;i=n}o=c}e.toStatic();return e}var nh=function(t){Et(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.applyTransform=function(t){};return e}(jl);function oh(t){return t.setData!=null}function sh(t,e){var r=ah(t);var i=F({},e);i.buildPath=function(t){if(oh(t)){t.setData(r.data);var e=t.getContext();if(e){t.rebuildPath(e,1)}}else{var e=t;r.rebuildPath(e,1)}};i.applyTransform=function(t){Zf(r,t);this.dirtyShape()};return i}function lh(t,e){return new nh(sh(t,e))}function uh(t,e){var r=sh(t,e);var i=function(t){Et(e,t);function e(e){var i=t.call(this,e)||this;i.applyTransform=r.applyTransform;i.buildPath=r.buildPath;return i}return e}(nh);return i}function fh(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){var n=t[a];r.push(n.getUpdatedPathProxy(true))}var o=new jl(e);o.createPathProxy();o.buildPath=function(t){if(oh(t)){t.appendPath(r);var e=t.getContext();if(e){t.rebuildPath(e,1)}}};return o}function hh(t,e){e=e||{};var r=new jl;if(t.shape){r.setShape(t.shape)}r.setStyle(t.style);if(e.bakeTransform){Zf(r.path,t.getComputedTransform())}else{if(e.toLocal){r.setLocalTransform(t.getComputedTransform())}else{r.copyTransform(t)}}r.buildPath=t.buildPath;r.applyTransform=r.applyTransform;r.z=t.z;r.z2=t.z2;r.zlevel=t.zlevel;return r}var ch=function(){function t(){this.cx=0;this.cy=0;this.r=0}return t}();var vh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new ch};e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy);t.arc(e.cx,e.cy,e.r,0,Math.PI*2)};return e}(jl);vh.prototype.type="circle";var dh=function(){function t(){this.cx=0;this.cy=0;this.rx=0;this.ry=0}return t}();var ph=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new dh};e.prototype.buildPath=function(t,e){var r=.5522848;var i=e.cx;var a=e.cy;var n=e.rx;var o=e.ry;var s=n*r;var l=o*r;t.moveTo(i-n,a);t.bezierCurveTo(i-n,a-l,i-s,a-o,i,a-o);t.bezierCurveTo(i+s,a-o,i+n,a-l,i+n,a);t.bezierCurveTo(i+n,a+l,i+s,a+o,i,a+o);t.bezierCurveTo(i-s,a+o,i-n,a+l,i-n,a);t.closePath()};return e}(jl);ph.prototype.type="ellipse";var gh=Math.PI;var yh=gh*2;var mh=Math.sin;var _h=Math.cos;var xh=Math.acos;var wh=Math.atan2;var bh=Math.abs;var Sh=Math.sqrt;var Mh=Math.max;var Ih=Math.min;var Th=1e-4;function Dh(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var c=h*l-f*u;if(c*c<Th){return}c=(f*(e-n)-h*(t-a))/c;return[t+c*l,e+c*u]}function Ch(t,e,r,i,a,n,o){var s=t-r;var l=e-i;var u=(o?n:-n)/Sh(s*s+l*l);var f=u*l;var h=-u*s;var c=t+f;var v=e+h;var d=r+f;var p=i+h;var g=(c+d)/2;var y=(v+p)/2;var m=d-c;var _=p-v;var x=m*m+_*_;var w=a-n;var b=c*p-d*v;var S=(_<0?-1:1)*Sh(Mh(0,w*w*x-b*b));var M=(b*_-m*S)/x;var I=(-b*m-_*S)/x;var T=(b*_+m*S)/x;var D=(-b*m+_*S)/x;var C=M-g;var A=I-y;var k=T-g;var L=D-y;if(C*C+A*A>k*k+L*L){M=T;I=D}return{cx:M,cy:I,x0:-f,y0:-h,x1:M*(a/w-1),y1:I*(a/w-1)}}function Ah(t){var e;if(et(t)){var r=t.length;if(!r){return t}if(r===1){e=[t[0],t[0],0,0]}else if(r===2){e=[t[0],t[0],t[1],t[1]]}else if(r===3){e=t.concat(t[2])}else{e=t}}else{e=[t,t,t,t]}return e}function kh(t,e){var r;var i=Mh(e.r,0);var a=Mh(e.r0||0,0);var n=i>0;var o=a>0;if(!n&&!o){return}if(!n){i=a;a=0}if(a>i){var s=i;i=a;a=s}var l=e.startAngle,u=e.endAngle;if(isNaN(l)||isNaN(u)){return}var f=e.cx,h=e.cy;var c=!!e.clockwise;var v=bh(u-l);var d=v>yh&&v%yh;d>Th&&(v=d);if(!(i>Th)){t.moveTo(f,h)}else if(v>yh-Th){t.moveTo(f+i*_h(l),h+i*mh(l));t.arc(f,h,i,l,u,!c);if(a>Th){t.moveTo(f+a*_h(u),h+a*mh(u));t.arc(f,h,a,u,l,c)}}else{var p=void 0;var g=void 0;var y=void 0;var m=void 0;var _=void 0;var x=void 0;var w=void 0;var b=void 0;var S=void 0;var M=void 0;var I=void 0;var T=void 0;var D=void 0;var C=void 0;var A=void 0;var k=void 0;var L=i*_h(l);var P=i*mh(l);var O=a*_h(u);var N=a*mh(u);var R=v>Th;if(R){var E=e.cornerRadius;if(E){r=Ah(E),p=r[0],g=r[1],y=r[2],m=r[3]}var z=bh(i-a)/2;_=Ih(z,y);x=Ih(z,m);w=Ih(z,p);b=Ih(z,g);I=S=Mh(_,x);T=M=Mh(w,b);if(S>Th||M>Th){D=i*_h(u);C=i*mh(u);A=a*_h(l);k=a*mh(l);if(v<gh){var V=Dh(L,P,A,k,D,C,O,N);if(V){var B=L-V[0];var F=P-V[1];var G=D-V[0];var W=C-V[1];var H=1/mh(xh((B*G+F*W)/(Sh(B*B+F*F)*Sh(G*G+W*W)))/2);var Y=Sh(V[0]*V[0]+V[1]*V[1]);I=Ih(S,(i-Y)/(H+1));T=Ih(M,(a-Y)/(H-1))}}}}if(!R){t.moveTo(f+L,h+P)}else if(I>Th){var U=Ih(y,I);var X=Ih(m,I);var Z=Ch(A,k,L,P,i,U,c);var j=Ch(D,C,O,N,i,X,c);t.moveTo(f+Z.cx+Z.x0,h+Z.cy+Z.y0);if(I<S&&U===X){t.arc(f+Z.cx,h+Z.cy,I,wh(Z.y0,Z.x0),wh(j.y0,j.x0),!c)}else{U>0&&t.arc(f+Z.cx,h+Z.cy,U,wh(Z.y0,Z.x0),wh(Z.y1,Z.x1),!c);t.arc(f,h,i,wh(Z.cy+Z.y1,Z.cx+Z.x1),wh(j.cy+j.y1,j.cx+j.x1),!c);X>0&&t.arc(f+j.cx,h+j.cy,X,wh(j.y1,j.x1),wh(j.y0,j.x0),!c)}}else{t.moveTo(f+L,h+P);t.arc(f,h,i,l,u,!c)}if(!(a>Th)||!R){t.lineTo(f+O,h+N)}else if(T>Th){var U=Ih(p,T);var X=Ih(g,T);var Z=Ch(O,N,D,C,a,-X,c);var j=Ch(L,P,A,k,a,-U,c);t.lineTo(f+Z.cx+Z.x0,h+Z.cy+Z.y0);if(T<M&&U===X){t.arc(f+Z.cx,h+Z.cy,T,wh(Z.y0,Z.x0),wh(j.y0,j.x0),!c)}else{X>0&&t.arc(f+Z.cx,h+Z.cy,X,wh(Z.y0,Z.x0),wh(Z.y1,Z.x1),!c);t.arc(f,h,a,wh(Z.cy+Z.y1,Z.cx+Z.x1),wh(j.cy+j.y1,j.cx+j.x1),c);U>0&&t.arc(f+j.cx,h+j.cy,U,wh(j.y1,j.x1),wh(j.y0,j.x0),!c)}}else{t.lineTo(f+O,h+N);t.arc(f,h,a,u,l,c)}}t.closePath()}var Lh=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true;this.cornerRadius=0}return t}();var Ph=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Lh};e.prototype.buildPath=function(t,e){kh(t,e)};e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0};return e}(jl);Ph.prototype.type="sector";var Oh=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.r0=0}return t}();var Nh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Oh};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.PI*2;t.moveTo(r+e.r,i);t.arc(r,i,e.r,0,a,false);t.moveTo(r+e.r0,i);t.arc(r,i,e.r0,0,a,true)};return e}(jl);Nh.prototype.type="ring";function Rh(t,e,r,i){var a=[];var n=[];var o=[];var s=[];var l;var u;var f;var h;if(i){f=[Infinity,Infinity];h=[-Infinity,-Infinity];for(var c=0,v=t.length;c<v;c++){te(f,f,t[c]);ee(h,h,t[c])}te(f,f,i[0]);ee(h,h,i[1])}for(var c=0,v=t.length;c<v;c++){var d=t[c];if(r){l=t[c?c-1:v-1];u=t[(c+1)%v]}else{if(c===0||c===v-1){a.push(Bt(t[c]));continue}else{l=t[c-1];u=t[c+1]}}Ht(n,u,l);Xt(n,n,e);var p=jt(d,l);var g=jt(d,u);var y=p+g;if(y!==0){p/=y;g/=y}Xt(o,n,-p);Xt(s,n,g);var m=Gt([],d,o);var _=Gt([],d,s);if(i){ee(m,m,f);te(m,m,h);ee(_,_,f);te(_,_,h)}a.push(m);a.push(_)}if(r){a.push(a.shift())}return a}function Eh(t,e,r){var i=e.smooth;var a=e.points;if(a&&a.length>=2){if(i){var n=Rh(a,i,r,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);var o=a.length;for(var s=0;s<(r?o:o-1);s++){var l=n[s*2];var u=n[s*2+1];var f=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],f[0],f[1])}}else{t.moveTo(a[0][0],a[0][1]);for(var s=1,h=a.length;s<h;s++){t.lineTo(a[s][0],a[s][1])}}r&&t.closePath()}}var zh=function(){function t(){this.points=null;this.smooth=0;this.smoothConstraint=null}return t}();var Vh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new zh};e.prototype.buildPath=function(t,e){Eh(t,e,true)};return e}(jl);Vh.prototype.type="polygon";var Bh=function(){function t(){this.points=null;this.percent=1;this.smooth=0;this.smoothConstraint=null}return t}();var Fh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new Bh};e.prototype.buildPath=function(t,e){Eh(t,e,false)};return e}(jl);Fh.prototype.type="polyline";var Gh={};var Wh=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var Hh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new Wh};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=iu(Gh,e,this.style);r=o.x1;i=o.y1;a=o.x2;n=o.y2}else{r=e.x1;i=e.y1;a=e.x2;n=e.y2}var s=e.percent;if(s===0){return}t.moveTo(r,i);if(s<1){a=r*(1-s)+a*s;n=i*(1-s)+n*s}t.lineTo(a,n)};e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]};return e}(jl);Hh.prototype.type="line";var Yh=[];var Uh=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.percent=1}return t}();function Xh(t,e,r){var i=t.cpx2;var a=t.cpy2;if(i!=null||a!=null){return[(r?Wr:Gr)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?Wr:Gr)(t.y1,t.cpy1,t.cpy2,t.y2,e)]}else{return[(r?qr:jr)(t.x1,t.cpx1,t.x2,e),(r?qr:jr)(t.y1,t.cpy1,t.y2,e)]}}var Zh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new Uh};e.prototype.buildPath=function(t,e){var r=e.x1;var i=e.y1;var a=e.x2;var n=e.y2;var o=e.cpx1;var s=e.cpy1;var l=e.cpx2;var u=e.cpy2;var f=e.percent;if(f===0){return}t.moveTo(r,i);if(l==null||u==null){if(f<1){Jr(r,o,a,f,Yh);o=Yh[1];a=Yh[2];Jr(i,s,n,f,Yh);s=Yh[1];n=Yh[2]}t.quadraticCurveTo(o,s,a,n)}else{if(f<1){Ur(r,o,l,a,f,Yh);o=Yh[1];l=Yh[2];a=Yh[3];Ur(i,s,u,n,f,Yh);s=Yh[1];u=Yh[2];n=Yh[3]}t.bezierCurveTo(o,s,l,u,a,n)}};e.prototype.pointAt=function(t){return Xh(this.shape,t,false)};e.prototype.tangentAt=function(t){var e=Xh(this.shape,t,true);return Zt(e,e)};return e}(jl);Zh.prototype.type="bezier-curve";var jh=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var qh=function(t){Et(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new jh};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r,0);var n=e.startAngle;var o=e.endAngle;var s=e.clockwise;var l=Math.cos(n);var u=Math.sin(n);t.moveTo(l*a+r,u*a+i);t.arc(r,i,a,n,o,!s)};return e}(jl);qh.prototype.type="arc";var Kh=function(t){Et(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="compound";return e}e.prototype._updatePathDirty=function(){var t=this.shape.paths;var e=this.shapeChanged();for(var r=0;r<t.length;r++){e=e||t[r].shapeChanged()}if(e){this.dirtyShape()}};e.prototype.beforeBrush=function(){this._updatePathDirty();var t=this.shape.paths||[];var e=this.getGlobalScale();for(var r=0;r<t.length;r++){if(!t[r].path){t[r].createPathProxy()}t[r].path.setScale(e[0],e[1],t[r].segmentIgnoreThreshold)}};e.prototype.buildPath=function(t,e){var r=e.paths||[];for(var i=0;i<r.length;i++){r[i].buildPath(t,r[i].shape,true)}};e.prototype.afterBrush=function(){var t=this.shape.paths||[];for(var e=0;e<t.length;e++){t[e].pathUpdated()}};e.prototype.getBoundingRect=function(){this._updatePathDirty.call(this);return jl.prototype.getBoundingRect.call(this)};return e}(jl);var $h=function(){function t(t){this.colorStops=t||[]}t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})};return t}();var Jh=function(t){Et(e,t);function e(e,r,i,a,n,o){var s=t.call(this,n)||this;s.x=e==null?0:e;s.y=r==null?0:r;s.x2=i==null?1:i;s.y2=a==null?0:a;s.type="linear";s.global=o||false;return s}return e}($h);var Qh=function(t){Et(e,t);function e(e,r,i,a,n){var o=t.call(this,a)||this;o.x=e==null?.5:e;o.y=r==null?.5:r;o.r=i==null?.5:i;o.type="radial";o.global=n||false;return o}return e}($h);var tc=[0,0];var ec=[0,0];var rc=new He;var ic=new He;var ac=function(){function t(t,e){this._corners=[];this._axes=[];this._origin=[0,0];for(var r=0;r<4;r++){this._corners[r]=new He}for(var r=0;r<2;r++){this._axes[r]=new He}if(t){this.fromBoundingRect(t,e)}}t.prototype.fromBoundingRect=function(t,e){var r=this._corners;var i=this._axes;var a=t.x;var n=t.y;var o=a+t.width;var s=n+t.height;r[0].set(a,n);r[1].set(o,n);r[2].set(o,s);r[3].set(a,s);if(e){for(var l=0;l<4;l++){r[l].transform(e)}}He.sub(i[0],r[1],r[0]);He.sub(i[1],r[3],r[0]);i[0].normalize();i[1].normalize();for(var l=0;l<2;l++){this._origin[l]=i[l].dot(r[0])}};t.prototype.intersect=function(t,e){var r=true;var i=!e;rc.set(Infinity,Infinity);ic.set(0,0);if(!this._intersectCheckOneSide(this,t,rc,ic,i,1)){r=false;if(i){return r}}if(!this._intersectCheckOneSide(t,this,rc,ic,i,-1)){r=false;if(i){return r}}if(!i){He.copy(e,r?rc:ic)}return r};t.prototype._intersectCheckOneSide=function(t,e,r,i,a,n){var o=true;for(var s=0;s<2;s++){var l=this._axes[s];this._getProjMinMaxOnAxis(s,t._corners,tc);this._getProjMinMaxOnAxis(s,e._corners,ec);if(tc[1]<ec[0]||tc[0]>ec[1]){o=false;if(a){return o}var u=Math.abs(ec[0]-tc[1]);var f=Math.abs(tc[0]-ec[1]);if(Math.min(u,f)>i.len()){if(u<f){He.scale(i,l,-u*n)}else{He.scale(i,l,f*n)}}}else if(r){var u=Math.abs(ec[0]-tc[1]);var f=Math.abs(tc[0]-ec[1]);if(Math.min(u,f)<r.len()){if(u<f){He.scale(r,l,u*n)}else{He.scale(r,l,-f*n)}}}}return o};t.prototype._getProjMinMaxOnAxis=function(t,e,r){var i=this._axes[t];var a=this._origin;var n=e[0].dot(i)+a[t];var o=n;var s=n;for(var l=1;l<e.length;l++){var u=e[l].dot(i)+a[t];o=Math.min(u,o);s=Math.max(u,s)}r[0]=o;r[1]=s};return t}();var nc=[];var oc=function(t){Et(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.notClear=true;e.incremental=true;e._displayables=[];e._temporaryDisplayables=[];e._cursor=0;return e}e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.useStyle=function(){this.style={}};e.prototype.getCursor=function(){return this._cursor};e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length};e.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.markRedraw();this.notClear=false};e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]};e.prototype.addDisplayable=function(t,e){if(e){this._temporaryDisplayables.push(t)}else{this._displayables.push(t)}this.markRedraw()};e.prototype.addDisplayables=function(t,e){e=e||false;for(var r=0;r<t.length;r++){this.addDisplayable(t[r],e)}};e.prototype.getDisplayables=function(){return this._displayables};e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables};e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++){t&&t(this._displayables[e])}for(var e=0;e<this._temporaryDisplayables.length;e++){t&&t(this._temporaryDisplayables[e])}};e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this;e.update();e.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this;e.update();e.parent=null}};e.prototype.getBoundingRect=function(){if(!this._rect){var t=new Je(Infinity,Infinity,-Infinity,-Infinity);for(var e=0;e<this._displayables.length;e++){var r=this._displayables[e];var i=r.getBoundingRect().clone();if(r.needLocalTransform()){i.applyTransform(r.getLocalTransform(nc))}t.union(i)}this._rect=t}return this._rect};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();if(i.contain(r[0],r[1])){for(var a=0;a<this._displayables.length;a++){var n=this._displayables[a];if(n.contain(t,e)){return true}}}return false};return e}(Fs);var sc=Bo();function lc(t,e,r,i,a){var n;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();n=o&&o.animation}var s=e&&e.isAnimationEnabled();var l=t==="update";if(s){var u=void 0;var f=void 0;var h=void 0;if(i){u=pt(i.duration,200);f=pt(i.easing,"cubicOut");h=0}else{u=e.getShallow(l?"animationDurationUpdate":"animationDuration");f=e.getShallow(l?"animationEasingUpdate":"animationEasing");h=e.getShallow(l?"animationDelayUpdate":"animationDelay")}if(n){n.duration!=null&&(u=n.duration);n.easing!=null&&(f=n.easing);n.delay!=null&&(h=n.delay)}if(rt(h)){h=h(r,a)}if(rt(u)){u=u(r)}var c={duration:u||0,delay:h,easing:f};return c}else{return null}}function uc(t,e,r,i,a,n,o){var s=false;var l;if(rt(a)){o=n;n=a;a=null}else if(ot(a)){n=a.cb;o=a.during;s=a.isFrom;l=a.removeOpt;a=a.dataIndex}var u=t==="leave";if(!u){e.stopAnimation("leave")}var f=lc(t,i,a,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,a):null);if(f&&f.duration>0){var h=f.duration;var c=f.delay;var v=f.easing;var d={duration:h,delay:c||0,easing:v,done:n,force:!!n||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(r,d):e.animateTo(r,d)}else{e.stopAnimation();!s&&e.attr(r);o&&o(1);n&&n()}}function fc(t,e,r,i,a,n){uc("update",t,e,r,i,a,n)}function hc(t,e,r,i,a,n){uc("enter",t,e,r,i,a,n)}function cc(t){if(!t.__zr){return true}for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave"){return true}}return false}function vc(t,e,r,i,a,n){if(cc(t)){return}uc("leave",t,e,r,i,a,n)}function dc(t,e,r,i){t.removeTextContent();t.removeTextGuideLine();vc(t,{style:{opacity:0}},e,r,i)}function pc(t,e,r){function i(){t.parent&&t.parent.remove(t)}if(!t.isGroup){dc(t,e,r,i)}else{t.traverse((function(t){if(!t.isGroup){dc(t,e,r,i)}}))}}function gc(t){sc(t).oldStyle=t.style}function yc(t){return sc(t).oldStyle}var mc=Math.max;var _c=Math.min;var xc={};function wc(t){return jl.extend(t)}var bc=uh;function Sc(t,e){return bc(t,e)}function Mc(t,e){xc[t]=e}function Ic(t){if(xc.hasOwnProperty(t)){return xc[t]}}function Tc(t,e,r,i){var a=lh(t,e);if(r){if(i==="center"){r=Cc(r,a.getBoundingRect())}kc(a,r)}return a}function Dc(t,e,r){var i=new tu({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(r==="center"){var a={width:t.width,height:t.height};i.setStyle(Cc(e,a))}}});return i}function Cc(t,e){var r=e.width/e.height;var i=t.height*r;var a;if(i<=t.width){a=t.height}else{i=t.width;a=i/r}var n=t.x+t.width/2;var o=t.y+t.height/2;return{x:n-i/2,y:o-a/2,width:i,height:a}}var Ac=fh;function kc(t,e){if(!t.applyTransform){return}var r=t.getBoundingRect();var i=r.calculateTransform(e);t.applyTransform(i)}function Lc(t,e){iu(t,t,{lineWidth:e});return t}function Pc(t){au(t.shape,t.shape,t.style);return t}var Oc=nu;function Nc(t,e){var r=Re([]);while(t&&t!==e){ze(r,t.getLocalTransform(),r);t=t.parent}return r}function Rc(t,e,r){if(e&&!U(e)){e=tn.getLocalTransform(e)}if(r){e=Ge([],e)}return Qt([],t,e)}function Ec(t,e,r){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]);var a=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]);var n=[t==="left"?-i:t==="right"?i:0,t==="top"?-a:t==="bottom"?a:0];n=Rc(n,e,r);return Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function zc(t){return!t.isGroup}function Vc(t){return t.shape!=null}function Bc(t,e,r){if(!t||!e){return}function i(t){var e={};t.traverse((function(t){if(zc(t)&&t.anid){e[t.anid]=t}}));return e}function a(t){var e={x:t.x,y:t.y,rotation:t.rotation};if(Vc(t)){e.shape=F({},t.shape)}return e}var n=i(t);e.traverse((function(t){if(zc(t)&&t.anid){var e=n[t.anid];if(e){var i=a(t);t.attr(a(e));fc(t,i,r,Tu(t).dataIndex)}}}))}function Fc(t,e){return Z(t,(function(t){var r=t[0];r=mc(r,e.x);r=_c(r,e.x+e.width);var i=t[1];i=mc(i,e.y);i=_c(i,e.y+e.height);return[r,i]}))}function Gc(t,e){var r=mc(t.x,e.x);var i=_c(t.x+t.width,e.x+e.width);var a=mc(t.y,e.y);var n=_c(t.y+t.height,e.y+e.height);if(i>=r&&n>=a){return{x:r,y:a,width:i-r,height:n-a}}}function Wc(t,e,r){var i=F({rectHover:true},e);var a=i.style={strokeNoScale:true};r=r||{x:-1,y:-1,width:2,height:2};if(t){return t.indexOf("image://")===0?(a.image=t.slice(8),G(a,r),new tu(i)):Tc(t.replace("path://",""),i,r,"center")}}function Hc(t,e,r,i,a){for(var n=0,o=a[a.length-1];n<a.length;n++){var s=a[n];if(Yc(t,e,r,i,s[0],s[1],o[0],o[1])){return true}o=s}}function Yc(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var c=Uc(f,h,l,u);if(Xc(c)){return false}var v=t-a;var d=e-n;var p=Uc(v,d,l,u)/c;if(p<0||p>1){return false}var g=Uc(v,d,f,h)/c;if(g<0||g>1){return false}return true}function Uc(t,e,r,i){return t*i-r*e}function Xc(t){return t<=1e-6&&t>=-1e-6}function Zc(t){var e=t.itemTooltipOption;var r=t.componentModel;var i=t.itemName;var a=it(e)?{formatter:e}:e;var n=r.mainType;var o=r.componentIndex;var s={componentType:n,name:i,$vars:["name"]};s[n+"Index"]=o;var l=t.formatterParamsExtra;if(l){X($(l),(function(t){if(!Pt(s,t)){s[t]=l[t];s.$vars.push(t)}}))}var u=Tu(t.el);u.componentMainType=n;u.componentIndex=o;u.tooltipConfig={name:i,option:G({content:i,formatterParams:s},a)}}function jc(t,e){var r;if(t.isGroup){r=e(t)}if(!r){t.traverse(e)}}function qc(t,e){if(t){if(et(t)){for(var r=0;r<t.length;r++){jc(t[r],e)}}else{jc(t,e)}}}Mc("circle",vh);Mc("ellipse",ph);Mc("sector",Ph);Mc("ring",Nh);Mc("polygon",Vh);Mc("polyline",Fh);Mc("rect",lu);Mc("line",Hh);Mc("bezierCurve",Zh);Mc("arc",qh);var Kc=Object.freeze({__proto__:null,updateProps:fc,initProps:hc,removeElement:vc,removeElementWithFadeOut:pc,isElementRemoved:cc,extendShape:wc,extendPath:Sc,registerShape:Mc,getShapeClass:Ic,makePath:Tc,makeImage:Dc,mergePath:Ac,resizePath:kc,subPixelOptimizeLine:Lc,subPixelOptimizeRect:Pc,subPixelOptimize:Oc,getTransform:Nc,applyTransform:Rc,transformDirection:Ec,groupTransition:Bc,clipPointsByRect:Fc,clipRectByRect:Gc,createIcon:Wc,linePolygonIntersect:Hc,lineLineIntersect:Yc,setTooltipConfig:Zc,traverseElements:qc,Group:Tn,Image:tu,Text:cu,Circle:vh,Ellipse:ph,Sector:Ph,Ring:Nh,Polygon:Vh,Polyline:Fh,Rect:lu,Line:Hh,BezierCurve:Zh,Arc:qh,IncrementalDisplayable:oc,CompoundPath:Kh,LinearGradient:Jh,RadialGradient:Qh,BoundingRect:Je,OrientedBoundingRect:ac,Point:He,Path:jl});var $c={};function Jc(t,e){for(var r=0;r<Ru.length;r++){var i=Ru[r];var a=e[i];var n=t.ensureState(i);n.style=n.style||{};n.style.text=a}var o=t.currentStates.slice();t.clearStates(true);t.setStyle({text:e.normal});t.useStates(o,true)}function Qc(t,e,r){var i=t.labelFetcher;var a=t.labelDataIndex;var n=t.labelDimIndex;var o=e.normal;var s;if(i){s=i.getFormattedLabel(a,"normal",null,n,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)}if(s==null){s=rt(t.defaultText)?t.defaultText(a,t,r):t.defaultText}var l={normal:s};for(var u=0;u<Ru.length;u++){var f=Ru[u];var h=e[f];l[f]=pt(i?i.getFormattedLabel(a,f,null,n,h&&h.get("formatter")):null,s)}return l}function tv(t,e,r,i){r=r||$c;var a=t instanceof cu;var n=false;for(var o=0;o<Eu.length;o++){var s=e[Eu[o]];if(s&&s.getShallow("show")){n=true;break}}var l=a?t:t.getTextContent();if(n){if(!a){if(!l){l=new cu;t.setTextContent(l)}if(t.stateProxy){l.stateProxy=t.stateProxy}}var u=Qc(r,e);var f=e.normal;var h=!!f.getShallow("show");var c=rv(f,i&&i.normal,r,false,!a);c.text=u.normal;if(!a){t.setTextConfig(iv(f,r,false))}for(var o=0;o<Ru.length;o++){var v=Ru[o];var s=e[v];if(s){var d=l.ensureState(v);var p=!!pt(s.getShallow("show"),h);if(p!==h){d.ignore=!p}d.style=rv(s,i&&i[v],r,true,!a);d.style.text=u[v];if(!a){var g=t.ensureState(v);g.textConfig=iv(s,r,true)}}}l.silent=!!f.getShallow("silent");if(l.style.x!=null){c.x=l.style.x}if(l.style.y!=null){c.y=l.style.y}l.ignore=!h;l.useStyle(c);l.dirty();if(r.enableTextSetter){hv(l).setLabelText=function(t){var i=Qc(r,e,t);Jc(l,i)}}}else if(l){l.ignore=true}t.dirty()}function ev(t,e){e=e||"label";var r={normal:t.getModel(e)};for(var i=0;i<Ru.length;i++){var a=Ru[i];r[a]=t.getModel([a,e])}return r}function rv(t,e,r,i,a){var n={};av(n,t,r,i,a);e&&F(n,e);return n}function iv(t,e,r){e=e||{};var i={};var a;var n=t.getShallow("rotate");var o=pt(t.getShallow("distance"),r?null:5);var s=t.getShallow("offset");a=t.getShallow("position")||(r?null:"inside");a==="outside"&&(a=e.defaultOutsidePosition||"top");if(a!=null){i.position=a}if(s!=null){i.offset=s}if(n!=null){n*=Math.PI/180;i.rotation=n}if(o!=null){i.distance=o}i.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto";return i}function av(t,e,r,i,a){r=r||$c;var n=e.ecModel;var o=n&&n.option.textStyle;var s=nv(e);var l;if(s){l={};for(var u in s){if(s.hasOwnProperty(u)){var f=e.getModel(["rich",u]);uv(l[u]={},f,o,r,i,a,false,true)}}}if(l){t.rich=l}var h=e.get("overflow");if(h){t.overflow=h}var c=e.get("minMargin");if(c!=null){t.margin=c}uv(t,e,o,r,i,a,true,false)}function nv(t){var e;while(t&&t!==t.ecModel){var r=(t.option||$c).rich;if(r){e=e||{};var i=$(r);for(var a=0;a<i.length;a++){var n=i[a];e[n]=1}}t=t.parentModel}return e}var ov=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var sv=["align","lineHeight","width","height","tag","verticalAlign"];var lv=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function uv(t,e,r,i,a,n,o,s){r=!a&&r||$c;var l=i&&i.inheritColor;var u=e.getShallow("color");var f=e.getShallow("textBorderColor");var h=pt(e.getShallow("opacity"),r.opacity);if(u==="inherit"||u==="auto"){if(l){u=l}else{u=null}}if(f==="inherit"||f==="auto"){if(l){f=l}else{f=null}}if(!n){u=u||r.color;f=f||r.textBorderColor}if(u!=null){t.fill=u}if(f!=null){t.stroke=f}var c=pt(e.getShallow("textBorderWidth"),r.textBorderWidth);if(c!=null){t.lineWidth=c}var v=pt(e.getShallow("textBorderType"),r.textBorderType);if(v!=null){t.lineDash=v}var d=pt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);if(d!=null){t.lineDashOffset=d}if(!a&&h==null&&!s){h=i&&i.defaultOpacity}if(h!=null){t.opacity=h}if(!a&&!n){if(t.fill==null&&i.inheritColor){t.fill=i.inheritColor}}for(var p=0;p<ov.length;p++){var g=ov[p];var y=pt(e.getShallow(g),r[g]);if(y!=null){t[g]=y}}for(var p=0;p<sv.length;p++){var g=sv[p];var y=e.getShallow(g);if(y!=null){t[g]=y}}if(t.verticalAlign==null){var m=e.getShallow("baseline");if(m!=null){t.verticalAlign=m}}if(!o||!i.disableBox){for(var p=0;p<lv.length;p++){var g=lv[p];var y=e.getShallow(g);if(y!=null){t[g]=y}}var _=e.getShallow("borderType");if(_!=null){t.borderDash=_}if((t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l){t.backgroundColor=l}if((t.borderColor==="auto"||t.borderColor==="inherit")&&l){t.borderColor=l}}}function fv(t,e){var r=e&&e.getModel("textStyle");return xt([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var hv=Bo();function cv(t,e,r,i){if(!t){return}var a=hv(t);a.prevValue=a.value;a.value=r;var n=e.normal;a.valueAnimation=n.get("valueAnimation");if(a.valueAnimation){a.precision=n.get("precision");a.defaultInterpolatedText=i;a.statesModels=e}}function vv(t,e,r,i,a){var n=hv(t);if(!n.valueAnimation||n.prevValue===n.value){return}var o=n.defaultInterpolatedText;var s=pt(n.interpolatedValue,n.prevValue);var l=n.value;function u(i){var u=Ko(r,n.precision,s,l,i);n.interpolatedValue=i===1?null:u;var f=Qc({labelDataIndex:e,labelFetcher:a,defaultText:o?o(u):u+""},n.statesModels,u);Jc(t,f)}t.percent=0;(n.prevValue==null?hc:fc)(t,{percent:1},i,e,null,u)}var dv=["textStyle","color"];var pv=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"];var gv=new cu;var yv=function(){function t(){}t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(dv):null)};t.prototype.getFont=function(){return fv({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};t.prototype.getTextRect=function(t){var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var r=0;r<pv.length;r++){e[pv[r]]=this.getShallow(pv[r])}gv.useStyle(e);gv.update();return gv.getBoundingRect()};return t}();var mv=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var _v=hs(mv);var xv=function(){function t(){}t.prototype.getLineStyle=function(t){return _v(this,t)};return t}();var wv=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var bv=hs(wv);var Sv=function(){function t(){}t.prototype.getItemStyle=function(t,e){return bv(this,t,e)};return t}();var Mv=function(){function t(t,e,r){this.parentModel=e;this.ecModel=r;this.option=t}t.prototype.init=function(t,e,r){var i=[];for(var a=3;a<arguments.length;a++){i[a-3]=arguments[a]}};t.prototype.mergeOption=function(t,e){V(this.option,t,true)};t.prototype.get=function(t,e){if(t==null){return this.option}return this._doGet(this.parsePath(t),!e&&this.parentModel)};t.prototype.getShallow=function(t,e){var r=this.option;var i=r==null?r:r[t];if(i==null&&!e){var a=this.parentModel;if(a){i=a.getShallow(t)}}return i};t.prototype.getModel=function(e,r){var i=e!=null;var a=i?this.parsePath(e):null;var n=i?this._doGet(a):this.option;r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a));return new t(n,r,this.ecModel)};t.prototype.isEmpty=function(){return this.option==null};t.prototype.restoreData=function(){};t.prototype.clone=function(){var t=this.constructor;return new t(z(this.option))};t.prototype.parsePath=function(t){if(typeof t==="string"){return t.split(".")}return t};t.prototype.resolveParentPath=function(t){return t};t.prototype.isAnimationEnabled=function(){if(!c.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};t.prototype._doGet=function(t,e){var r=this.option;if(!t){return r}for(var i=0;i<t.length;i++){if(!t[i]){continue}r=r&&typeof r==="object"?r[t[i]]:null;if(r==null){break}}if(r==null&&e){r=e._doGet(this.resolveParentPath(t),e.parentModel)}return r};return t}();is(Mv);ss(Mv);Y(Mv,xv);Y(Mv,Sv);Y(Mv,ds);Y(Mv,yv);var Iv=Math.round(Math.random()*10);function Tv(t){return[t||"",Iv++].join("_")}function Dv(t){var e={};t.registerSubTypeDefaulter=function(t,r){var i=ts(t);e[i.main]=r};t.determineSubType=function(r,i){var a=i.type;if(!a){var n=ts(r).main;if(t.hasSubTypes(r)&&e[n]){a=e[n](i)}}return a}}function Cv(t,e){t.topologicalTravel=function(t,e,i,a){if(!t.length){return}var n=r(e);var o=n.graph;var s=n.noEntryList;var l={};X(t,(function(t){l[t]=true}));while(s.length){var u=s.pop();var f=o[u];var h=!!l[u];if(h){i.call(a,u,f.originalDeps.slice());delete l[u]}X(f.successor,h?v:c)}X(l,(function(){var t="";throw new Error(t)}));function c(t){o[t].entryCount--;if(o[t].entryCount===0){s.push(t)}}function v(t){l[t]=true;c(t)}};function r(t){var r={};var n=[];X(t,(function(o){var s=i(r,o);var l=s.originalDeps=e(o);var u=a(l,t);s.entryCount=u.length;if(s.entryCount===0){n.push(o)}X(u,(function(t){if(W(s.predecessor,t)<0){s.predecessor.push(t)}var e=i(r,t);if(W(e.successor,t)<0){e.successor.push(o)}}))}));return{graph:r,noEntryList:n}}function i(t,e){if(!t[e]){t[e]={predecessor:[],successor:[]}}return t[e]}function a(t,e){var r=[];X(t,(function(t){W(e,t)>=0&&r.push(t)}));return r}}function Av(t,e){return V(V({},t,true),e,true)}var kv={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var Lv={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var Pv="ZH";var Ov="EN";var Nv=Ov;var Rv={};var Ev={};var zv=!c.domSupported?Nv:function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(Pv)>-1?Pv:Nv}();function Vv(t,e){t=t.toUpperCase();Ev[t]=new Mv(e);Rv[t]=e}function Bv(t){if(it(t)){var e=Rv[t.toUpperCase()]||{};if(t===Pv||t===Ov){return z(e)}else{return V(z(e),z(Rv[Nv]),false)}}else{return V(z(t),z(Rv[Nv]),false)}}function Fv(t){return Ev[t]}function Gv(){return Ev[Nv]}Vv(Ov,kv);Vv(Pv,Lv);var Wv=1e3;var Hv=Wv*60;var Yv=Hv*60;var Uv=Yv*24;var Xv=Uv*365;var Zv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"};var jv="{yyyy}-{MM}-{dd}";var qv={year:"{yyyy}",month:"{yyyy}-{MM}",day:jv,hour:jv+" "+Zv.hour,minute:jv+" "+Zv.minute,second:jv+" "+Zv.second,millisecond:Zv.none};var Kv=["year","month","day","hour","minute","second","millisecond"];var $v=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Jv(t,e){t+="";return"0000".substr(0,e-t.length)+t}function Qv(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function td(t){return t===Qv(t)}function ed(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function rd(t,e,r,i){var a=Kn(t);var n=a[od(r)]();var o=a[sd(r)]()+1;var s=Math.floor((o-1)/3)+1;var l=a[ld(r)]();var u=a["get"+(r?"UTC":"")+"Day"]();var f=a[ud(r)]();var h=(f-1)%12+1;var c=a[fd(r)]();var v=a[hd(r)]();var d=a[cd(r)]();var p=i instanceof Mv?i:Fv(i||zv)||Gv();var g=p.getModel("time");var y=g.get("month");var m=g.get("monthAbbr");var _=g.get("dayOfWeek");var x=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,n+"").replace(/{yy}/g,n%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[o-1]).replace(/{MMM}/g,m[o-1]).replace(/{MM}/g,Jv(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Jv(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Jv(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,Jv(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Jv(c,2)).replace(/{m}/g,c+"").replace(/{ss}/g,Jv(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Jv(d,3)).replace(/{S}/g,d+"")}function id(t,e,r,i,a){var n=null;if(it(r)){n=r}else if(rt(r)){n=r(t.value,e,{level:t.level})}else{var o=F({},Zv);if(t.level>0){for(var s=0;s<Kv.length;++s){o[Kv[s]]="{primary|"+o[Kv[s]]+"}"}}var l=r?r.inherit===false?r:G(r,o):o;var u=ad(t.value,a);if(l[u]){n=l[u]}else if(l.inherit){var f=$v.indexOf(u);for(var s=f-1;s>=0;--s){if(l[u]){n=l[u];break}}n=n||o.none}if(et(n)){var h=t.level==null?0:t.level>=0?t.level:n.length+t.level;h=Math.min(h,n.length-1);n=n[h]}}return rd(new Date(t.value),n,a,i)}function ad(t,e){var r=Kn(t);var i=r[sd(e)]()+1;var a=r[ld(e)]();var n=r[ud(e)]();var o=r[fd(e)]();var s=r[hd(e)]();var l=r[cd(e)]();var u=l===0;var f=u&&s===0;var h=f&&o===0;var c=h&&n===0;var v=c&&a===1;var d=v&&i===1;if(d){return"year"}else if(v){return"month"}else if(c){return"day"}else if(h){return"hour"}else if(f){return"minute"}else if(u){return"second"}else{return"millisecond"}}function nd(t,e,r){var i=nt(t)?Kn(t):t;e=e||ad(t,r);switch(e){case"year":return i[od(r)]();case"half-year":return i[sd(r)]()>=6?1:0;case"quarter":return Math.floor((i[sd(r)]()+1)/4);case"month":return i[sd(r)]();case"day":return i[ld(r)]();case"half-day":return i[ud(r)]()/24;case"hour":return i[ud(r)]();case"minute":return i[fd(r)]();case"second":return i[hd(r)]();case"millisecond":return i[cd(r)]()}}function od(t){return t?"getUTCFullYear":"getFullYear"}function sd(t){return t?"getUTCMonth":"getMonth"}function ld(t){return t?"getUTCDate":"getDate"}function ud(t){return t?"getUTCHours":"getHours"}function fd(t){return t?"getUTCMinutes":"getMinutes"}function hd(t){return t?"getUTCSeconds":"getSeconds"}function cd(t){return t?"getUTCMilliseconds":"getMilliseconds"}function vd(t){return t?"setUTCFullYear":"setFullYear"}function dd(t){return t?"setUTCMonth":"setMonth"}function pd(t){return t?"setUTCDate":"setDate"}function gd(t){return t?"setUTCHours":"setHours"}function yd(t){return t?"setUTCMinutes":"setMinutes"}function md(t){return t?"setUTCSeconds":"setSeconds"}function _d(t){return t?"setUTCMilliseconds":"setMilliseconds"}function xd(t){if(!io(t)){return it(t)?t:"-"}var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function wd(t,e){t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));if(e&&t){t=t.charAt(0).toUpperCase()+t.slice(1)}return t}var bd=mt;function Sd(t,e,r){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(t){return t&&xt(t)?t:"-"}function n(t){return!!(t!=null&&!isNaN(t)&&isFinite(t))}var o=e==="time";var s=t instanceof Date;if(o||s){var l=o?Kn(t):t;if(!isNaN(+l)){return rd(l,i,r)}else if(s){return"-"}}if(e==="ordinal"){return at(t)?a(t):nt(t)?n(t)?t+"":"-":"-"}var u=ro(t);return n(u)?xd(u):at(t)?a(t):typeof t==="boolean"?t+"":"-"}var Md=["a","b","c","d","e","f","g"];var Id=function(t,e){return"{"+t+(e==null?"":e)+"}"};function Td(t,e,r){if(!et(e)){e=[e]}var i=e.length;if(!i){return""}var a=e[0].$vars||[];for(var n=0;n<a.length;n++){var o=Md[n];t=t.replace(Id(o),Id(o,0))}for(var s=0;s<i;s++){for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace(Id(Md[l],s),r?ye(u):u)}}return t}function Dd(t,e,r){X(e,(function(e,i){t=t.replace("{"+i+"}",r?ye(e):e)}));return t}function Cd(t,e){var r=it(t)?{color:t,extraCssText:e}:t||{};var i=r.color;var a=r.type;e=r.extraCssText;var n=r.renderMode||"html";if(!i){return""}if(n==="html"){return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+ye(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+ye(i)+";"+(e||"")+'"></span>'}else{var o=r.markerId||"markerX";return{renderMode:n,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}}function Ad(t,e){e=e||"transparent";return it(t)?t:ot(t)?t.colorStops&&(t.colorStops[0]||{}).color||e:e}function kd(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null;r.location.href=t}else{window.open(t,e)}}var Ld=X;var Pd=["left","right","top","bottom","width","height"];var Od=[["width","left","right"],["height","top","bottom"]];function Nd(t,e,r,i,a){var n=0;var o=0;if(i==null){i=Infinity}if(a==null){a=Infinity}var s=0;e.eachChild((function(l,u){var f=l.getBoundingRect();var h=e.childAt(u+1);var c=h&&h.getBoundingRect();var v;var d;if(t==="horizontal"){var p=f.width+(c?-c.x+f.x:0);v=n+p;if(v>i||l.newline){n=0;v=p;o+=s+r;s=f.height}else{s=Math.max(s,f.height)}}else{var g=f.height+(c?-c.y+f.y:0);d=o+g;if(d>a||l.newline){n+=s+r;o=0;d=g;s=f.width}else{s=Math.max(s,f.width)}}if(l.newline){return}l.x=n;l.y=o;l.markRedraw();t==="horizontal"?n=v+r:o=d+r}))}var Rd=Nd;var Ed=tt(Nd,"vertical");var zd=tt(Nd,"horizontal");function Vd(t,e,r){var i=e.width;var a=e.height;var n=Vn(t.left,i);var o=Vn(t.top,a);var s=Vn(t.right,i);var l=Vn(t.bottom,a);(isNaN(n)||isNaN(parseFloat(t.left)))&&(n=0);(isNaN(s)||isNaN(parseFloat(t.right)))&&(s=i);(isNaN(o)||isNaN(parseFloat(t.top)))&&(o=0);(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=a);r=bd(r||0);return{width:Math.max(s-n-r[1]-r[3],0),height:Math.max(l-o-r[0]-r[2],0)}}function Bd(t,e,r){r=bd(r||0);var i=e.width;var a=e.height;var n=Vn(t.left,i);var o=Vn(t.top,a);var s=Vn(t.right,i);var l=Vn(t.bottom,a);var u=Vn(t.width,i);var f=Vn(t.height,a);var h=r[2]+r[0];var c=r[1]+r[3];var v=t.aspect;if(isNaN(u)){u=i-s-c-n}if(isNaN(f)){f=a-l-h-o}if(v!=null){if(isNaN(u)&&isNaN(f)){if(v>i/a){u=i*.8}else{f=a*.8}}if(isNaN(u)){u=v*f}if(isNaN(f)){f=u/v}}if(isNaN(n)){n=i-s-u-c}if(isNaN(o)){o=a-l-f-h}switch(t.left||t.right){case"center":n=i/2-u/2-r[3];break;case"right":n=i-u-c;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-f/2-r[0];break;case"bottom":o=a-f-h;break}n=n||0;o=o||0;if(isNaN(u)){u=i-c-n-(s||0)}if(isNaN(f)){f=a-h-o-(l||0)}var d=new Je(n+r[3],o+r[0],u,f);d.margin=r;return d}function Fd(t,e,r,i,a,n){var o=!a||!a.hv||a.hv[0];var s=!a||!a.hv||a.hv[1];var l=a&&a.boundingMode||"all";n=n||t;n.x=t.x;n.y=t.y;if(!o&&!s){return false}var u;if(l==="raw"){u=t.type==="group"?new Je(0,0,+e.width||0,+e.height||0):t.getBoundingRect()}else{u=t.getBoundingRect();if(t.needLocalTransform()){var f=t.getLocalTransform();u=u.clone();u.applyTransform(f)}}var h=Bd(G({width:u.width,height:u.height},e),r,i);var c=o?h.x-u.x:0;var v=s?h.y-u.y:0;if(l==="raw"){n.x=c;n.y=v}else{n.x+=c;n.y+=v}if(n===t){t.markRedraw()}return true}function Gd(t,e){return t[Od[e][0]]!=null||t[Od[e][1]]!=null&&t[Od[e][2]]!=null}function Wd(t){var e=t.layoutMode||t.constructor.layoutMode;return ot(e)?e:e?{type:e}:null}function Hd(t,e,r){var i=r&&r.ignoreSize;!et(i)&&(i=[i,i]);var a=o(Od[0],0);var n=o(Od[1],1);u(Od[0],t,a);u(Od[1],t,n);function o(r,a){var n={};var o=0;var u={};var f=0;var h=2;Ld(r,(function(e){u[e]=t[e]}));Ld(r,(function(t){s(e,t)&&(n[t]=u[t]=e[t]);l(n,t)&&o++;l(u,t)&&f++}));if(i[a]){if(l(e,r[1])){u[r[2]]=null}else if(l(e,r[2])){u[r[1]]=null}return u}if(f===h||!o){return u}else if(o>=h){return n}else{for(var c=0;c<r.length;c++){var v=r[c];if(!s(n,v)&&s(t,v)){n[v]=t[v];break}}return n}}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return t[e]!=null&&t[e]!=="auto"}function u(t,e,r){Ld(t,(function(t){e[t]=r[t]}))}}function Yd(t){return Ud({},t)}function Ud(t,e){e&&t&&Ld(Pd,(function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}));return t}var Xd=Bo();var Zd=function(t){u(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.uid=Tv("ec_cpt_model");return a}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=Wd(this);var i=r?Yd(t):{};var a=e.getTheme();V(t,a.get(this.mainType));V(t,this.getDefaultOption());if(r){Hd(t,i,r)}};e.prototype.mergeOption=function(t,e){V(this.option,t,true);var r=Wd(this);if(r){Hd(this.option,t,r)}};e.prototype.optionUpdated=function(t,e){};e.prototype.getDefaultOption=function(){var t=this.constructor;if(!rs(t)){return t.defaultOption}var e=Xd(this);if(!e.defaultOption){var r=[];var i=t;while(i){var a=i.prototype.defaultOption;a&&r.push(a);i=i.superClass}var n={};for(var o=r.length-1;o>=0;o--){n=V(n,r[o],true)}e.defaultOption=n}return e.defaultOption};e.prototype.getReferringComponents=function(t,e){var r=t+"Index";var i=t+"Id";return Uo(this.ecModel,t,{index:this.get(r,true),id:this.get(i,true)},e)};e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}};e.prototype.getZLevelKey=function(){return""};e.prototype.setZLevel=function(t){this.option.zlevel=t};e.protoInitialize=function(){var t=e.prototype;t.type="component";t.id="";t.name="";t.mainType="";t.subType="";t.componentIndex=0}();return e}(Mv);ns(Zd,Mv);fs(Zd);Dv(Zd);Cv(Zd,jd);function jd(t){var e=[];X(Zd.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}));e=Z(e,(function(t){return ts(t).main}));if(t!=="dataset"&&W(e,"dataset")<=0){e.unshift("dataset")}return e}var qd="";if(typeof navigator!=="undefined"){qd=navigator.platform||""}var Kd="rgba(0, 0, 0, 0.2)";var $d={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Kd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Kd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Kd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Kd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Kd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Kd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:qd.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var Jd=Ct(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]);var Qd="original";var tp="arrayRows";var ep="objectRows";var rp="keyedColumns";var ip="typedArray";var ap="unknown";var np="column";var op="row";var sp={Must:1,Might:2,Not:3};var lp=Bo();function up(t){lp(t).datasetMap=Ct()}function fp(t,e,r){var i={};var a=cp(e);if(!a||!t){return i}var n=[];var o=[];var s=e.ecModel;var l=lp(s).datasetMap;var u=a.uid+"_"+r.seriesLayoutBy;var f;var h;t=t.slice();X(t,(function(e,r){var a=ot(e)?e:t[r]={name:e};if(a.type==="ordinal"&&f==null){f=r;h=d(a)}i[a.name]=[]}));var c=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});X(t,(function(t,e){var r=t.name;var a=d(t);if(f==null){var s=c.valueWayDim;v(i[r],s,a);v(o,s,a);c.valueWayDim+=a}else if(f===e){v(i[r],0,a);v(n,0,a)}else{var s=c.categoryWayDim;v(i[r],s,a);v(o,s,a);c.categoryWayDim+=a}}));function v(t,e,r){for(var i=0;i<r;i++){t.push(e+i)}}function d(t){var e=t.dimsDef;return e?e.length:1}n.length&&(i.itemName=n);o.length&&(i.seriesName=o);return i}function hp(t,e,r){var i={};var a=cp(t);if(!a){return i}var n=e.sourceFormat;var o=e.dimensionsDefine;var s;if(n===ep||n===rp){X(o,(function(t,e){if((ot(t)?t.name:t)==="name"){s=e}}))}var l=function(){var t={};var i={};var a=[];for(var l=0,u=Math.min(5,r);l<u;l++){var f=pp(e.data,n,e.seriesLayoutBy,o,e.startIndex,l);a.push(f);var h=f===sp.Not;if(h&&t.v==null&&l!==s){t.v=l}if(t.n==null||t.n===t.v||!h&&a[t.n]===sp.Not){t.n=l}if(c(t)&&a[t.n]!==sp.Not){return t}if(!h){if(f===sp.Might&&i.v==null&&l!==s){i.v=l}if(i.n==null||i.n===i.v){i.n=l}}}function c(t){return t.v!=null&&t.n!=null}return c(t)?t:c(i)?i:null}();if(l){i.value=[l.v];var u=s!=null?s:l.n;i.itemName=[u];i.seriesName=[u]}return i}function cp(t){var e=t.get("data",true);if(!e){return Uo(t.ecModel,"dataset",{index:t.get("datasetIndex",true),id:t.get("datasetId",true)},Ho).models[0]}}function vp(t){if(!t.get("transform",true)&&!t.get("fromTransformResult",true)){return[]}return Uo(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",true),id:t.get("fromDatasetId",true)},Ho).models}function dp(t,e){return pp(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function pp(t,e,r,i,a,n){var o;var s=5;if(lt(t)){return sp.Not}var l;var u;if(i){var f=i[n];if(ot(f)){l=f.name;u=f.type}else if(it(f)){l=f}}if(u!=null){return u==="ordinal"?sp.Must:sp.Not}if(e===tp){var h=t;if(r===op){var c=h[n];for(var v=0;v<(c||[]).length&&v<s;v++){if((o=x(c[a+v]))!=null){return o}}}else{for(var v=0;v<h.length&&v<s;v++){var d=h[a+v];if(d&&(o=x(d[n]))!=null){return o}}}}else if(e===ep){var p=t;if(!l){return sp.Not}for(var v=0;v<p.length&&v<s;v++){var g=p[v];if(g&&(o=x(g[l]))!=null){return o}}}else if(e===rp){var y=t;if(!l){return sp.Not}var c=y[l];if(!c||lt(c)){return sp.Not}for(var v=0;v<c.length&&v<s;v++){if((o=x(c[v]))!=null){return o}}}else if(e===Qd){var m=t;for(var v=0;v<m.length&&v<s;v++){var g=m[v];var _=xo(g);if(!et(_)){return sp.Not}if((o=x(_[n]))!=null){return o}}}function x(t){var e=it(t);if(t!=null&&isFinite(t)&&t!==""){return e?sp.Might:sp.Not}else if(e&&t!=="-"){return sp.Must}}return sp.Not}var gp=Ct();function yp(t,e){_t(gp.get(t)==null&&e);gp.set(t,e)}function mp(t,e,r){var i=gp.get(e);if(!i){return r}var a=i(t);if(!a){return r}return r.concat(a)}var _p=Bo();var xp=Bo();var wp=function(){function t(){}t.prototype.getColorFromPalette=function(t,e,r){var i=yo(this.get("color",true));var a=this.get("colorLayer",true);return Mp(this,_p,i,a,t,e,r)};t.prototype.clearColorPalette=function(){Ip(this,_p)};return t}();function bp(t,e,r,i){var a=yo(t.get(["aria","decal","decals"]));return Mp(t,xp,a,null,e,r,i)}function Sp(t,e){var r=t.length;for(var i=0;i<r;i++){if(t[i].length>e){return t[i]}}return t[r-1]}function Mp(t,e,r,i,a,n,o){n=n||t;var s=e(n);var l=s.paletteIdx||0;var u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a)){return u[a]}var f=o==null||!i?r:Sp(i,o);f=f||r;if(!f||!f.length){return}var h=f[l];if(a){u[a]=h}s.paletteIdx=(l+1)%f.length;return h}function Ip(t,e){e(t).paletteIdx=0;e(t).paletteNameMap={}}var Tp;var Dp;var Cp;var Ap="\0_ec_inner";var kp=1;var Lp=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(t,e,r,i,a,n){i=i||{};this.option=null;this._theme=new Mv(i);this._locale=new Mv(a);this._optionManager=n};e.prototype.setOption=function(t,e,r){var i=Ep(e);this._optionManager.setOption(t,r,i);this._resetOption(null,i)};e.prototype.resetOption=function(t,e){return this._resetOption(t,Ep(e))};e.prototype._resetOption=function(t,e){var r=false;var i=this._optionManager;if(!t||t==="recreate"){var a=i.mountOption(t==="recreate");if(!this.option||t==="recreate"){Cp(this,a)}else{this.restoreData();this._mergeOption(a,e)}r=true}if(t==="timeline"||t==="media"){this.restoreData()}if(!t||t==="recreate"||t==="timeline"){var n=i.getTimelineOption(this);if(n){r=true;this._mergeOption(n,e)}}if(!t||t==="recreate"||t==="media"){var o=i.getMediaOption(this);if(o.length){X(o,(function(t){r=true;this._mergeOption(t,e)}),this)}}return r};e.prototype.mergeOption=function(t){this._mergeOption(t,null)};e.prototype._mergeOption=function(t,e){var r=this.option;var i=this._componentsMap;var a=this._componentsCount;var n=[];var o=Ct();var s=e&&e.replaceMergeMainTypeMap;up(this);X(t,(function(t,e){if(t==null){return}if(!Zd.hasClass(e)){r[e]=r[e]==null?z(t):V(r[e],t,true)}else if(e){n.push(e);o.set(e,true)}}));if(s){s.each((function(t,e){if(Zd.hasClass(e)&&!o.get(e)){n.push(e);o.set(e,true)}}))}Zd.topologicalTravel(n,Zd.getAllClassMainTypes(),l,this);function l(e){var n=mp(this,e,yo(t[e]));var o=i.get(e);var l=!o?"replaceAll":s&&s.get(e)?"replaceMerge":"normalMerge";var u=bo(o,n,l);Ro(u,e,Zd);r[e]=null;i.set(e,null);a.set(e,0);var f=[];var h=[];var c=0;var v;X(u,(function(t,r){var i=t.existing;var a=t.newOption;if(!a){if(i){i.mergeOption({},this);i.optionUpdated({},false)}}else{var n=e==="series";var o=Zd.getClass(e,t.keyInfo.subType,!n);if(!o){return}if(e==="tooltip"){if(v){return}v=true}if(i&&i.constructor===o){i.name=t.keyInfo.name;i.mergeOption(a,this);i.optionUpdated(a,false)}else{var s=F({componentIndex:r},t.keyInfo);i=new o(a,this,this,s);F(i,s);if(t.brandNew){i.__requireNewView=true}i.init(a,this,this);i.optionUpdated(null,true)}}if(i){f.push(i.option);h.push(i);c++}else{f.push(void 0);h.push(void 0)}}),this);r[e]=f;i.set(e,h);a.set(e,c);if(e==="series"){Tp(this)}}if(!this._seriesIndices){Tp(this)}};e.prototype.getOption=function(){var t=z(this.option);X(t,(function(e,r){if(Zd.hasClass(r)){var i=yo(e);var a=i.length;var n=false;for(var o=a-1;o>=0;o--){if(i[o]&&!Oo(i[o])){n=true}else{i[o]=null;!n&&a--}}i.length=a;t[r]=i}}));delete t[Ap];return t};e.prototype.getTheme=function(){return this._theme};e.prototype.getLocaleModel=function(){return this._locale};e.prototype.setUpdatePayload=function(t){this._payload=t};e.prototype.getUpdatePayload=function(){return this._payload};e.prototype.getComponent=function(t,e){var r=this._componentsMap.get(t);if(r){var i=r[e||0];if(i){return i}else if(e==null){for(var a=0;a<r.length;a++){if(r[a]){return r[a]}}}}};e.prototype.queryComponents=function(t){var e=t.mainType;if(!e){return[]}var r=t.index;var i=t.id;var a=t.name;var n=this._componentsMap.get(e);if(!n||!n.length){return[]}var o;if(r!=null){o=[];X(yo(r),(function(t){n[t]&&o.push(n[t])}))}else if(i!=null){o=Np("id",i,n)}else if(a!=null){o=Np("name",a,n)}else{o=q(n,(function(t){return!!t}))}return Rp(o,t)};e.prototype.findComponents=function(t){var e=t.query;var r=t.mainType;var i=n(e);var a=i?this.queryComponents(i):q(this._componentsMap.get(r),(function(t){return!!t}));return o(Rp(a,t));function n(t){var e=r+"Index";var i=r+"Id";var a=r+"Name";return t&&(t[e]!=null||t[i]!=null||t[a]!=null)?{mainType:r,index:t[e],id:t[i],name:t[a]}:null}function o(e){return t.filter?q(e,t.filter):e}};e.prototype.eachComponent=function(t,e,r){var i=this._componentsMap;if(rt(t)){var a=e;var n=t;i.each((function(t,e){for(var r=0;t&&r<t.length;r++){var i=t[r];i&&n.call(a,e,i,i.componentIndex)}}))}else{var o=it(t)?i.get(t):ot(t)?this.findComponents(t):null;for(var s=0;o&&s<o.length;s++){var l=o[s];l&&e.call(r,l,l.componentIndex)}}};e.prototype.getSeriesByName=function(t){var e=Lo(t,null);return q(this._componentsMap.get("series"),(function(t){return!!t&&e!=null&&t.name===e}))};e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]};e.prototype.getSeriesByType=function(t){return q(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))};e.prototype.getSeries=function(){return q(this._componentsMap.get("series"),(function(t){return!!t}))};e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};e.prototype.eachSeries=function(t,e){Dp(this);X(this._seriesIndices,(function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)}),this)};e.prototype.eachRawSeries=function(t,e){X(this._componentsMap.get("series"),(function(r){r&&t.call(e,r,r.componentIndex)}))};e.prototype.eachSeriesByType=function(t,e,r){Dp(this);X(this._seriesIndices,(function(i){var a=this._componentsMap.get("series")[i];if(a.subType===t){e.call(r,a,i)}}),this)};e.prototype.eachRawSeriesByType=function(t,e,r){return X(this.getSeriesByType(t),e,r)};e.prototype.isSeriesFiltered=function(t){Dp(this);return this._seriesIndicesMap.get(t.componentIndex)==null};e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};e.prototype.filterSeries=function(t,e){Dp(this);var r=[];X(this._seriesIndices,(function(i){var a=this._componentsMap.get("series")[i];t.call(e,a,i)&&r.push(i)}),this);this._seriesIndices=r;this._seriesIndicesMap=Ct(r)};e.prototype.restoreData=function(t){Tp(this);var e=this._componentsMap;var r=[];e.each((function(t,e){if(Zd.hasClass(e)){r.push(e)}}));Zd.topologicalTravel(r,Zd.getAllClassMainTypes(),(function(r){X(e.get(r),(function(e){if(e&&(r!=="series"||!Pp(e,t))){e.restoreData()}}))}))};e.internalField=function(){Tp=function(t){var e=t._seriesIndices=[];X(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)}));t._seriesIndicesMap=Ct(e)};Dp=function(t){};Cp=function(t,e){t.option={};t.option[Ap]=kp;t._componentsMap=Ct({series:[]});t._componentsCount=Ct();var r=e.aria;if(ot(r)&&r.enabled==null){r.enabled=true}Op(e,t._theme.option);V(e,$d,false);t._mergeOption(e,null)}}();return e}(Mv);function Pp(t,e){if(e){var r=e.seriesIndex;var i=e.seriesId;var a=e.seriesName;return r!=null&&t.componentIndex!==r||i!=null&&t.id!==i||a!=null&&t.name!==a}}function Op(t,e){var r=t.color&&!t.colorLayer;X(e,(function(e,i){if(i==="colorLayer"&&r){return}if(!Zd.hasClass(i)){if(typeof e==="object"){t[i]=!t[i]?z(e):V(t[i],e,false)}else{if(t[i]==null){t[i]=e}}}}))}function Np(t,e,r){if(et(e)){var i=Ct();X(e,(function(t){if(t!=null){var e=Lo(t,null);e!=null&&i.set(t,true)}}));return q(r,(function(e){return e&&i.get(e[t])}))}else{var a=Lo(e,null);return q(r,(function(e){return e&&a!=null&&e[t]===a}))}}function Rp(t,e){return e.hasOwnProperty("subType")?q(t,(function(t){return t&&t.subType===e.subType})):t}function Ep(t){var e=Ct();t&&X(yo(t.replaceMerge),(function(t){e.set(t,true)}));return{replaceMergeMainTypeMap:e}}Y(Lp,wp);var zp=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var Vp=function(){function t(t){X(zp,(function(e){this[e]=Q(t[e],t)}),this)}return t}();var Bp={};var Fp=function(){function t(){this._coordinateSystems=[]}t.prototype.create=function(t,e){var r=[];X(Bp,(function(i,a){var n=i.create(t,e);r=r.concat(n||[])}));this._coordinateSystems=r};t.prototype.update=function(t,e){X(this._coordinateSystems,(function(r){r.update&&r.update(t,e)}))};t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};t.register=function(t,e){Bp[t]=e};t.get=function(t){return Bp[t]};return t}();var Gp=/^(min|max)?(.+)$/;var Wp=function(){function t(t){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=t}t.prototype.setOption=function(t,e,r){if(t){X(yo(t.series),(function(t){t&&t.data&&lt(t.data)&&bt(t.data)}));X(yo(t.dataset),(function(t){t&&t.source&&lt(t.source)&&bt(t.source)}))}t=z(t);var i=this._optionBackup;var a=Hp(t,e,!i);this._newBaseOption=a.baseOption;if(i){if(a.timelineOptions.length){i.timelineOptions=a.timelineOptions}if(a.mediaList.length){i.mediaList=a.mediaList}if(a.mediaDefault){i.mediaDefault=a.mediaDefault}}else{this._optionBackup=a}};t.prototype.mountOption=function(t){var e=this._optionBackup;this._timelineOptions=e.timelineOptions;this._mediaList=e.mediaList;this._mediaDefault=e.mediaDefault;this._currentMediaIndices=[];return z(t?e.baseOption:this._newBaseOption)};t.prototype.getTimelineOption=function(t){var e;var r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");if(i){e=z(r[i.getCurrentIndex()])}}return e};t.prototype.getMediaOption=function(t){var e=this._api.getWidth();var r=this._api.getHeight();var i=this._mediaList;var a=this._mediaDefault;var n=[];var o=[];if(!i.length&&!a){return o}for(var s=0,l=i.length;s<l;s++){if(Yp(i[s].query,e,r)){n.push(s)}}if(!n.length&&a){n=[-1]}if(n.length&&!Xp(n,this._currentMediaIndices)){o=Z(n,(function(t){return z(t===-1?a.option:i[t].option)}))}this._currentMediaIndices=n;return o};return t}();function Hp(t,e,r){var i=[];var a;var n;var o=t.baseOption;var s=t.timeline;var l=t.options;var u=t.media;var f=!!t.media;var h=!!(l||s||o&&o.timeline);if(o){n=o;if(!n.timeline){n.timeline=s}}else{if(h||f){t.options=t.media=null}n=t}if(f){if(et(u)){X(u,(function(t){if(t&&t.option){if(t.query){i.push(t)}else if(!a){a=t}}}))}}c(n);X(l,(function(t){return c(t)}));X(i,(function(t){return c(t.option)}));function c(t){X(e,(function(e){e(t,r)}))}return{baseOption:n,timelineOptions:l||[],mediaDefault:a,mediaList:i}}function Yp(t,e,r){var i={width:e,height:r,aspectratio:e/r};var a=true;X(t,(function(t,e){var r=e.match(Gp);if(!r||!r[1]||!r[2]){return}var n=r[1];var o=r[2].toLowerCase();if(!Up(i[o],t,n)){a=false}}));return a}function Up(t,e,r){if(r==="min"){return t>=e}else if(r==="max"){return t<=e}else{return t===e}}function Xp(t,e){return t.join(",")===e.join(",")}var Zp=X;var jp=ot;var qp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Kp(t){var e=t&&t.itemStyle;if(!e){return}for(var r=0,i=qp.length;r<i;r++){var a=qp[r];var n=e.normal;var o=e.emphasis;if(n&&n[a]){t[a]=t[a]||{};if(!t[a].normal){t[a].normal=n[a]}else{V(t[a].normal,n[a])}n[a]=null}if(o&&o[a]){t[a]=t[a]||{};if(!t[a].emphasis){t[a].emphasis=o[a]}else{V(t[a].emphasis,o[a])}o[a]=null}}}function $p(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal;var a=t[e].emphasis;if(i){if(r){t[e].normal=t[e].emphasis=null;G(t[e],i)}else{t[e]=i}}if(a){t.emphasis=t.emphasis||{};t.emphasis[e]=a;if(a.focus){t.emphasis.focus=a.focus}if(a.blurScope){t.emphasis.blurScope=a.blurScope}}}}function Jp(t){$p(t,"itemStyle");$p(t,"lineStyle");$p(t,"areaStyle");$p(t,"label");$p(t,"labelLine");$p(t,"upperLabel");$p(t,"edgeLabel")}function Qp(t,e){var r=jp(t)&&t[e];var i=jp(r)&&r.textStyle;if(i){for(var a=0,n=_o.length;a<n;a++){var o=_o[a];if(i.hasOwnProperty(o)){r[o]=i[o]}}}}function tg(t){if(t){Jp(t);Qp(t,"label");t.emphasis&&Qp(t.emphasis,"label")}}function eg(t){if(!jp(t)){return}Kp(t);Jp(t);Qp(t,"label");Qp(t,"upperLabel");Qp(t,"edgeLabel");if(t.emphasis){Qp(t.emphasis,"label");Qp(t.emphasis,"upperLabel");Qp(t.emphasis,"edgeLabel")}var e=t.markPoint;if(e){Kp(e);tg(e)}var r=t.markLine;if(r){Kp(r);tg(r)}var i=t.markArea;if(i){tg(i)}var a=t.data;if(t.type==="graph"){a=a||t.nodes;var n=t.links||t.edges;if(n&&!lt(n)){for(var o=0;o<n.length;o++){tg(n[o])}}X(t.categories,(function(t){Jp(t)}))}if(a&&!lt(a)){for(var o=0;o<a.length;o++){tg(a[o])}}e=t.markPoint;if(e&&e.data){var s=e.data;for(var o=0;o<s.length;o++){tg(s[o])}}r=t.markLine;if(r&&r.data){var l=r.data;for(var o=0;o<l.length;o++){if(et(l[o])){tg(l[o][0]);tg(l[o][1])}else{tg(l[o])}}}if(t.type==="gauge"){Qp(t,"axisLabel");Qp(t,"title");Qp(t,"detail")}else if(t.type==="treemap"){$p(t.breadcrumb,"itemStyle");X(t.levels,(function(t){Jp(t)}))}else if(t.type==="tree"){Jp(t.leaves)}}function rg(t){return et(t)?t:t?[t]:[]}function ig(t){return(et(t)?t[0]:t)||{}}function ag(t,e){Zp(rg(t.series),(function(t){jp(t)&&eg(t)}));var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");Zp(r,(function(e){Zp(rg(t[e]),(function(t){if(t){Qp(t,"axisLabel");Qp(t.axisPointer,"label")}}))}));Zp(rg(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Qp(e,"axisLabel");Qp(e&&e.axisPointer,"label")}));Zp(rg(t.calendar),(function(t){$p(t,"itemStyle");Qp(t,"dayLabel");Qp(t,"monthLabel");Qp(t,"yearLabel")}));Zp(rg(t.radar),(function(t){Qp(t,"name");if(t.name&&t.axisName==null){t.axisName=t.name;delete t.name}if(t.nameGap!=null&&t.axisNameGap==null){t.axisNameGap=t.nameGap;delete t.nameGap}}));Zp(rg(t.geo),(function(t){if(jp(t)){tg(t);Zp(rg(t.regions),(function(t){tg(t)}))}}));Zp(rg(t.timeline),(function(t){tg(t);$p(t,"label");$p(t,"itemStyle");$p(t,"controlStyle",true);var e=t.data;et(e)&&X(e,(function(t){if(ot(t)){$p(t,"label");$p(t,"itemStyle")}}))}));Zp(rg(t.toolbox),(function(t){$p(t,"iconStyle");Zp(t.feature,(function(t){$p(t,"iconStyle")}))}));Qp(ig(t.axisPointer),"label");Qp(ig(t.tooltip).axisPointer,"label")}function ng(t,e){var r=e.split(",");var i=t;for(var a=0;a<r.length;a++){i=i&&i[r[a]];if(i==null){break}}return i}function og(t,e,r,i){var a=e.split(",");var n=t;var o;var s=0;for(;s<a.length-1;s++){o=a[s];if(n[o]==null){n[o]={}}n=n[o]}if(i||n[a[s]]==null){n[a[s]]=r}}function sg(t){t&&X(lg,(function(e){if(e[0]in t&&!(e[1]in t)){t[e[1]]=t[e[0]]}}))}var lg=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var ug=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var fg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function hg(t){var e=t&&t.itemStyle;if(e){for(var r=0;r<fg.length;r++){var i=fg[r][1];var a=fg[r][0];if(e[i]!=null){e[a]=e[i]}}}}function cg(t){if(!t){return}if(t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null){t.edgeDistance=t.margin}}function vg(t){if(!t){return}if(t.downplay&&!t.blur){t.blur=t.downplay}}function dg(t){if(!t){return}if(t.focusNodeAdjacency!=null){t.emphasis=t.emphasis||{};if(t.emphasis.focus==null){t.emphasis.focus="adjacency"}}}function pg(t,e){if(t){for(var r=0;r<t.length;r++){e(t[r]);t[r]&&pg(t[r].children,e)}}}function gg(t,e){ag(t,e);t.series=yo(t.series);X(t.series,(function(t){if(!ot(t)){return}var e=t.type;if(e==="line"){if(t.clipOverflow!=null){t.clip=t.clipOverflow}}else if(e==="pie"||e==="gauge"){if(t.clockWise!=null){t.clockwise=t.clockWise}cg(t.label);var r=t.data;if(r&&!lt(r)){for(var i=0;i<r.length;i++){cg(r[i])}}if(t.hoverOffset!=null){t.emphasis=t.emphasis||{};if(t.emphasis.scaleSize=null){t.emphasis.scaleSize=t.hoverOffset}}}else if(e==="gauge"){var a=ng(t,"pointer.color");a!=null&&og(t,"itemStyle.color",a)}else if(e==="bar"){hg(t);hg(t.backgroundStyle);hg(t.emphasis);var r=t.data;if(r&&!lt(r)){for(var i=0;i<r.length;i++){if(typeof r[i]==="object"){hg(r[i]);hg(r[i]&&r[i].emphasis)}}}}else if(e==="sunburst"){var n=t.highlightPolicy;if(n){t.emphasis=t.emphasis||{};if(!t.emphasis.focus){t.emphasis.focus=n}}vg(t);pg(t.data,vg)}else if(e==="graph"||e==="sankey"){dg(t)}else if(e==="map"){if(t.mapType&&!t.map){t.map=t.mapType}if(t.mapLocation){G(t,t.mapLocation)}}if(t.hoverAnimation!=null){t.emphasis=t.emphasis||{};if(t.emphasis&&t.emphasis.scale==null){t.emphasis.scale=t.hoverAnimation}}sg(t)}));if(t.dataRange){t.visualMap=t.dataRange}X(ug,(function(e){var r=t[e];if(r){if(!et(r)){r=[r]}X(r,(function(t){sg(t)}))}}))}function yg(t){var e=Ct();t.eachSeries((function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]);var a=t.getData();var n={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!n.stackedDimension||!(n.isStackedByIndex||n.stackedByDimension)){return}i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel);i.push(n)}}));e.each(mg)}function mg(t){X(t,(function(e,r){var i=[];var a=[NaN,NaN];var n=[e.stackResultDimension,e.stackedOverDimension];var o=e.data;var s=e.isStackedByIndex;var l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(n,(function(n,u,f){var h=o.get(e.stackedDimension,f);if(isNaN(h)){return a}var c;var v;if(s){v=o.getRawIndex(f)}else{c=o.get(e.stackedByDimension,f)}var d=NaN;for(var p=r-1;p>=0;p--){var g=t[p];if(!s){v=g.data.rawIndexOf(g.stackedByDimension,c)}if(v>=0){var y=g.data.getByRawIndex(g.stackResultDimension,v);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=Un(h,y);d=y;break}}}i[0]=h;i[1]=d;return i}))}))}var _g=function(){function t(t){this.data=t.data||(t.sourceFormat===rp?{}:[]);this.sourceFormat=t.sourceFormat||ap;this.seriesLayoutBy=t.seriesLayoutBy||np;this.startIndex=t.startIndex||0;this.dimensionsDetectedCount=t.dimensionsDetectedCount;this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.type==null){if(dp(this,r)===sp.Must){i.type="ordinal"}}}}}return t}();function xg(t){return t instanceof _g}function wg(t,e,r){r=r||Mg(t);var i=e.seriesLayoutBy;var a=Ig(t,r,i,e.sourceHeader,e.dimensions);var n=new _g({data:t,sourceFormat:r,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:z(e)});return n}function bg(t){return new _g({data:t,sourceFormat:lt(t)?ip:Qd})}function Sg(t){return new _g({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:z(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function Mg(t){var e=ap;if(lt(t)){e=ip}else if(et(t)){if(t.length===0){e=tp}for(var r=0,i=t.length;r<i;r++){var a=t[r];if(a==null){continue}else if(et(a)){e=tp;break}else if(ot(a)){e=ep;break}}}else if(ot(t)){for(var n in t){if(Pt(t,n)&&U(t[n])){e=rp;break}}}return e}function Ig(t,e,r,i,a){var n;var o;if(!t){return{dimensionsDefine:Dg(a),startIndex:o,dimensionsDetectedCount:n}}if(e===tp){var s=t;if(i==="auto"||i==null){Cg((function(t){if(t!=null&&t!=="-"){if(it(t)){o==null&&(o=1)}else{o=0}}}),r,s,10)}else{o=nt(i)?i:i?1:0}if(!a&&o===1){a=[];Cg((function(t,e){a[e]=t!=null?t+"":""}),r,s,Infinity)}n=a?a.length:r===op?s.length:s[0]?s[0].length:null}else if(e===ep){if(!a){a=Tg(t)}}else if(e===rp){if(!a){a=[];X(t,(function(t,e){a.push(e)}))}}else if(e===Qd){var l=xo(t[0]);n=et(l)&&l.length||1}return{startIndex:o,dimensionsDefine:Dg(a),dimensionsDetectedCount:n}}function Tg(t){var e=0;var r;while(e<t.length&&!(r=t[e++])){}if(r){var i=[];X(r,(function(t,e){i.push(e)}));return i}}function Dg(t){if(!t){return}var e=Ct();return Z(t,(function(t,r){t=ot(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null){return i}i.name+="";if(i.displayName==null){i.displayName=i.name}var a=e.get(i.name);if(!a){e.set(i.name,{count:1})}else{i.name+="-"+a.count++}return i}))}function Cg(t,e,r,i){if(e===op){for(var a=0;a<r.length&&a<i;a++){t(r[a]?r[a][0]:null,a)}}else{var n=r[0]||[];for(var a=0;a<n.length&&a<i;a++){t(n[a],a)}}}function Ag(t){var e=t.sourceFormat;return e===ep||e===rp}var kg,Lg,Pg;var Og;var Ng;var Rg=function(){function t(t,e){var r=!xg(t)?bg(t):t;this._source=r;var i=this._data=r.data;if(r.sourceFormat===ip){this._offset=0;this._dimSize=e;this._data=i}Ng(this,i,r)}t.prototype.getSource=function(){return this._source};t.prototype.count=function(){return 0};t.prototype.getItem=function(t,e){return};t.prototype.appendData=function(t){};t.prototype.clean=function(){};t.protoInitialize=function(){var e=t.prototype;e.pure=false;e.persistent=true}();t.internalField=function(){var t;Ng=function(t,a,n){var o=n.sourceFormat;var s=n.seriesLayoutBy;var l=n.startIndex;var u=n.dimensionsDefine;var f=Og[Ug(o,s)];F(t,f);if(o===ip){t.getItem=e;t.count=i;t.fillStorage=r}else{var h=Vg(o,s);t.getItem=Q(h,null,a,l,u);var c=Gg(o,s);t.count=Q(c,null,a,l,u)}};var e=function(t,e){t=t-this._offset;e=e||[];var r=this._data;var i=this._dimSize;var a=i*t;for(var n=0;n<i;n++){e[n]=r[a+n]}return e};var r=function(t,e,r,i){var a=this._data;var n=this._dimSize;for(var o=0;o<n;o++){var s=i[o];var l=s[0]==null?Infinity:s[0];var u=s[1]==null?-Infinity:s[1];var f=e-t;var h=r[o];for(var c=0;c<f;c++){var v=a[c*n+o];h[t+c]=v;v<l&&(l=v);v>u&&(u=v)}s[0]=l;s[1]=u}};var i=function(){return this._data?this._data.length/this._dimSize:0};Og=(t={},t[tp+"_"+np]={pure:true,appendData:a},t[tp+"_"+op]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ep]={pure:true,appendData:a},t[rp]={pure:true,appendData:function(t){var e=this._data;X(t,(function(t,r){var i=e[r]||(e[r]=[]);for(var a=0;a<(t||[]).length;a++){i.push(t[a])}}))}},t[Qd]={appendData:a},t[ip]={persistent:false,pure:true,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count();this._data=null}},t);function a(t){for(var e=0;e<t.length;e++){this._data.push(t[e])}}}();return t}();var Eg=function(t,e,r,i){return t[i]};var zg=(kg={},kg[tp+"_"+np]=function(t,e,r,i){return t[i+e]},kg[tp+"_"+op]=function(t,e,r,i,a){i+=e;var n=a||[];var o=t;for(var s=0;s<o.length;s++){var l=o[s];n[s]=l?l[i]:null}return n},kg[ep]=Eg,kg[rp]=function(t,e,r,i,a){var n=a||[];for(var o=0;o<r.length;o++){var s=r[o].name;var l=t[s];n[o]=l?l[i]:null}return n},kg[Qd]=Eg,kg);function Vg(t,e){var r=zg[Ug(t,e)];return r}var Bg=function(t,e,r){return t.length};var Fg=(Lg={},Lg[tp+"_"+np]=function(t,e,r){return Math.max(0,t.length-e)},Lg[tp+"_"+op]=function(t,e,r){var i=t[0];return i?Math.max(0,i.length-e):0},Lg[ep]=Bg,Lg[rp]=function(t,e,r){var i=r[0].name;var a=t[i];return a?a.length:0},Lg[Qd]=Bg,Lg);function Gg(t,e){var r=Fg[Ug(t,e)];return r}var Wg=function(t,e,r){return t[e]};var Hg=(Pg={},Pg[tp]=Wg,Pg[ep]=function(t,e,r){return t[r]},Pg[rp]=Wg,Pg[Qd]=function(t,e,r){var i=xo(t);return!(i instanceof Array)?i:i[e]},Pg[ip]=Wg,Pg);function Yg(t){var e=Hg[t];return e}function Ug(t,e){return t===tp?t+"_"+e:t}function Xg(t,e,r){if(!t){return}var i=t.getRawDataItem(e);if(i==null){return}var a=t.getStore();var n=a.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r);var s=a.getDimensionProperty(o);return Yg(n)(i,o,s)}else{var l=i;if(n===Qd){l=xo(i)}return l}}var Zg=/\{@(.+?)\}/g;var jg=function(){function t(){}t.prototype.getDataParams=function(t,e){var r=this.getData(e);var i=this.getRawValue(t,e);var a=r.getRawIndex(t);var n=r.getName(t);var o=r.getRawDataItem(t);var s=r.getItemVisual(t,"style");var l=s&&s[r.getItemVisual(t,"drawType")||"fill"];var u=s&&s.stroke;var f=this.mainType;var h=f==="series";var c=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:n,dataIndex:a,data:o,dataType:e,value:i,color:l,borderColor:u,dimensionNames:c?c.fullDimensions:null,encode:c?c.encode:null,$vars:["seriesName","name","value"]}};t.prototype.getFormattedLabel=function(t,e,r,i,a,n){e=e||"normal";var o=this.getData(r);var s=this.getDataParams(t,r);if(n){s.value=n.interpolatedValue}if(i!=null&&et(s.value)){s.value=s.value[i]}if(!a){var l=o.getItemModel(t);a=l.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(rt(a)){s.status=e;s.dimensionIndex=i;return a(s)}else if(it(a)){var u=Td(a,s);return u.replace(Zg,(function(e,r){var i=r.length;var a=r;if(a.charAt(0)==="["&&a.charAt(i-1)==="]"){a=+a.slice(1,i-1)}var s=Xg(o,t,a);if(n&&et(n.interpolatedValue)){var l=o.getDimensionIndex(a);if(l>=0){s=n.interpolatedValue[l]}}return s!=null?s+"":""}))}};t.prototype.getRawValue=function(t,e){return Xg(this.getData(e),t)};t.prototype.formatTooltip=function(t,e,r){return};return t}();function qg(t){var e;var r;if(ot(t)){if(t.type){r=t}}else{e=t}return{text:e,frag:r}}function Kg(t){return new $g(t)}var $g=function(){function t(t){t=t||{};this._reset=t.reset;this._plan=t.plan;this._count=t.count;this._onDirty=t.onDirty;this._dirty=true}t.prototype.perform=function(t){var e=this._upstream;var r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var a;if(this._plan&&!r){a=this._plan(this.context)}var n=u(this._modBy);var o=this._modDataCount||0;var s=u(t&&t.modBy);var l=t&&t.modDataCount||0;if(n!==s||o!==l){a="reset"}function u(t){!(t>=1)&&(t=1);return t}var f;if(this._dirty||a==="reset"){this._dirty=false;f=this._doReset(r)}this._modBy=s;this._modDataCount=l;var h=t&&t.step;if(e){this._dueEnd=e._outputDueEnd}else{this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var c=this._dueIndex;var v=Math.min(h!=null?this._dueIndex+h:Infinity,this._dueEnd);if(!r&&(f||c<v)){var d=this._progress;if(et(d)){for(var p=0;p<d.length;p++){this._doProgress(d[p],c,v,s,l)}}else{this._doProgress(d,c,v,s,l)}}this._dueIndex=v;var g=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=g}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};t.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};t.prototype._doProgress=function(t,e,r,i,a){Jg.reset(e,r,i,a);this._callingProgress=t;this._callingProgress({start:e,end:r,count:r-e,next:Jg.next},this.context)};t.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var e;var r;if(!t&&this._reset){e=this._reset(this.context);if(e&&e.progress){r=e.forceFirstProgress;e=e.progress}if(et(e)&&!e.length){e=null}}this._progress=e;this._modBy=this._modDataCount=null;var i=this._downstream;i&&i.dirty();return r};t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};t.prototype.pipe=function(t){if(this._downstream!==t||this._dirty){this._downstream=t;t._upstream=this;t.dirty()}};t.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};t.prototype.getUpstream=function(){return this._upstream};t.prototype.getDownstream=function(){return this._downstream};t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};return t}();var Jg=function(){var t;var e;var r;var i;var a;var n={reset:function(l,u,f,h){e=l;t=u;r=f;i=h;a=Math.ceil(i/r);n.next=r>1&&i>0?s:o}};return n;function o(){return e<t?e++:null}function s(){var n=e%a*r+Math.ceil(e/a);var o=e>=t?null:n<i?n:e;e++;return o}}();function Qg(t,e){var r=e&&e.type;if(r==="ordinal"){return t}if(r==="time"&&!nt(t)&&t!=null&&t!=="-"){t=+Kn(t)}return t==null||t===""?NaN:+t}var ty=Ct({number:function(t){return parseFloat(t)},time:function(t){return+Kn(t)},trim:function(t){return it(t)?xt(t):t}});function ey(t){return ty.get(t)}var ry={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}};var iy=function(){function t(t,e){if(!nt(e)){var r="";co(r)}this._opFn=ry[t];this._rvalFloat=ro(e)}t.prototype.evaluate=function(t){return nt(t)?this._opFn(t,this._rvalFloat):this._opFn(ro(t),this._rvalFloat)};return t}();var ay=function(){function t(t,e){var r=t==="desc";this._resultLT=r?1:-1;if(e==null){e=r?"min":"max"}this._incomparable=e==="min"?-Infinity:Infinity}t.prototype.evaluate=function(t,e){var r=nt(t)?t:ro(t);var i=nt(e)?e:ro(e);var a=isNaN(r);var n=isNaN(i);if(a){r=this._incomparable}if(n){i=this._incomparable}if(a&&n){var o=it(t);var s=it(e);if(o){r=s?t:0}if(s){i=o?e:0}}return r<i?this._resultLT:r>i?-this._resultLT:0};return t}();var ny=function(){function t(t,e){this._rval=e;this._isEQ=t;this._rvalTypeof=typeof e;this._rvalFloat=ro(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;if(r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")){e=ro(t)===this._rvalFloat}}return this._isEQ?e:!e};return t}();function oy(t,e){return t==="eq"||t==="ne"?new ny(t==="eq",e):Pt(ry,t)?new iy(t,e):null}var sy=function(){function t(){}t.prototype.getRawData=function(){throw new Error("not supported")};t.prototype.getRawDataItem=function(t){throw new Error("not supported")};t.prototype.cloneRawData=function(){return};t.prototype.getDimensionInfo=function(t){return};t.prototype.cloneAllDimensionInfo=function(){return};t.prototype.count=function(){return};t.prototype.retrieveValue=function(t,e){return};t.prototype.retrieveValueFromItem=function(t,e){return};t.prototype.convertValue=function(t,e){return Qg(t,e)};return t}();function ly(t,e){var r=new sy;var i=t.data;var a=r.sourceFormat=t.sourceFormat;var n=t.startIndex;var o="";if(t.seriesLayoutBy!==np){co(o)}var s=[];var l={};var u=t.dimensionsDefine;if(u){X(u,(function(t,e){var r=t.name;var i={index:e,name:r,displayName:t.displayName};s.push(i);if(r!=null){var a="";if(Pt(l,r)){co(a)}l[r]=i}}))}else{for(var f=0;f<t.dimensionsDetectedCount||0;f++){s.push({index:f})}}var h=Vg(a,np);if(e.__isBuiltIn){r.getRawDataItem=function(t){return h(i,n,s,t)};r.getRawData=Q(uy,null,t)}r.cloneRawData=Q(fy,null,t);var c=Gg(a,np);r.count=Q(c,null,i,n,s);var v=Yg(a);r.retrieveValue=function(t,e){var r=h(i,n,s,t);return d(r,e)};var d=r.retrieveValueFromItem=function(t,e){if(t==null){return}var r=s[e];if(r){return v(t,e,r.name)}};r.getDimensionInfo=Q(hy,null,s,l);r.cloneAllDimensionInfo=Q(cy,null,s);return r}function uy(t){var e=t.sourceFormat;if(!yy(e)){var r="";co(r)}return t.data}function fy(t){var e=t.sourceFormat;var r=t.data;if(!yy(e)){var i="";co(i)}if(e===tp){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(r[n].slice())}return a}else if(e===ep){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(F({},r[n]))}return a}}function hy(t,e,r){if(r==null){return}if(nt(r)||!isNaN(r)&&!Pt(e,r)){return t[r]}else if(Pt(e,r)){return e[r]}}function cy(t){return z(t)}var vy=Ct();function dy(t){t=z(t);var e=t.type;var r="";if(!e){co(r)}var i=e.split(":");if(i.length!==2){co(r)}var a=false;if(i[0]==="echarts"){e=i[1];a=true}t.__isBuiltIn=a;vy.set(e,t)}function py(t,e,r){var i=yo(t);var a=i.length;var n="";if(!a){co(n)}for(var o=0,s=a;o<s;o++){var l=i[o];e=gy(l,e);if(o!==s-1){e.length=Math.max(e.length,1)}}return e}function gy(t,e,r,i){var a="";if(!e.length){co(a)}if(!ot(t)){co(a)}var n=t.type;var o=vy.get(n);if(!o){co(a)}var s=Z(e,(function(t){return ly(t,o)}));var l=yo(o.transform({upstream:s[0],upstreamList:s,config:z(t.config)}));return Z(l,(function(t,r){var i="";if(!ot(t)){co(i)}if(!t.data){co(i)}var a=Mg(t.data);if(!yy(a)){co(i)}var n;var o=e[0];if(o&&r===0&&!t.dimensions){var s=o.startIndex;if(s){t.data=o.data.slice(0,s).concat(t.data)}n={seriesLayoutBy:np,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else{n={seriesLayoutBy:np,sourceHeader:0,dimensions:t.dimensions}}return wg(t.data,n,null)}))}function yy(t){return t===tp||t===ep}var my="undefined";var _y=typeof Uint32Array===my?Array:Uint32Array;var xy=typeof Uint16Array===my?Array:Uint16Array;var wy=typeof Int32Array===my?Array:Int32Array;var by=typeof Float64Array===my?Array:Float64Array;var Sy={float:by,int:wy,ordinal:Array,number:Array,time:by};var My;function Iy(t){return t>65535?_y:xy}function Ty(){return[Infinity,-Infinity]}function Dy(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Cy(t,e,r,i,a){var n=Sy[r||"float"];if(a){var o=t[e];var s=o&&o.length;if(!(s===i)){var l=new n(i);for(var u=0;u<s;u++){l[u]=o[u]}t[e]=l}}else{t[e]=new n(i)}}var Ay=function(){function t(){this._chunks=[];this._rawExtent=[];this._extent=[];this._count=0;this._rawCount=0;this._calcDimNameToIdx=Ct()}t.prototype.initData=function(t,e,r){this._provider=t;this._chunks=[];this._indices=null;this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource();var a=this.defaultDimValueGetter=My[i.sourceFormat];this._dimValueGetter=r||a;this._rawExtent=[];this._dimensions=Z(e,(function(t){return{type:t.type,property:t.property}}));this._initDataFromProvider(0,t.count())};t.prototype.getProvider=function(){return this._provider};t.prototype.getSource=function(){return this._provider.getSource()};t.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx;var i=this._dimensions;var a=r.get(t);if(a!=null){if(i[a].type===e){return a}}else{a=i.length}i[a]={type:e};r.set(t,a);this._chunks[a]=new Sy[e||"float"](this._rawCount);this._rawExtent[a]=Ty();return a};t.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t];var i=this._dimensions[t];var a=this._rawExtent;var n=i.ordinalOffset||0;var o=r.length;if(n===0){a[t]=Ty()}var s=a[t];for(var l=n;l<o;l++){var u=r[l]=e.parseAndCollect(r[l]);if(!isNaN(u)){s[0]=Math.min(u,s[0]);s[1]=Math.max(u,s[1])}}i.ordinalMeta=e;i.ordinalOffset=o;i.type="ordinal"};t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t];var r=e.ordinalMeta;return r};t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property};t.prototype.appendData=function(t){var e=this._provider;var r=this.count();e.appendData(t);var i=e.count();if(!e.persistent){i+=r}if(r<i){this._initDataFromProvider(r,i,true)}return[r,i]};t.prototype.appendValues=function(t,e){var r=this._chunks;var i=this._dimensions;var a=i.length;var n=this._rawExtent;var o=this.count();var s=o+Math.max(t.length,e||0);for(var l=0;l<a;l++){var u=i[l];Cy(r,l,u.type,s,true)}var f=[];for(var h=o;h<s;h++){var c=h-o;for(var v=0;v<a;v++){var u=i[v];var d=My.arrayRows.call(this,t[c]||f,u.property,c,v);r[v][h]=d;var p=n[v];d<p[0]&&(p[0]=d);d>p[1]&&(p[1]=d)}}this._rawCount=this._count=s;return{start:o,end:s}};t.prototype._initDataFromProvider=function(t,e,r){var i=this._provider;var a=this._chunks;var n=this._dimensions;var o=n.length;var s=this._rawExtent;var l=Z(n,(function(t){return t.property}));for(var u=0;u<o;u++){var f=n[u];if(!s[u]){s[u]=Ty()}Cy(a,u,f.type,e,r)}if(i.fillStorage){i.fillStorage(t,e,a,s)}else{var h=[];for(var c=t;c<e;c++){h=i.getItem(c,h);for(var v=0;v<o;v++){var d=a[v];var p=this._dimValueGetter(h,l[v],c,v);d[c]=p;var g=s[v];p<g[0]&&(g[0]=p);p>g[1]&&(g[1]=p)}}}if(!i.persistent&&i.clean){i.clean()}this._rawCount=this._count=e;this._extent=[]};t.prototype.count=function(){return this._count};t.prototype.get=function(t,e){if(!(e>=0&&e<this._count)){return NaN}var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN};t.prototype.getValues=function(t,e){var r=[];var i=[];if(e==null){e=t;t=[];for(var a=0;a<this._dimensions.length;a++){i.push(a)}}else{i=t}for(var a=0,n=i.length;a<n;a++){r.push(this.get(i[a],e))}return r};t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount)){return NaN}var r=this._chunks[t];return r?r[e]:NaN};t.prototype.getSum=function(t){var e=this._chunks[t];var r=0;if(e){for(var i=0,a=this.count();i<a;i++){var n=this.get(t,i);if(!isNaN(n)){r+=n}}}return r};t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){if(!isNaN(t)){e.push(t)}}));var r=e.sort((function(t,e){return t-e}));var i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2};t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0){return-1}if(!this._indices){return t}var e=this._indices;var r=e[t];if(r!=null&&r<this._count&&r===t){return t}var i=0;var a=this._count-1;while(i<=a){var n=(i+a)/2|0;if(e[n]<t){i=n+1}else if(e[n]>t){a=n-1}else{return n}}return-1};t.prototype.indicesOfNearest=function(t,e,r){var i=this._chunks;var a=i[t];var n=[];if(!a){return n}if(r==null){r=Infinity}var o=Infinity;var s=-1;var l=0;for(var u=0,f=this.count();u<f;u++){var h=this.getRawIndex(u);var c=e-a[h];var v=Math.abs(c);if(v<=r){if(v<o||v===o&&c>=0&&s<0){o=v;s=c;l=0}if(c===s){n[l++]=u}}}n.length=l;return n};t.prototype.getIndices=function(){var t;var e=this._indices;if(e){var r=e.constructor;var i=this._count;if(r===Array){t=new r(i);for(var a=0;a<i;a++){t[a]=e[a]}}else{t=new r(e.buffer,0,i)}}else{var r=Iy(this._rawCount);t=new r(this.count());for(var a=0;a<t.length;a++){t[a]=a}}return t};t.prototype.filter=function(t,e){if(!this._count){return this}var r=this.clone();var i=r.count();var a=Iy(r._rawCount);var n=new a(i);var o=[];var s=t.length;var l=0;var u=t[0];var f=r._chunks;for(var h=0;h<i;h++){var c=void 0;var v=r.getRawIndex(h);if(s===0){c=e(h)}else if(s===1){var d=f[u][v];c=e(d,h)}else{var p=0;for(;p<s;p++){o[p]=f[t[p]][v]}o[p]=h;c=e.apply(null,o)}if(c){n[l++]=v}}if(l<i){r._indices=n}r._count=l;r._extent=[];r._updateGetRawIdx();return r};t.prototype.selectRange=function(t){var e=this.clone();var r=e._count;if(!r){return this}var i=$(t);var a=i.length;if(!a){return this}var n=e.count();var o=Iy(e._rawCount);var s=new o(n);var l=0;var u=i[0];var f=t[u][0];var h=t[u][1];var c=e._chunks;var v=false;if(!e._indices){var d=0;if(a===1){var p=c[i[0]];for(var g=0;g<r;g++){var y=p[g];if(y>=f&&y<=h||isNaN(y)){s[l++]=d}d++}v=true}else if(a===2){var p=c[i[0]];var m=c[i[1]];var _=t[i[1]][0];var x=t[i[1]][1];for(var g=0;g<r;g++){var y=p[g];var w=m[g];if((y>=f&&y<=h||isNaN(y))&&(w>=_&&w<=x||isNaN(w))){s[l++]=d}d++}v=true}}if(!v){if(a===1){for(var g=0;g<n;g++){var b=e.getRawIndex(g);var y=c[i[0]][b];if(y>=f&&y<=h||isNaN(y)){s[l++]=b}}}else{for(var g=0;g<n;g++){var S=true;var b=e.getRawIndex(g);for(var M=0;M<a;M++){var I=i[M];var y=c[I][b];if(y<t[I][0]||y>t[I][1]){S=false}}if(S){s[l++]=e.getRawIndex(g)}}}}if(l<n){e._indices=s}e._count=l;e._extent=[];e._updateGetRawIdx();return e};t.prototype.map=function(t,e){var r=this.clone(t);this._updateDims(r,t,e);return r};t.prototype.modify=function(t,e){this._updateDims(this,t,e)};t.prototype._updateDims=function(t,e,r){var i=t._chunks;var a=[];var n=e.length;var o=t.count();var s=[];var l=t._rawExtent;for(var u=0;u<e.length;u++){l[e[u]]=Ty()}for(var f=0;f<o;f++){var h=t.getRawIndex(f);for(var c=0;c<n;c++){s[c]=i[e[c]][h]}s[n]=f;var v=r&&r.apply(null,s);if(v!=null){if(typeof v!=="object"){a[0]=v;v=a}for(var u=0;u<v.length;u++){var d=e[u];var p=v[u];var g=l[d];var y=i[d];if(y){y[h]=p}if(p<g[0]){g[0]=p}if(p>g[1]){g[1]=p}}}}};t.prototype.lttbDownSample=function(t,e){var r=this.clone([t],true);var i=r._chunks;var a=i[t];var n=this.count();var o=0;var s=Math.floor(1/e);var l=this.getRawIndex(0);var u;var f;var h;var c=new(Iy(this._rawCount))(Math.min((Math.ceil(n/s)+2)*2,n));c[o++]=l;for(var v=1;v<n-1;v+=s){var d=Math.min(v+s,n-1);var p=Math.min(v+s*2,n);var g=(p+d)/2;var y=0;for(var m=d;m<p;m++){var _=this.getRawIndex(m);var x=a[_];if(isNaN(x)){continue}y+=x}y/=p-d;var w=v;var b=Math.min(v+s,n);var S=v-1;var M=a[l];u=-1;h=w;var I=-1;var T=0;for(var m=w;m<b;m++){var _=this.getRawIndex(m);var x=a[_];if(isNaN(x)){T++;if(I<0){I=_}continue}f=Math.abs((S-g)*(x-M)-(S-m)*(y-M));if(f>u){u=f;h=_}}if(T>0&&T<b-w){c[o++]=Math.min(I,h);h=Math.max(I,h)}c[o++]=h;l=h}c[o++]=this.getRawIndex(n-1);r._count=o;r._indices=c;r.getRawIndex=this._getRawIdx;return r};t.prototype.downSample=function(t,e,r,i){var a=this.clone([t],true);var n=a._chunks;var o=[];var s=Math.floor(1/e);var l=n[t];var u=this.count();var f=a._rawExtent[t]=Ty();var h=new(Iy(this._rawCount))(Math.ceil(u/s));var c=0;for(var v=0;v<u;v+=s){if(s>u-v){s=u-v;o.length=s}for(var d=0;d<s;d++){var p=this.getRawIndex(v+d);o[d]=l[p]}var g=r(o);var y=this.getRawIndex(Math.min(v+i(o,g)||0,u-1));l[y]=g;if(g<f[0]){f[0]=g}if(g>f[1]){f[1]=g}h[c++]=y}a._count=c;a._indices=h;a._updateGetRawIdx();return a};t.prototype.each=function(t,e){if(!this._count){return}var r=t.length;var i=this._chunks;for(var a=0,n=this.count();a<n;a++){var o=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(i[t[0]][o],a);break;case 2:e(i[t[0]][o],i[t[1]][o],a);break;default:var s=0;var l=[];for(;s<r;s++){l[s]=i[t[s]][o]}l[s]=a;e.apply(null,l)}}};t.prototype.getDataExtent=function(t){var e=this._chunks[t];var r=Ty();if(!e){return r}var i=this.count();var a=!this._indices;var n;if(a){return this._rawExtent[t].slice()}n=this._extent[t];if(n){return n.slice()}n=r;var o=n[0];var s=n[1];for(var l=0;l<i;l++){var u=this.getRawIndex(l);var f=e[u];f<o&&(o=f);f>s&&(s=f)}n=[o,s];this._extent[t]=n;return n};t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(!this._provider.persistent){var r=[];var i=this._chunks;for(var a=0;a<i.length;a++){r.push(i[a][e])}return r}else{return this._provider.getItem(e)}};t.prototype.clone=function(e,r){var i=new t;var a=this._chunks;var n=e&&j(e,(function(t,e){t[e]=true;return t}),{});if(n){for(var o=0;o<a.length;o++){i._chunks[o]=!n[o]?a[o]:Dy(a[o])}}else{i._chunks=a}this._copyCommonProps(i);if(!r){i._indices=this._cloneIndices()}i._updateGetRawIdx();return i};t.prototype._copyCommonProps=function(t){t._count=this._count;t._rawCount=this._rawCount;t._provider=this._provider;t._dimensions=this._dimensions;t._extent=z(this._extent);t._rawExtent=z(this._rawExtent)};t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor;var e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++){e[i]=this._indices[i]}}else{e=new t(this._indices)}return e}return null};t.prototype._getRawIdxIdentity=function(t){return t};t.prototype._getRawIdx=function(t){if(t<this._count&&t>=0){return this._indices[t]}return-1};t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity};t.internalField=function(){function t(t,e,r,i){return Qg(t[i],this._dimensions[i])}My={arrayRows:t,objectRows:function(t,e,r,i){return Qg(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,r,i){var a=t&&(t.value==null?t:t.value);return Qg(a instanceof Array?a[i]:a,this._dimensions[i])},typedArray:function(t,e,r,i){return t[i]}}}();return t}();var ky=function(){function t(t){this._sourceList=[];this._storeList=[];this._upstreamSignList=[];this._versionSignBase=0;this._dirty=true;this._sourceHost=t}t.prototype.dirty=function(){this._setLocalSource([],[]);this._storeList=[];this._dirty=true};t.prototype._setLocalSource=function(t,e){this._sourceList=t;this._upstreamSignList=e;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};t.prototype.prepareSource=function(){if(this._isDirty()){this._createSource();this._dirty=false}};t.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost;var e=this._getUpstreamSourceManagers();var r=!!e.length;var i;var a;if(Py(t)){var n=t;var o=void 0;var s=void 0;var l=void 0;if(r){var u=e[0];u.prepareSource();l=u.getSource();o=l.data;s=l.sourceFormat;a=[u._getVersionSign()]}else{o=n.get("data",true);s=lt(o)?ip:Qd;a=[]}var f=this._getSourceMetaRawOption()||{};var h=l&&l.metaRawOption||{};var c=pt(f.seriesLayoutBy,h.seriesLayoutBy)||null;var v=pt(f.sourceHeader,h.sourceHeader);var d=pt(f.dimensions,h.dimensions);var p=c!==h.seriesLayoutBy||!!v!==!!h.sourceHeader||d;i=p?[wg(o,{seriesLayoutBy:c,sourceHeader:v,dimensions:d},s)]:[]}else{var g=t;if(r){var y=this._applyTransform(e);i=y.sourceList;a=y.upstreamSignList}else{var m=g.get("source",true);i=[wg(m,this._getSourceMetaRawOption(),null)];a=[]}}this._setLocalSource(i,a)};t.prototype._applyTransform=function(t){var e=this._sourceHost;var r=e.get("transform",true);var i=e.get("fromTransformResult",true);if(i!=null){var a="";if(t.length!==1){Oy(a)}}var n;var o=[];var s=[];X(t,(function(t){t.prepareSource();var e=t.getSource(i||0);var r="";if(i!=null&&!e){Oy(r)}o.push(e);s.push(t._getVersionSign())}));if(r){n=py(r,o)}else if(i!=null){n=[Sg(o[0])]}return{sourceList:n,upstreamSignList:s}};t.prototype._isDirty=function(){if(this._dirty){return true}var t=this._getUpstreamSourceManagers();for(var e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign()){return true}}};t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e};t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)};t.prototype._innerGetDataStore=function(t,e,r){var i=0;var a=this._storeList;var n=a[i];if(!n){n=a[i]={}}var o=n[r];if(!o){var s=this._getUpstreamSourceManagers()[0];if(Py(this._sourceHost)&&s){o=s._innerGetDataStore(t,e,r)}else{o=new Ay;o.initData(new Rg(e,t.length),t)}n[r]=o}return o};t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Py(t)){var e=cp(t);return!e?[]:[e.getSourceManager()]}else{return Z(vp(t),(function(t){return t.getSourceManager()}))}};t.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost;var e;var r;var i;if(Py(t)){e=t.get("seriesLayoutBy",true);r=t.get("sourceHeader",true);i=t.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",true);r=a.get("sourceHeader",true);i=a.get("dimensions",true)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}};return t}();function Ly(t){var e=t.option.transform;e&&bt(t.option.transform)}function Py(t){return t.mainType==="series"}function Oy(t){throw new Error(t)}var Ny="line-height:1";function Ry(t,e){var r=t.color||"#6e7079";var i=t.fontSize||12;var a=t.fontWeight||"400";var n=t.color||"#464646";var o=t.fontSize||14;var s=t.fontWeight||"900";if(e==="html"){return{nameStyle:"font-size:"+ye(i+"")+"px;color:"+ye(r)+";font-weight:"+ye(a+""),valueStyle:"font-size:"+ye(o+"")+"px;color:"+ye(n)+";font-weight:"+ye(s+"")}}else{return{nameStyle:{fontSize:i,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:n,fontWeight:s}}}}var Ey=[0,10,20,30];var zy=["","\n","\n\n","\n\n\n"];function Vy(t,e){e.type=t;return e}function By(t){return t.type==="section"}function Fy(t){return By(t)?Wy:Hy}function Gy(t){if(By(t)){var e=0;var r=t.blocks.length;var i=r>1||r>0&&!t.noHeader;X(t.blocks,(function(t){var r=Gy(t);if(r>=e){e=r+ +(i&&(!r||By(t)&&!t.noHeader))}}));return e}return 0}function Wy(t,e,r,i){var a=e.noHeader;var n=Uy(Gy(e));var o=[];var s=e.blocks||[];_t(!s||et(s));s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Pt(u,l)){var f=new ay(u[l],null);s.sort((function(t,e){return f.evaluate(t.sortParam,e.sortParam)}))}else if(l==="seriesDesc"){s.reverse()}}X(s,(function(r,a){var s=e.valueFormatter;var l=Fy(r)(s?F(F({},t),{valueFormatter:s}):t,r,a>0?n.html:0,i);l!=null&&o.push(l)}));var h=t.renderMode==="richText"?o.join(n.richText):Xy(o.join(""),a?r:n.html);if(a){return h}var c=Sd(e.header,"ordinal",t.useUTC);var v=Ry(i,t.renderMode).nameStyle;if(t.renderMode==="richText"){return qy(t,c,v)+n.richText+h}else{return Xy('<div style="'+v+";"+Ny+';">'+ye(c)+"</div>"+h,r)}}function Hy(t,e,r,i){var a=t.renderMode;var n=e.noName;var o=e.noValue;var s=!e.markerType;var l=e.name;var u=t.useUTC;var f=e.valueFormatter||t.valueFormatter||function(t){t=et(t)?t:[t];return Z(t,(function(t,e){return Sd(t,et(v)?v[e]:v,u)}))};if(n&&o){return}var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a);var c=n?"":Sd(l,"ordinal",u);var v=e.valueType;var d=o?[]:f(e.value);var p=!s||!n;var g=!s&&n;var y=Ry(i,a),m=y.nameStyle,_=y.valueStyle;return a==="richText"?(s?"":h)+(n?"":qy(t,c,m))+(o?"":Ky(t,d,p,g,_)):Xy((s?"":h)+(n?"":Zy(c,!s,m))+(o?"":jy(d,p,g,_)),r)}function Yy(t,e,r,i,a,n){if(!t){return}var o=Fy(t);var s={useUTC:a,renderMode:r,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,n)}function Uy(t){return{html:Ey[t],richText:zy[t]}}function Xy(t,e){var r='<div style="clear:both"></div>';var i="margin: "+e+"px 0 0";return'<div style="'+i+";"+Ny+';">'+t+r+"</div>"}function Zy(t,e,r){var i=e?"margin-left:2px":"";return'<span style="'+r+";"+i+'">'+ye(t)+"</span>"}function jy(t,e,r,i){var a=r?"10px":"20px";var n=e?"float:right;margin-left:"+a:"";t=et(t)?t:[t];return'<span style="'+n+";"+i+'">'+Z(t,(function(t){return ye(t)})).join("&nbsp;&nbsp;")+"</span>"}function qy(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function Ky(t,e,r,i,a){var n=[a];var o=i?10:20;r&&n.push({padding:[0,0,0,o],align:"right"});return t.markupStyleCreator.wrapRichTextStyle(et(e)?e.join("  "):e,n)}function $y(t,e){var r=t.getData().getItemVisual(e,"style");var i=r[t.visualDrawType];return Ad(i)}function Jy(t,e){var r=t.get("padding");return r!=null?r:e==="richText"?[8,10]:10}var Qy=function(){function t(){this.richTextStyles={};this._nextStyleNameId=ao()}t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};t.prototype.makeTooltipMarker=function(t,e,r){var i=r==="richText"?this._generateStyleName():null;var a=Cd({color:e,type:t,renderMode:r,markerId:i});if(it(a)){return a}else{this.richTextStyles[i]=a.style;return a.content}};t.prototype.wrapRichTextStyle=function(t,e){var r={};if(et(e)){X(e,(function(t){return F(r,t)}))}else{F(r,e)}var i=this._generateStyleName();this.richTextStyles[i]=r;return"{"+i+"|"+t+"}"};return t}();function tm(t){var e=t.series;var r=t.dataIndex;var i=t.multipleSeries;var a=e.getData();var n=a.mapDimensionsAll("defaultedTooltip");var o=n.length;var s=e.getRawValue(r);var l=et(s);var u=$y(e,r);var f;var h;var c;var v;if(o>1||l&&!o){var d=em(s,e,r,n,u);f=d.inlineValues;h=d.inlineValueTypes;c=d.blocks;v=d.inlineValues[0]}else if(o){var p=a.getDimensionInfo(n[0]);v=f=Xg(a,r,n[0]);h=p.type}else{v=f=l?s[0]:s}var g=Po(e);var y=g&&e.name||"";var m=a.getName(r);var _=i?y:m;return Vy("section",{header:y,noHeader:i||!g,sortParam:v,blocks:[Vy("nameValue",{markerType:"item",markerColor:u,name:_,noName:!xt(_),value:f,valueType:h})].concat(c||[])})}function em(t,e,r,i,a){var n=e.getData();var o=j(t,(function(t,e,r){var i=n.getDimensionInfo(r);return t=t||i&&i.tooltip!==false&&i.displayName!=null}),false);var s=[];var l=[];var u=[];i.length?X(i,(function(t){f(Xg(n,r,t),t)})):X(t,f);function f(t,e){var r=n.getDimensionInfo(e);if(!r||r.otherDims.tooltip===false){return}if(o){u.push(Vy("nameValue",{markerType:"subItem",markerColor:a,name:r.displayName,value:t,valueType:r.type}))}else{s.push(t);l.push(r.type)}}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var rm=Bo();function im(t,e){return t.getName(e)||t.getId(e)}var am="__universalTransitionEnabled";var nm=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._selectedDataIndicesMap={};return e}e.prototype.init=function(t,e,r){this.seriesIndex=this.componentIndex;this.dataTask=Kg({count:lm,reset:um});this.dataTask.context={model:this};this.mergeDefaultAndTheme(t,r);var i=rm(this).sourceManager=new ky(this);i.prepareSource();var a=this.getInitialData(t,r);hm(a,this);this.dataTask.context.data=a;rm(this).dataBeforeProcessed=a;om(this);this._initSelectedMapFromData(a)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=Wd(this);var i=r?Yd(t):{};var a=this.subType;if(Zd.hasClass(a)){a+="Series"}V(t,e.getTheme().get(this.subType));V(t,this.getDefaultOption());mo(t,"label",["show"]);this.fillDataTextStyle(t.data);if(r){Hd(t,i,r)}};e.prototype.mergeOption=function(t,e){t=V(this.option,t,true);this.fillDataTextStyle(t.data);var r=Wd(this);if(r){Hd(this.option,t,r)}var i=rm(this).sourceManager;i.dirty();i.prepareSource();var a=this.getInitialData(t,e);hm(a,this);this.dataTask.dirty();this.dataTask.context.data=a;rm(this).dataBeforeProcessed=a;om(this);this._initSelectedMapFromData(a)};e.prototype.fillDataTextStyle=function(t){if(t&&!lt(t)){var e=["show"];for(var r=0;r<t.length;r++){if(t[r]&&t[r].label){mo(t[r],"label",e)}}}};e.prototype.getInitialData=function(t,e){return};e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)};e.prototype.getData=function(t){var e=vm(this);if(e){var r=e.context.data;return t==null?r:r.getLinkedData(t)}else{return rm(this).data}};e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]};e.prototype.setData=function(t){var e=vm(this);if(e){var r=e.context;r.outputData=t;if(e!==this.dataTask){r.data=t}}rm(this).data=t};e.prototype.getEncode=function(){var t=this.get("encode",true);if(t){return Ct(t)}};e.prototype.getSourceManager=function(){return rm(this).sourceManager};e.prototype.getSource=function(){return this.getSourceManager().getSource()};e.prototype.getRawData=function(){return rm(this).dataBeforeProcessed};e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"};e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"};e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()};e.prototype.formatTooltip=function(t,e,r){return tm({series:this,dataIndex:t,multipleSeries:e})};e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(c.node&&!(t&&t.ssr)){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return!!e};e.prototype.restoreData=function(){this.dataTask.dirty()};e.prototype.getColorFromPalette=function(t,e,r){var i=this.ecModel;var a=wp.prototype.getColorFromPalette.call(this,t,e,r);if(!a){a=i.getColorFromPalette(t,e,r)}return a};e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)};e.prototype.getProgressive=function(){return this.get("progressive")};e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)};e.prototype.unselect=function(t,e){var r=this.option.selectedMap;if(!r){return}var i=this.option.selectedMode;var a=this.getData(e);if(i==="series"||r==="all"){this.option.selectedMap={};this._selectedDataIndicesMap={};return}for(var n=0;n<t.length;n++){var o=t[n];var s=im(a,o);r[s]=false;this._selectedDataIndicesMap[s]=-1}};e.prototype.toggleSelect=function(t,e){var r=[];for(var i=0;i<t.length;i++){r[0]=t[i];this.isSelected(t[i],e)?this.unselect(r,e):this.select(r,e)}};e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all"){return[].slice.call(this.getData().getIndices())}var t=this._selectedDataIndicesMap;var e=$(t);var r=[];for(var i=0;i<e.length;i++){var a=t[e[i]];if(a>=0){r.push(a)}}return r};e.prototype.isSelected=function(t,e){var r=this.option.selectedMap;if(!r){return false}var i=this.getData(e);return(r==="all"||r[im(i,t)])&&!i.getItemModel(t).get(["select","disabled"])};e.prototype.isUniversalTransitionEnabled=function(){if(this[am]){return true}var t=this.option.universalTransition;if(!t){return false}if(t===true){return true}return t&&t.enabled};e.prototype._innerSelect=function(t,e){var r,i;var a=this.option;var n=a.selectedMode;var o=e.length;if(!n||!o){return}if(n==="series"){a.selectedMap="all"}else if(n==="multiple"){if(!ot(a.selectedMap)){a.selectedMap={}}var s=a.selectedMap;for(var l=0;l<o;l++){var u=e[l];var f=im(t,u);s[f]=true;this._selectedDataIndicesMap[f]=t.getRawIndex(u)}}else if(n==="single"||n===true){var h=e[o-1];var f=im(t,h);a.selectedMap=(r={},r[f]=true,r);this._selectedDataIndicesMap=(i={},i[f]=t.getRawIndex(h),i)}};e.prototype._initSelectedMapFromData=function(t){if(this.option.selectedMap){return}var e=[];if(t.hasItemOption){t.each((function(r){var i=t.getRawDataItem(r);if(i&&i.selected){e.push(r)}}))}if(e.length>0){this._innerSelect(t,e)}};e.registerClass=function(t){return Zd.registerClass(t)};e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__";t.seriesIndex=0;t.ignoreStyleOnData=false;t.hasSymbolVisual=false;t.defaultSymbol="circle";t.visualStyleAccessPath="itemStyle";t.visualDrawType="fill"}();return e}(Zd);Y(nm,jg);Y(nm,wp);ns(nm,Zd);function om(t){var e=t.name;if(!Po(t)){t.name=sm(t)||e}}function sm(t){var e=t.getRawData();var r=e.mapDimensionsAll("seriesName");var i=[];X(r,(function(t){var r=e.getDimensionInfo(t);r.displayName&&i.push(r.displayName)}));return i.join(" ")}function lm(t){return t.model.getRawData().count()}function um(t){var e=t.model;e.setData(e.getRawData().cloneShallow());return fm}function fm(t,e){if(e.outputData&&t.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function hm(t,e){X(At(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(r){t.wrapMethod(r,tt(cm,e))}))}function cm(t,e){var r=vm(t);if(r){r.setOutputEnd((e||this).count())}return e}function vm(t){var e=(t.ecModel||{}).scheduler;var r=e&&e.getPipeline(t.uid);if(r){var i=r.currentTask;if(i){var a=i.agentStubMap;if(a){i=a.get(t.uid)}}return i}}var dm=function(){function t(){this.group=new Tn;this.uid=Tv("viewComponent")}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){};t.prototype.updateLayout=function(t,e,r,i){};t.prototype.updateVisual=function(t,e,r,i){};t.prototype.toggleBlurSeries=function(t,e,r){};t.prototype.eachRendered=function(t){var e=this.group;if(e){e.traverse(t)}};return t}();is(dm);fs(dm);function pm(){var t=Bo();return function(e){var r=t(e);var i=e.pipelineContext;var a=!!r.large;var n=!!r.progressiveRender;var o=r.large=!!(i&&i.large);var s=r.progressiveRender=!!(i&&i.progressiveRender);return!!(a!==o||n!==s)&&"reset"}}var gm=Bo();var ym=pm();var mm=function(){function t(){this.group=new Tn;this.uid=Tv("viewChart");this.renderTask=Kg({plan:wm,reset:bm});this.renderTask.context={view:this}}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){};t.prototype.highlight=function(t,e,r,i){var a=t.getData(i&&i.dataType);if(!a){return}xm(a,i,"emphasis")};t.prototype.downplay=function(t,e,r,i){var a=t.getData(i&&i.dataType);if(!a){return}xm(a,i,"normal")};t.prototype.remove=function(t,e){this.group.removeAll()};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.eachRendered=function(t){qc(this.group,t)};t.markUpdateMethod=function(t,e){gm(t).updateMethod=e};t.protoInitialize=function(){var e=t.prototype;e.type="chart"}();return t}();function _m(t,e,r){if(t&&zf(t)){(e==="emphasis"?cf:vf)(t,r)}}function xm(t,e,r){var i=Vo(t,e);var a=e&&e.highlightKey!=null?Bf(e.highlightKey):null;if(i!=null){X(yo(i),(function(e){_m(t.getItemGraphicEl(e),r,a)}))}else{t.eachItemGraphicEl((function(t){_m(t,r,a)}))}}is(mm);fs(mm);function wm(t){return ym(t.model)}function bm(t){var e=t.model;var r=t.ecModel;var i=t.api;var a=t.payload;var n=e.pipelineContext.progressiveRender;var o=t.view;var s=a&&gm(a).updateMethod;var l=n?"incrementalPrepareRender":s&&o[s]?s:"render";if(l!=="render"){o[l](e,r,i,a)}return Sm[l]}var Sm={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var Mm="\0__throttleOriginMethod";var Im="\0__throttleRate";var Tm="\0__throttleType";function Dm(t,e,r){var i;var a=0;var n=0;var o=null;var s;var l;var u;var f;e=e||0;function h(){n=(new Date).getTime();o=null;t.apply(l,u||[])}var c=function(){var t=[];for(var c=0;c<arguments.length;c++){t[c]=arguments[c]}i=(new Date).getTime();l=this;u=t;var v=f||e;var d=f||r;f=null;s=i-(d?a:n)-v;clearTimeout(o);if(d){o=setTimeout(h,v)}else{if(s>=0){h()}else{o=setTimeout(h,-s)}}a=i};c.clear=function(){if(o){clearTimeout(o);o=null}};c.debounceNextCall=function(t){f=t};return c}function Cm(t,e,r,i){var a=t[e];if(!a){return}var n=a[Mm]||a;var o=a[Tm];var s=a[Im];if(s!==r||o!==i){if(r==null||!i){return t[e]=n}a=t[e]=Dm(n,r,i==="debounce");a[Mm]=n;a[Tm]=i;a[Im]=r}return a}function Am(t,e){var r=t[e];if(r&&r[Mm]){r.clear&&r.clear();t[e]=r[Mm]}}var km=Bo();var Lm={itemStyle:hs(wv,true),lineStyle:hs(mv,true)};var Pm={lineStyle:"stroke",itemStyle:"fill"};function Om(t,e){var r=t.visualStyleMapper||Lm[e];if(!r){console.warn("Unknown style type '"+e+"'.");return Lm.itemStyle}return r}function Nm(t,e){var r=t.visualDrawType||Pm[e];if(!r){console.warn("Unknown style type '"+e+"'.");return"fill"}return r}var Rm={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=t.getModel(i);var n=Om(t,i);var o=n(a);var s=a.getShallow("decal");if(s){r.setVisual("decal",s);s.dirty=true}var l=Nm(t,i);var u=o[l];var f=rt(u)?u:null;var h=o.fill==="auto"||o.stroke==="auto";if(!o[l]||f||h){var c=t.getColorFromPalette(t.name,null,e.getSeriesCount());if(!o[l]){o[l]=c;r.setVisual("colorFromPalette",true)}o.fill=o.fill==="auto"||rt(o.fill)?c:o.fill;o.stroke=o.stroke==="auto"||rt(o.stroke)?c:o.stroke}r.setVisual("style",o);r.setVisual("drawType",l);if(!e.isSeriesFiltered(t)&&f){r.setVisual("colorFromPalette",false);return{dataEach:function(e,r){var i=t.getDataParams(r);var a=F({},o);a[l]=f(i);e.setItemVisual(r,"style",a)}}}}};var Em=new Mv;var zm={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(t.ignoreStyleOnData||e.isSeriesFiltered(t)){return}var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=Om(t,i);var n=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(t,e){var r=t.getRawDataItem(e);if(r&&r[i]){Em.option=r[i];var o=a(Em);var s=t.ensureUniqueItemVisual(e,"style");F(s,o);if(Em.option.decal){t.setItemVisual(e,"decal",Em.option.decal);Em.option.decal.dirty=true}if(n in o){t.setItemVisual(e,"colorFromPalette",false)}}}:null}}};var Vm={performRawSeries:true,overallReset:function(t){var e=Ct();t.eachSeries((function(t){var r=t.getColorBy();if(t.isColorBySeries()){return}var i=t.type+"-"+r;var a=e.get(i);if(!a){a={};e.set(i,a)}km(t).scope=a}));t.eachSeries((function(e){if(e.isColorBySeries()||t.isSeriesFiltered(e)){return}var r=e.getRawData();var i={};var a=e.getData();var n=km(e).scope;var o=e.visualStyleAccessPath||"itemStyle";var s=Nm(e,o);a.each((function(t){var e=a.getRawIndex(t);i[e]=t}));r.each((function(t){var o=i[t];var l=a.getItemVisual(o,"colorFromPalette");if(l){var u=a.ensureUniqueItemVisual(o,"style");var f=r.getName(t)||t+"";var h=r.count();u[s]=e.getColorFromPalette(f,n,h)}}))}))}};var Bm=Math.PI;function Fm(t,e){e=e||{};G(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Tn;var i=new lu({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(i);var a=new cu({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001});var n=new lu({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(n);var o;if(e.showSpinner){o=new qh({shape:{startAngle:-Bm/2,endAngle:-Bm/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});o.animateShape(true).when(1e3,{endAngle:Bm*3/2}).start("circularInOut");o.animateShape(true).when(1e3,{startAngle:Bm*3/2}).delay(300).start("circularInOut");r.add(o)}r.resize=function(){var r=a.getBoundingRect().width;var s=e.showSpinner?e.spinnerRadius:0;var l=(t.getWidth()-s*2-(e.showSpinner&&r?10:0)-r)/2-(e.showSpinner&&r?0:5+r/2)+(e.showSpinner?0:r/2)+(r?0:s);var u=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:u});n.setShape({x:l-s,y:u-s,width:s*2,height:s*2});i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})};r.resize();return r}var Gm=function(){function t(t,e,r,i){this._stageTaskMap=Ct();this.ecInstance=t;this.api=e;r=this._dataProcessorHandlers=r.slice();i=this._visualHandlers=i.slice();this._allHandlers=r.concat(i)}t.prototype.restoreData=function(t,e){t.restoreData(e);this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))};t.prototype.getPerformArgs=function(t,e){if(!t.__pipeline){return}var r=this._pipelineMap.get(t.__pipeline.id);var i=r.context;var a=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex;var n=a?r.step:null;var o=i&&i.modDataCount;var s=o!=null?Math.ceil(o/n):null;return{step:n,modBy:s,modDataCount:o}};t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)};t.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid);var i=t.getData();var a=i.count();var n=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold;var o=t.get("large")&&a>=t.get("largeThreshold");var s=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=r.context={progressiveRender:n,modDataCount:s,large:o}};t.prototype.restorePipelines=function(t){var e=this;var r=e._pipelineMap=Ct();t.eachSeries((function(t){var i=t.getProgressive();var a=t.uid;r.set(a,{id:a,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0});e._pipe(t,t.dataTask)}))};t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap;var e=this.api.getModel();var r=this.api;X(this._allHandlers,(function(i){var a=t.get(i.uid)||t.set(i.uid,{});var n="";_t(!(i.reset&&i.overallReset),n);i.reset&&this._createSeriesStageTask(i,a,e,r);i.overallReset&&this._createOverallStageTask(i,a,e,r)}),this)};t.prototype.prepareView=function(t,e,r,i){var a=t.renderTask;var n=a.context;n.model=e;n.ecModel=r;n.api=i;a.__block=!t.incrementalPrepareRender;this._pipe(e,a)};t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:true})};t.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)};t.prototype._performStageTasks=function(t,e,r,i){i=i||{};var a=false;var n=this;X(t,(function(t,s){if(i.visualType&&i.visualType!==t.visualType){return}var l=n._stageTaskMap.get(t.uid);var u=l.seriesTaskMap;var f=l.overallTask;if(f){var h;var c=f.agentStubMap;c.each((function(t){if(o(i,t)){t.dirty();h=true}}));h&&f.dirty();n.updatePayload(f,r);var v=n.getPerformArgs(f,i.block);c.each((function(t){t.perform(v)}));if(f.perform(v)){a=true}}else if(u){u.each((function(s,l){if(o(i,s)){s.dirty()}var u=n.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model);n.updatePayload(s,r);if(s.perform(u)){a=true}}))}}));function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}this.unfinished=a||this.unfinished};t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e}));this.unfinished=e||this.unfinished};t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};t.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)};t.prototype._createSeriesStageTask=function(t,e,r,i){var a=this;var n=e.seriesTaskMap;var o=e.seriesTaskMap=Ct();var s=t.seriesType;var l=t.getTargetSeries;if(t.createOnAllSeries){r.eachRawSeries(u)}else if(s){r.eachRawSeriesByType(s,u)}else if(l){l(r,i).each(u)}function u(e){var s=e.uid;var l=o.set(s,n&&n.get(s)||Kg({plan:Xm,reset:Zm,count:Km}));l.context={model:e,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a};a._pipe(e,l)}};t.prototype._createOverallStageTask=function(t,e,r,i){var a=this;var n=e.overallTask=e.overallTask||Kg({reset:Wm});n.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var o=n.agentStubMap;var s=n.agentStubMap=Ct();var l=t.seriesType;var u=t.getTargetSeries;var f=true;var h=false;var c="";_t(!t.createOnAllSeries,c);if(l){r.eachRawSeriesByType(l,v)}else if(u){u(r,i).each(v)}else{f=false;X(r.getSeries(),v)}function v(t){var e=t.uid;var r=s.set(e,o&&o.get(e)||(h=true,Kg({reset:Hm,onDirty:Um})));r.context={model:t,overallProgress:f};r.agent=n;r.__block=f;a._pipe(t,r)}if(h){n.dirty()}};t.prototype._pipe=function(t,e){var r=t.uid;var i=this._pipelineMap.get(r);!i.head&&(i.head=e);i.tail&&i.tail.pipe(e);i.tail=e;e.__idxInPipeline=i.count++;e.__pipeline=i};t.wrapStageHandler=function(t,e){if(rt(t)){t={overallReset:t,seriesType:$m(t)}}t.uid=Tv("stageHandler");e&&(t.visualType=e);return t};return t}();function Wm(t){t.overallReset(t.ecModel,t.api,t.payload)}function Hm(t){return t.overallProgress&&Ym}function Ym(){this.agent.dirty();this.getDownstream().dirty()}function Um(){this.agent&&this.agent.dirty()}function Xm(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Zm(t){if(t.useClearVisual){t.data.clearAllVisual()}var e=t.resetDefines=yo(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Z(e,(function(t,e){return qm(e)})):jm}var jm=qm(0);function qm(t){return function(e,r){var i=r.data;var a=r.resetDefines[t];if(a&&a.dataEach){for(var n=e.start;n<e.end;n++){a.dataEach(i,n)}}else if(a&&a.progress){a.progress(e,i)}}}function Km(t){return t.data.count()}function $m(t){t_=null;try{t(Jm,Qm)}catch(Th){}return t_}var Jm={};var Qm={};var t_;e_(Jm,Lp);e_(Qm,Vp);Jm.eachSeriesByType=Jm.eachRawSeriesByType=function(t){t_=t};Jm.eachComponent=function(t){if(t.mainType==="series"&&t.subType){t_=t.subType}};function e_(t,e){for(var r in e.prototype){t[r]=Ot}}var r_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var i_={color:r_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],r_]};var a_="#B9B8CE";var n_="#100C2A";var o_=function(){return{axisLine:{lineStyle:{color:a_}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var s_=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var l_={darkMode:true,color:s_,backgroundColor:n_,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:a_}},textStyle:{color:a_},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:a_}},dataZoom:{borderColor:"#71708A",textStyle:{color:a_},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:a_}},timeline:{lineStyle:{color:a_},label:{color:a_},controlStyle:{color:a_,borderColor:a_}},calendar:{itemStyle:{color:n_},dayLabel:{color:a_},monthLabel:{color:a_},yearLabel:{color:a_}},timeAxis:o_(),logAxis:o_(),valueAxis:o_(),categoryAxis:o_(),line:{symbol:"circle"},graph:{color:s_},gauge:{title:{color:a_},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:a_},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};l_.categoryAxis.splitLine.show=false;var u_=function(){function t(){}t.prototype.normalizeQuery=function(t){var e={};var r={};var i={};if(it(t)){var a=ts(t);e.mainType=a.main||null;e.subType=a.sub||null}else{var n=["Index","Name","Id"];var o={name:1,dataIndex:1,dataType:1};X(t,(function(t,a){var s=false;for(var l=0;l<n.length;l++){var u=n[l];var f=a.lastIndexOf(u);if(f>0&&f===a.length-u.length){var h=a.slice(0,f);if(h!=="data"){e.mainType=h;e[u.toLowerCase()]=t;s=true}}}if(o.hasOwnProperty(a)){r[a]=t;s=true}if(!s){i[a]=t}}))}return{cptQuery:e,dataQuery:r,otherQuery:i}};t.prototype.filter=function(t,e){var r=this.eventInfo;if(!r){return true}var i=r.targetEl;var a=r.packedEvent;var n=r.model;var o=r.view;if(!n||!o){return true}var s=e.cptQuery;var l=e.dataQuery;return u(s,n,"mainType")&&u(s,n,"subType")&&u(s,n,"index","componentIndex")&&u(s,n,"name")&&u(s,n,"id")&&u(l,a,"name")&&u(l,a,"dataIndex")&&u(l,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,i,a));function u(t,e,r,i){return t[r]==null||e[i||r]===t[r]}};t.prototype.afterTrigger=function(){this.eventInfo=null};return t}();var f_=["symbol","symbolSize","symbolRotate","symbolOffset"];var h_=f_.concat(["symbolKeepAspect"]);var c_={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();if(t.legendIcon){r.setVisual("legendIcon",t.legendIcon)}if(!t.hasSymbolVisual){return}var i={};var a={};var n=false;for(var o=0;o<f_.length;o++){var s=f_[o];var l=t.get(s);if(rt(l)){n=true;a[s]=l}else{i[s]=l}}i.symbol=i.symbol||t.defaultSymbol;r.setVisual(F({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i));if(e.isSeriesFiltered(t)){return}var u=$(a);function f(e,r){var i=t.getRawValue(r);var n=t.getDataParams(r);for(var o=0;o<u.length;o++){var s=u[o];e.setItemVisual(r,s,a[s](i,n))}}return{dataEach:n?f:null}}};var v_={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(!t.hasSymbolVisual){return}if(e.isSeriesFiltered(t)){return}var r=t.getData();function i(t,e){var r=t.getItemModel(e);for(var i=0;i<h_.length;i++){var a=h_[i];var n=r.getShallow(a,true);if(n!=null){t.setItemVisual(e,a,n)}}}return{dataEach:r.hasItemOption?i:null}}};function d_(t,e,r){switch(r){case"color":var i=t.getItemVisual(e,"style");return i[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r);default:}}function p_(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:}}function g_(t,e,r,i){switch(r){case"color":var a=t.ensureUniqueItemVisual(e,"style");a[t.getVisual("drawType")]=i;t.setItemVisual(e,"colorFromPalette",false);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,i);break;default:}}function y_(t,e){function r(e,r){var i=[];e.eachComponent({mainType:"series",subType:t,query:r},(function(t){i.push(t.seriesIndex)}));return i}X([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,i,a){e=F({},e);a.dispatchAction(F(e,{type:t[1],seriesIndex:r(i,e)}))}))}))}function m_(t,e,r,i,a){var n=t+e;if(!r.isSilent(n)){i.eachComponent({mainType:"series",subType:"pie"},(function(t){var e=t.seriesIndex;var i=t.option.selectedMap;var o=a.selected;for(var s=0;s<o.length;s++){if(o[s].seriesIndex===e){var l=t.getData();var u=Vo(l,a.fromActionPayload);r.trigger(n,{type:n,seriesId:t.id,name:et(u)?l.getName(u[0]):l.getName(u),selected:it(i)?i:F({},i)})}}}))}}function __(t,e,r){t.on("selectchanged",(function(t){var i=r.getModel();if(t.isFromClick){m_("map","selectchanged",e,i,t);m_("pie","selectchanged",e,i,t)}else if(t.fromAction==="select"){m_("map","selected",e,i,t);m_("pie","selected",e,i,t)}else if(t.fromAction==="unselect"){m_("map","unselected",e,i,t);m_("pie","unselected",e,i,t)}}))}function x_(t,e,r){var i;while(t){if(e(t)){i=t;if(r){break}}t=t.__hostTarget||t.parent}return i}var w_=Math.round(Math.random()*9);var b_=typeof Object.defineProperty==="function";var S_=function(){function t(){this._id="__ec_inner_"+w_++}t.prototype.get=function(t){return this._guard(t)[this._id]};t.prototype.set=function(t,e){var r=this._guard(t);if(b_){Object.defineProperty(r,this._id,{value:e,enumerable:false,configurable:true})}else{r[this._id]=e}return this};t.prototype["delete"]=function(t){if(this.has(t)){delete this._guard(t)[this._id];return true}return false};t.prototype.has=function(t){return!!this._guard(t)[this._id]};t.prototype._guard=function(t){if(t!==Object(t)){throw TypeError("Value of WeakMap is not a non-null object.")}return t};return t}();var M_=jl.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i+n);t.lineTo(r-a,i+n);t.closePath()}});var I_=jl.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i);t.lineTo(r,i+n);t.lineTo(r-a,i);t.closePath()}});var T_=jl.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x;var i=e.y;var a=e.width/5*3;var n=Math.max(a,e.height);var o=a/2;var s=o*o/(n-o);var l=i-n+o+s;var u=Math.asin(s/o);var f=Math.cos(u)*o;var h=Math.sin(u);var c=Math.cos(u);var v=o*.6;var d=o*.7;t.moveTo(r-f,l+s);t.arc(r,l,o,Math.PI-u,Math.PI*2+u);t.bezierCurveTo(r+f-h*v,l+s+c*v,r,i-d,r,i);t.bezierCurveTo(r,i-d,r-f+h*v,l+s+c*v,r-f,l+s);t.closePath()}});var D_=jl.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height;var i=e.width;var a=e.x;var n=e.y;var o=i/3*2;t.moveTo(a,n);t.lineTo(a+o,n+r);t.lineTo(a,n+r/4*3);t.lineTo(a-o,n+r);t.lineTo(a,n);t.closePath()}});var C_={line:Hh,rect:lu,roundRect:lu,square:lu,circle:vh,diamond:I_,pin:T_,arrow:D_,triangle:M_};var A_={line:function(t,e,r,i,a){a.x1=t;a.y1=e+i/2;a.x2=t+r;a.y2=e+i/2},rect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i},roundRect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i;a.r=Math.min(r,i)/4},square:function(t,e,r,i,a){var n=Math.min(r,i);a.x=t;a.y=e;a.width=n;a.height=n},circle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.r=Math.min(r,i)/2},diamond:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i},pin:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},arrow:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},triangle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i}};var k_={};X(C_,(function(t,e){k_[e]=new t}));var L_=jl.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var i=cn(t,e,r);var a=this.shape;if(a&&a.symbolType==="pin"&&e.position==="inside"){i.y=r.y+r.height*.4}return i},buildPath:function(t,e,r){var i=e.symbolType;if(i!=="none"){var a=k_[i];if(!a){i="rect";a=k_[i]}A_[i](e.x,e.y,e.width,e.height,a.shape);a.buildPath(t,a.shape,r)}}});function P_(t,e){if(this.type!=="image"){var r=this.style;if(this.__isEmptyBrush){r.stroke=t;r.fill=e||"#fff";r.lineWidth=2}else if(this.shape.symbolType==="line"){r.stroke=t}else{r.fill=t}this.markRedraw()}}function O_(t,e,r,i,a,n,o){var s=t.indexOf("empty")===0;if(s){t=t.substr(5,1).toLowerCase()+t.substr(6)}var l;if(t.indexOf("image://")===0){l=Dc(t.slice(8),new Je(e,r,i,a),o?"center":"cover")}else if(t.indexOf("path://")===0){l=Tc(t.slice(7),{},new Je(e,r,i,a),o?"center":"cover")}else{l=new L_({shape:{symbolType:t,x:e,y:r,width:i,height:a}})}l.__isEmptyBrush=s;l.setColor=P_;if(n){l.setColor(n)}return l}function N_(t){if(!et(t)){t=[+t,+t]}return[t[0]||0,t[1]||0]}function R_(t,e){if(t==null){return}if(!et(t)){t=[t,t]}return[Vn(t[0],e[0])||0,Vn(pt(t[1],t[0]),e[1])||0]}function E_(t){return isFinite(t)}function z_(t,e,r){var i=e.x==null?0:e.x;var a=e.x2==null?1:e.x2;var n=e.y==null?0:e.y;var o=e.y2==null?0:e.y2;if(!e.global){i=i*r.width+r.x;a=a*r.width+r.x;n=n*r.height+r.y;o=o*r.height+r.y}i=E_(i)?i:0;a=E_(a)?a:1;n=E_(n)?n:0;o=E_(o)?o:0;var s=t.createLinearGradient(i,n,a,o);return s}function V_(t,e,r){var i=r.width;var a=r.height;var n=Math.min(i,a);var o=e.x==null?.5:e.x;var s=e.y==null?.5:e.y;var l=e.r==null?.5:e.r;if(!e.global){o=o*i+r.x;s=s*a+r.y;l=l*n}o=E_(o)?o:.5;s=E_(s)?s:.5;l=l>=0&&E_(l)?l:.5;var u=t.createRadialGradient(o,s,0,o,s,l);return u}function B_(t,e,r){var i=e.type==="radial"?V_(t,e,r):z_(t,e,r);var a=e.colorStops;for(var n=0;n<a.length;n++){i.addColorStop(a[n].offset,a[n].color)}return i}function F_(t,e){if(t===e||!t&&!e){return false}if(!t||!e||t.length!==e.length){return true}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return true}}return false}function G_(t){return parseInt(t,10)}function W_(t,e,r){var i=["width","height"][e];var a=["clientWidth","clientHeight"][e];var n=["paddingLeft","paddingTop"][e];var o=["paddingRight","paddingBottom"][e];if(r[i]!=null&&r[i]!=="auto"){return parseFloat(r[i])}var s=document.defaultView.getComputedStyle(t);return(t[a]||G_(s[i])||G_(t.style[i]))-(G_(s[n])||0)-(G_(s[o])||0)|0}function H_(t,e){if(!t||t==="solid"||!(e>0)){return null}return t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:nt(t)?[t]:et(t)?t:null}function Y_(t){var e=t.style;var r=e.lineDash&&e.lineWidth>0&&H_(e.lineDash,e.lineWidth);var i=e.lineDashOffset;if(r){var a=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;if(a&&a!==1){r=Z(r,(function(t){return t/a}));i/=a}}return[r,i]}var U_=new Sl(true);function X_(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function Z_(t){return typeof t==="string"&&t!=="none"}function j_(t){var e=t.fill;return e!=null&&e!=="none"}function q_(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity;t.fill();t.globalAlpha=r}else{t.fill()}}function K_(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity;t.stroke();t.globalAlpha=r}else{t.stroke()}}function $_(t,e,r){var i=ys(e.image,e.__image,r);if(_s(i)){var a=t.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix==="function"&&a&&a.setTransform){var n=new DOMMatrix;n.translateSelf(e.x||0,e.y||0);n.rotateSelf(0,0,(e.rotation||0)*Nt);n.scaleSelf(e.scaleX||1,e.scaleY||1);a.setTransform(n)}return a}}function J_(t,e,r,i){var a;var n=X_(r);var o=j_(r);var s=r.strokePercent;var l=s<1;var u=!e.path;if((!e.silent||l)&&u){e.createPathProxy()}var f=e.path||U_;var h=e.__dirty;if(!i){var c=r.fill;var v=r.stroke;var d=o&&!!c.colorStops;var p=n&&!!v.colorStops;var g=o&&!!c.image;var y=n&&!!v.image;var m=void 0;var _=void 0;var x=void 0;var w=void 0;var b=void 0;if(d||p){b=e.getBoundingRect()}if(d){m=h?B_(t,c,b):e.__canvasFillGradient;e.__canvasFillGradient=m}if(p){_=h?B_(t,v,b):e.__canvasStrokeGradient;e.__canvasStrokeGradient=_}if(g){x=h||!e.__canvasFillPattern?$_(t,c,e):e.__canvasFillPattern;e.__canvasFillPattern=x}if(y){w=h||!e.__canvasStrokePattern?$_(t,v,e):e.__canvasStrokePattern;e.__canvasStrokePattern=x}if(d){t.fillStyle=m}else if(g){if(x){t.fillStyle=x}else{o=false}}if(p){t.strokeStyle=_}else if(y){if(w){t.strokeStyle=w}else{n=false}}}var S=e.getGlobalScale();f.setScale(S[0],S[1],e.segmentIgnoreThreshold);var M;var I;if(t.setLineDash&&r.lineDash){a=Y_(e),M=a[0],I=a[1]}var T=true;if(u||h&br){f.setDPR(t.dpr);if(l){f.setContext(null)}else{f.setContext(t);T=false}f.reset();e.buildPath(f,e.shape,i);f.toStatic();e.pathUpdated()}if(T){f.rebuildPath(t,l?s:1)}if(M){t.setLineDash(M);t.lineDashOffset=I}if(!i){if(r.strokeFirst){if(n){K_(t,r)}if(o){q_(t,r)}}else{if(o){q_(t,r)}if(n){K_(t,r)}}}if(M){t.setLineDash([])}}function Q_(t,e,r){var i=e.__image=ys(r.image,e.__image,e,e.onload);if(!i||!_s(i)){return}var a=r.x||0;var n=r.y||0;var o=e.getWidth();var s=e.getHeight();var l=i.width/i.height;if(o==null&&s!=null){o=s*l}else if(s==null&&o!=null){s=o/l}else if(o==null&&s==null){o=i.width;s=i.height}if(r.sWidth&&r.sHeight){var u=r.sx||0;var f=r.sy||0;t.drawImage(i,u,f,r.sWidth,r.sHeight,a,n,o,s)}else if(r.sx&&r.sy){var u=r.sx;var f=r.sy;var h=o-u;var c=s-f;t.drawImage(i,u,f,h,c,a,n,o,s)}else{t.drawImage(i,a,n,o,s)}}function tx(t,e,r){var i;var a=r.text;a!=null&&(a+="");if(a){t.font=r.font||g;t.textAlign=r.textAlign;t.textBaseline=r.textBaseline;var n=void 0;var o=void 0;if(t.setLineDash&&r.lineDash){i=Y_(e),n=i[0],o=i[1]}if(n){t.setLineDash(n);t.lineDashOffset=o}if(r.strokeFirst){if(X_(r)){t.strokeText(a,r.x,r.y)}if(j_(r)){t.fillText(a,r.x,r.y)}}else{if(j_(r)){t.fillText(a,r.x,r.y)}if(X_(r)){t.strokeText(a,r.x,r.y)}}if(n){t.setLineDash([])}}}var ex=["shadowBlur","shadowOffsetX","shadowOffsetY"];var rx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ix(t,e,r,i,a){var n=false;if(!i){r=r||{};if(e===r){return false}}if(i||e.opacity!==r.opacity){dx(t,a);n=true;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Es.opacity:o}if(i||e.blend!==r.blend){if(!n){dx(t,a);n=true}t.globalCompositeOperation=e.blend||Es.blend}for(var s=0;s<ex.length;s++){var l=ex[s];if(i||e[l]!==r[l]){if(!n){dx(t,a);n=true}t[l]=t.dpr*(e[l]||0)}}if(i||e.shadowColor!==r.shadowColor){if(!n){dx(t,a);n=true}t.shadowColor=e.shadowColor||Es.shadowColor}return n}function ax(t,e,r,i,a){var n=px(e,a.inHover);var o=i?null:r&&px(r,a.inHover)||{};if(n===o){return false}var s=ix(t,n,o,i,a);if(i||n.fill!==o.fill){if(!s){dx(t,a);s=true}Z_(n.fill)&&(t.fillStyle=n.fill)}if(i||n.stroke!==o.stroke){if(!s){dx(t,a);s=true}Z_(n.stroke)&&(t.strokeStyle=n.stroke)}if(i||n.opacity!==o.opacity){if(!s){dx(t,a);s=true}t.globalAlpha=n.opacity==null?1:n.opacity}if(e.hasStroke()){var l=n.lineWidth;var u=l/(n.strokeNoScale&&e.getLineScale?e.getLineScale():1);if(t.lineWidth!==u){if(!s){dx(t,a);s=true}t.lineWidth=u}}for(var f=0;f<rx.length;f++){var h=rx[f];var c=h[0];if(i||n[c]!==o[c]){if(!s){dx(t,a);s=true}t[c]=n[c]||h[1]}}return s}function nx(t,e,r,i,a){return ix(t,px(e,a.inHover),r&&px(r,a.inHover),i,a)}function ox(t,e){var r=e.transform;var i=t.dpr||1;if(r){t.setTransform(i*r[0],i*r[1],i*r[2],i*r[3],i*r[4],i*r[5])}else{t.setTransform(i,0,0,i,0,0)}}function sx(t,e,r){var i=false;for(var a=0;a<t.length;a++){var n=t[a];i=i||n.isZeroArea();ox(e,n);e.beginPath();n.buildPath(e,n.shape);e.clip()}r.allClipped=i}function lx(t,e){if(t&&e){return t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]}else if(!t&&!e){return false}return true}var ux=1;var fx=2;var hx=3;var cx=4;function vx(t){var e=j_(t);var r=X_(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!=="string"||r&&typeof t.stroke!=="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function dx(t,e){e.batchFill&&t.fill();e.batchStroke&&t.stroke();e.batchFill="";e.batchStroke=""}function px(t,e){return e?t.__hoverStyle||t.style:t.style}function gx(t,e){yx(t,e,{inHover:false,viewWidth:0,viewHeight:0},true)}function yx(t,e,r,i){var a=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,false,false)){e.__dirty&=~xr;e.__isRendered=false;return}var n=e.__clipPaths;var o=r.prevElClipPaths;var s=false;var l=false;if(!o||F_(n,o)){if(o&&o.length){dx(t,r);t.restore();l=s=true;r.prevElClipPaths=null;r.allClipped=false;r.prevEl=null}if(n&&n.length){dx(t,r);t.save();sx(n,t,r);s=true}r.prevElClipPaths=n}if(r.allClipped){e.__isRendered=false;return}e.beforeBrush&&e.beforeBrush();e.innerBeforeBrush();var u=r.prevEl;if(!u){l=s=true}var f=e instanceof jl&&e.autoBatch&&vx(e.style);if(s||lx(a,u.transform)){dx(t,r);ox(t,e)}else if(!f){dx(t,r)}var h=px(e,r.inHover);if(e instanceof jl){if(r.lastDrawType!==ux){l=true;r.lastDrawType=ux}ax(t,e,u,l,r);if(!f||!r.batchFill&&!r.batchStroke){t.beginPath()}J_(t,e,h,f);if(f){r.batchFill=h.fill||"";r.batchStroke=h.stroke||""}}else{if(e instanceof Kl){if(r.lastDrawType!==hx){l=true;r.lastDrawType=hx}ax(t,e,u,l,r);tx(t,e,h)}else if(e instanceof tu){if(r.lastDrawType!==fx){l=true;r.lastDrawType=fx}nx(t,e,u,l,r);Q_(t,e,h)}else if(e.getTemporalDisplayables){if(r.lastDrawType!==cx){l=true;r.lastDrawType=cx}mx(t,e,r)}}if(f&&i){dx(t,r)}e.innerAfterBrush();e.afterBrush&&e.afterBrush();r.prevEl=e;e.__dirty=0;e.__isRendered=true}function mx(t,e,r){var i=e.getDisplayables();var a=e.getTemporalDisplayables();t.save();var n={prevElClipPaths:null,prevEl:null,allClipped:false,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover};var o;var s;for(o=e.getCursor(),s=i.length;o<s;o++){var l=i[o];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();yx(t,l,n,o===s-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}for(var u=0,f=a.length;u<f;u++){var l=a[u];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();yx(t,l,n,u===f-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}e.clearTemporalDisplayables();e.notClear=true;t.restore()}var _x=new S_;var xx=new oi(100);var bx=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Sx(t,e){if(t==="none"){return null}var r=e.getDevicePixelRatio();var i=e.getZr();var a=i.painter.type==="svg";if(t.dirty){_x["delete"](t)}var n=_x.get(t);if(n){return n}var o=G(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(o.backgroundColor==="none"){o.backgroundColor=null}var s={repeat:"repeat"};l(s);s.rotation=o.rotation;s.scaleX=s.scaleY=a?1:1/r;_x.set(t,s);t.dirty=false;return s;function l(t){var e=[r];var n=true;for(var s=0;s<bx.length;++s){var l=o[bx[s]];if(l!=null&&!et(l)&&!it(l)&&!nt(l)&&typeof l!=="boolean"){n=false;break}e.push(l)}var u;if(n){u=e.join(",")+(a?"-svg":"");var f=xx.get(u);if(f){a?t.svgElement=f:t.image=f}}var h=Ix(o.dashArrayX);var c=Tx(o.dashArrayY);var v=Mx(o.symbol);var d=Dx(h);var p=Cx(c);var g=!a&&b.createCanvas();var y=a&&{tag:"g",attrs:{},key:"dcl",children:[]};var m=x();var _;if(g){g.width=m.width*r;g.height=m.height*r;_=g.getContext("2d")}w();if(n){xx.put(u,g||y)}t.image=g;t.svgElement=y;t.svgWidth=m.width;t.svgHeight=m.height;function x(){var t=1;for(var e=0,r=d.length;e<r;++e){t=oo(t,d[e])}var i=1;for(var e=0,r=v.length;e<r;++e){i=oo(i,v[e].length)}t*=i;var a=p*d.length*v.length;return{width:Math.max(1,Math.min(t,o.maxTileWidth)),height:Math.max(1,Math.min(a,o.maxTileHeight))}}function w(){if(_){_.clearRect(0,0,g.width,g.height);if(o.backgroundColor){_.fillStyle=o.backgroundColor;_.fillRect(0,0,g.width,g.height)}}var t=0;for(var e=0;e<c.length;++e){t+=c[e]}if(t<=0){return}var n=-p;var s=0;var l=0;var u=0;while(n<m.height){if(s%2===0){var f=l/2%v.length;var d=0;var x=0;var w=0;while(d<m.width*2){var b=0;for(var e=0;e<h[u].length;++e){b+=h[u][e]}if(b<=0){break}if(x%2===0){var S=(1-o.symbolSize)*.5;var M=d+h[u][x]*S;var I=n+c[s]*S;var T=h[u][x]*o.symbolSize;var D=c[s]*o.symbolSize;var C=w/2%v[f].length;A(M,I,T,D,v[f][C])}d+=h[u][x];++w;++x;if(x===h[u].length){x=0}}++u;if(u===h.length){u=0}}n+=c[s];++l;++s;if(s===c.length){s=0}}function A(t,e,n,s,l){var u=a?1:r;var f=O_(l,t*u,e*u,n*u,s*u,o.color,o.symbolKeepAspect);if(a){var h=i.painter.renderOneToVNode(f);if(h){y.children.push(h)}}else{gx(_,f)}}}}}function Mx(t){if(!t||t.length===0){return[["rect"]]}if(it(t)){return[[t]]}var e=true;for(var r=0;r<t.length;++r){if(!it(t[r])){e=false;break}}if(e){return Mx([t])}var i=[];for(var r=0;r<t.length;++r){if(it(t[r])){i.push([t[r]])}else{i.push(t[r])}}return i}function Ix(t){if(!t||t.length===0){return[[0,0]]}if(nt(t)){var e=Math.ceil(t);return[[e,e]]}var r=true;for(var i=0;i<t.length;++i){if(!nt(t[i])){r=false;break}}if(r){return Ix([t])}var a=[];for(var i=0;i<t.length;++i){if(nt(t[i])){var e=Math.ceil(t[i]);a.push([e,e])}else{var e=Z(t[i],(function(t){return Math.ceil(t)}));if(e.length%2===1){a.push(e.concat(e))}else{a.push(e)}}}return a}function Tx(t){if(!t||typeof t==="object"&&t.length===0){return[0,0]}if(nt(t)){var e=Math.ceil(t);return[e,e]}var r=Z(t,(function(t){return Math.ceil(t)}));return t.length%2?r.concat(r):r}function Dx(t){return Z(t,(function(t){return Cx(t)}))}function Cx(t){var e=0;for(var r=0;r<t.length;++r){e+=t[r]}if(t.length%2===1){return e*2}return e}function Ax(t,e){t.eachRawSeries((function(r){if(t.isSeriesFiltered(r)){return}var i=r.getData();if(i.hasItemVisual()){i.each((function(t){var r=i.getItemVisual(t,"decal");if(r){var a=i.ensureUniqueItemVisual(t,"style");a.decal=Sx(r,e)}}))}var a=i.getVisual("decal");if(a){var n=i.getVisual("style");n.decal=Sx(a,e)}}))}var kx=new ae;var Lx={};function Px(t,e){Lx[t]=e}function Ox(t){return Lx[t]}var Nx=1;var Rx=800;var Ex=900;var zx=1e3;var Vx=2e3;var Bx=5e3;var Fx=1e3;var Gx=1100;var Wx=2e3;var Hx=3e3;var Yx=4e3;var Ux=4500;var Xx=4600;var Zx=5e3;var jx=6e3;var qx=7e3;var Kx={PROCESSOR:{FILTER:zx,SERIES_FILTER:Rx,STATISTIC:Bx},VISUAL:{LAYOUT:Fx,PROGRESSIVE_LAYOUT:Gx,GLOBAL:Wx,CHART:Hx,POST_CHART_LAYOUT:Xx,COMPONENT:Yx,BRUSH:Zx,CHART_ITEM:Ux,ARIA:jx,DECAL:qx}};var $x="__flagInMainProcess";var Jx="__pendingUpdate";var Qx="__needsUpdateStatus";var tw=/^[a-zA-Z0-9_]+$/;var ew="__connectUpdateStatus";var rw=0;var iw=1;var aw=2;function nw(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.isDisposed()){return}return sw(this,t,e)}}function ow(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return sw(this,t,e)}}function sw(t,e,r){r[0]=r[0]&&r[0].toLowerCase();return ae.prototype[e].apply(t,r)}var lw=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ae);var uw=lw.prototype;uw.on=ow("on");uw.off=ow("off");var fw;var hw;var cw;var vw;var dw;var pw;var gw;var yw;var mw;var _w;var xw;var ww;var bw;var Sw;var Mw;var Iw;var Tw;var Dw;var Cw=function(t){u(e,t);function e(e,r,i){var a=t.call(this,new u_)||this;a._chartsViews=[];a._chartsMap={};a._componentsViews=[];a._componentsMap={};a._pendingActions=[];i=i||{};if(it(r)){r=Ew[r]}a._dom=e;var n="canvas";var o="auto";var s=false;var l=a._zr=Pn(e,{renderer:i.renderer||n,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:pt(i.useDirtyRect,s),useCoarsePointer:pt(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr;a._throttledZrFlush=Dm(Q(l.flush,l),17);r=z(r);r&&gg(r,true);a._theme=r;a._locale=Bv(i.locale||zv);a._coordSysMgr=new Fp;var u=a._api=Mw(a);function f(t,e){return t.__prio-e.__prio}_r(Rw,f);_r(Ow,f);a._scheduler=new Gm(a,u,Ow,Rw);a._messageCenter=new lw;a._initEvents();a.resize=Q(a.resize,a);l.animation.on("frame",a._onframe,a);_w(l,a);xw(l,a);bt(a);return a}e.prototype._onframe=function(){if(this._disposed){return}Dw(this);var t=this._scheduler;if(this[Jx]){var e=this[Jx].silent;this[$x]=true;try{fw(this);vw.update.call(this,null,this[Jx].updateParams)}catch(Th){this[$x]=false;this[Jx]=null;throw Th}this._zr.flush();this[$x]=false;this[Jx]=null;yw.call(this,e);mw.call(this,e)}else if(t.unfinished){var r=Nx;var i=this._model;var a=this._api;t.unfinished=false;do{var n=+new Date;t.performSeriesTasks(i);t.performDataProcessorTasks(i);pw(this,i);t.performVisualTasks(i);Sw(this,this._model,a,"remain",{});r-=+new Date-n}while(r>0&&t.unfinished);if(!t.unfinished){this._zr.flush()}}};e.prototype.getDom=function(){return this._dom};e.prototype.getId=function(){return this.id};e.prototype.getZr=function(){return this._zr};e.prototype.isSSR=function(){return this._ssr};e.prototype.setOption=function(t,e,r){if(this[$x]){return}if(this._disposed){return}var i;var a;var n;if(ot(e)){r=e.lazyUpdate;i=e.silent;a=e.replaceMerge;n=e.transition;e=e.notMerge}this[$x]=true;if(!this._model||e){var o=new Wp(this._api);var s=this._theme;var l=this._model=new Lp;l.scheduler=this._scheduler;l.ssr=this._ssr;l.init(null,null,null,s,this._locale,o)}this._model.setOption(t,{replaceMerge:a},Nw);var u={seriesTransition:n,optionChanged:true};if(r){this[Jx]={silent:i,updateParams:u};this[$x]=false;this.getZr().wakeUp()}else{try{fw(this);vw.update.call(this,null,u)}catch(Th){this[Jx]=null;this[$x]=false;throw Th}if(!this._ssr){this._zr.flush()}this[Jx]=null;this[$x]=false;yw.call(this,i);mw.call(this,i)}};e.prototype.setTheme=function(){};e.prototype.getModel=function(){return this._model};e.prototype.getOption=function(){return this._model&&this._model.getOption()};e.prototype.getWidth=function(){return this._zr.getWidth()};e.prototype.getHeight=function(){return this._zr.getHeight()};e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||c.hasGlobalWindow&&window.devicePixelRatio||1};e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)};e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})};e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;return e.renderToString({useViewBox:t.useViewBox})};e.prototype.getSvgDataURL=function(){if(!c.svgSupported){return}var t=this._zr;var e=t.storage.getDisplayList();X(e,(function(t){t.stopAnimation(null,true)}));return t.painter.toDataURL()};e.prototype.getDataURL=function(t){if(this._disposed){return}t=t||{};var e=t.excludeComponents;var r=this._model;var i=[];var a=this;X(e,(function(t){r.eachComponent({mainType:t},(function(t){var e=a._componentsMap[t.__viewId];if(!e.group.ignore){i.push(e);e.group.ignore=true}}))}));var n=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));X(i,(function(t){t.group.ignore=false}));return n};e.prototype.getConnectedDataURL=function(t){if(this._disposed){return}var e=t.type==="svg";var r=this.group;var i=Math.min;var a=Math.max;var n=Infinity;if(Bw[r]){var o=n;var s=n;var l=-n;var u=-n;var f=[];var h=t&&t.pixelRatio||this.getDevicePixelRatio();X(Vw,(function(n,h){if(n.group===r){var c=e?n.getZr().painter.getSvgDom().innerHTML:n.renderToCanvas(z(t));var v=n.getDom().getBoundingClientRect();o=i(v.left,o);s=i(v.top,s);l=a(v.right,l);u=a(v.bottom,u);f.push({dom:c,left:v.left,top:v.top})}}));o*=h;s*=h;l*=h;u*=h;var c=l-o;var v=u-s;var d=b.createCanvas();var p=Pn(d,{renderer:e?"svg":"canvas"});p.resize({width:c,height:v});if(e){var g="";X(f,(function(t){var e=t.left-o;var r=t.top-s;g+='<g transform="translate('+e+","+r+')">'+t.dom+"</g>"}));p.painter.getSvgRoot().innerHTML=g;if(t.connectedBackgroundColor){p.painter.setBackgroundColor(t.connectedBackgroundColor)}p.refreshImmediately();return p.painter.toDataURL()}else{if(t.connectedBackgroundColor){p.add(new lu({shape:{x:0,y:0,width:c,height:v},style:{fill:t.connectedBackgroundColor}}))}X(f,(function(t){var e=new tu({style:{x:t.left*h-o,y:t.top*h-s,image:t.dom}});p.add(e)}));p.refreshImmediately();return d.toDataURL("image/"+(t&&t.type||"png"))}}else{return this.getDataURL(t)}};e.prototype.convertToPixel=function(t,e){return dw(this,"convertToPixel",t,e)};e.prototype.convertFromPixel=function(t,e){return dw(this,"convertFromPixel",t,e)};e.prototype.containPixel=function(t,e){if(this._disposed){return}var r=this._model;var i;var a=Go(r,t);X(a,(function(t,r){r.indexOf("Models")>=0&&X(t,(function(t){var a=t.coordinateSystem;if(a&&a.containPoint){i=i||!!a.containPoint(e)}else if(r==="seriesModels"){var n=this._chartsMap[t.__viewId];if(n&&n.containPoint){i=i||n.containPoint(e,t)}}}),this)}),this);return!!i};e.prototype.getVisual=function(t,e){var r=this._model;var i=Go(r,t,{defaultMainType:"series"});var a=i.seriesModel;var n=a.getData();var o=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?n.indexOfRawIndex(i.dataIndex):null;return o!=null?d_(n,o,e):p_(n,e)};e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]};e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};e.prototype._initEvents=function(){var t=this;X(kw,(function(e){var r=function(r){var i=t.getModel();var a=r.target;var n;var o=e==="globalout";if(o){n={}}else{a&&x_(a,(function(t){var e=Tu(t);if(e&&e.dataIndex!=null){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex);n=r&&r.getDataParams(e.dataIndex,e.dataType)||{};return true}else if(e.eventData){n=F({},e.eventData);return true}}),true)}if(n){var s=n.componentType;var l=n.componentIndex;if(s==="markLine"||s==="markPoint"||s==="markArea"){s="series";l=n.seriesIndex}var u=s&&l!=null&&i.getComponent(s,l);var f=u&&t[u.mainType==="series"?"_chartsMap":"_componentsMap"][u.__viewId];n.event=r;n.type=e;t._$eventProcessor.eventInfo={targetEl:a,packedEvent:n,model:u,view:f};t.trigger(e,n)}};r.zrEventfulCallAtLast=true;t._zr.on(e,r,t)}));X(Pw,(function(e,r){t._messageCenter.on(r,(function(t){this.trigger(r,t)}),t)}));X(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)}));__(this._messageCenter,this,this._api)};e.prototype.isDisposed=function(){return this._disposed};e.prototype.clear=function(){if(this._disposed){return}this.setOption({series:[]},true)};e.prototype.dispose=function(){if(this._disposed){return}this._disposed=true;var t=this.getDom();if(t){Xo(this.getDom(),Gw,"")}var e=this;var r=e._api;var i=e._model;X(e._componentsViews,(function(t){t.dispose(i,r)}));X(e._chartsViews,(function(t){t.dispose(i,r)}));e._zr.dispose();e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null;delete Vw[e.id]};e.prototype.resize=function(t){if(this[$x]){return}if(this._disposed){return}this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var r=e.resetOption("media");var i=t&&t.silent;if(this[Jx]){if(i==null){i=this[Jx].silent}r=true;this[Jx]=null}this[$x]=true;try{r&&fw(this);vw.update.call(this,{type:"resize",animation:F({duration:0},t&&t.animation)})}catch(Th){this[$x]=false;throw Th}this[$x]=false;yw.call(this,i);mw.call(this,i)};e.prototype.showLoading=function(t,e){if(this._disposed){return}if(ot(t)){e=t;t=""}t=t||"default";this.hideLoading();if(!zw[t]){return}var r=zw[t](this._api,e);var i=this._zr;this._loadingFX=r;i.add(r)};e.prototype.hideLoading=function(){if(this._disposed){return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};e.prototype.makeActionFromEvent=function(t){var e=F({},t);e.type=Pw[t.type];return e};e.prototype.dispatchAction=function(t,e){if(this._disposed){return}if(!ot(e)){e={silent:!!e}}if(!Lw[t.type]){return}if(!this._model){return}if(this[$x]){this._pendingActions.push(t);return}var r=e.silent;gw.call(this,t,r);var i=e.flush;if(i){this._zr.flush()}else if(i!==false&&c.browser.weChat){this._throttledZrFlush()}yw.call(this,r);mw.call(this,r)};e.prototype.updateLabelLayout=function(){kx.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})};e.prototype.appendData=function(t){if(this._disposed){return}var e=t.seriesIndex;var r=this.getModel();var i=r.getSeriesByIndex(e);i.appendData(t);this._scheduler.unfinished=true;this.getZr().wakeUp()};e.internalField=function(){fw=function(t){var e=t._scheduler;e.restorePipelines(t._model);e.prepareStageTasks();hw(t,true);hw(t,false);e.plan()};hw=function(t,e){var r=t._model;var i=t._scheduler;var a=e?t._componentsViews:t._chartsViews;var n=e?t._componentsMap:t._chartsMap;var o=t._zr;var s=t._api;for(var l=0;l<a.length;l++){a[l].__alive=false}e?r.eachComponent((function(t,e){t!=="series"&&u(e)})):r.eachSeries(u);function u(t){var l=t.__requireNewView;t.__requireNewView=false;var u="_ec_"+t.id+"_"+t.type;var f=!l&&n[u];if(!f){var h=ts(t.type);var c=e?dm.getClass(h.main,h.sub):mm.getClass(h.sub);f=new c;f.init(r,s);n[u]=f;a.push(f);o.add(f.group)}t.__viewId=f.__id=u;f.__alive=true;f.__model=t;f.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex};!e&&i.prepareView(f,t,r,s)}for(var l=0;l<a.length;){var f=a[l];if(!f.__alive){!e&&f.renderTask.dispose();o.remove(f.group);f.dispose(r,s);a.splice(l,1);if(n[f.__id]===f){delete n[f.__id]}f.__id=f.group.__ecComponentInfo=null}else{l++}}};cw=function(t,e,r,i,a){var n=t._model;n.setUpdatePayload(r);if(!i){X([].concat(t._componentsViews).concat(t._chartsViews),f);return}var o={};o[i+"Id"]=r[i+"Id"];o[i+"Index"]=r[i+"Index"];o[i+"Name"]=r[i+"Name"];var s={mainType:i,query:o};a&&(s.subType=a);var l=r.excludeSeriesId;var u;if(l!=null){u=Ct();X(yo(l),(function(t){var e=Lo(t,null);if(e!=null){u.set(e,true)}}))}n&&n.eachComponent(s,(function(e){var i=u&&u.get(e.id)!=null;if(i){return}if(Gf(r)){if(e instanceof nm){if(r.type===Bu&&!r.notBlur&&!e.get(["emphasis","disabled"])){bf(e,r,t._api)}}else{var a=Sf(e.mainType,e.componentIndex,r.name,t._api),n=a.focusSelf,o=a.dispatchers;if(r.type===Bu&&n&&!r.notBlur){wf(e.mainType,e.componentIndex,t._api)}if(o){X(o,(function(t){r.type===Bu?cf(t):vf(t)}))}}}else if(Ff(r)){if(e instanceof nm){Tf(e,r);Df(e);Tw(t)}}}),t);n&&n.eachComponent(s,(function(e){var r=u&&u.get(e.id)!=null;if(r){return}f(t[i==="series"?"_chartsMap":"_componentsMap"][e.__viewId])}),t);function f(i){i&&i.__alive&&i[e]&&i[e](i.__model,n,t._api,r)}};vw={prepareAndUpdate:function(t){fw(this);vw.update.call(this,t,{optionChanged:t.newOption!=null})},update:function(e,r){var i=this._model;var a=this._api;var n=this._zr;var o=this._coordSysMgr;var s=this._scheduler;if(!i){return}i.setUpdatePayload(e);s.restoreData(i,e);s.performSeriesTasks(i);o.create(i,a);s.performDataProcessorTasks(i,e);pw(this,i);o.update(i,a);t(i);s.performVisualTasks(i,e);ww(this,i,a,e,r);var l=i.get("backgroundColor")||"transparent";var u=i.get("darkMode");n.setBackgroundColor(l);if(u!=null&&u!=="auto"){n.setDarkMode(u)}kx.trigger("afterupdate",i,a)},updateTransform:function(e){var r=this;var i=this._model;var a=this._api;if(!i){return}i.setUpdatePayload(e);i.eachComponent((function(t,n){if(t==="series"){return}var o=r.getViewOfComponentModel(n);if(o&&o.__alive){if(o.updateTransform){var s=o.updateTransform(n,i,a,e)}}}));var n=Ct();i.eachSeries((function(t){var o=r._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,i,a,e);s&&s.update&&n.set(t.uid,1)}else{n.set(t.uid,1)}}));t(i);this._scheduler.performVisualTasks(i,e,{setDirty:true,dirtyMap:n});Sw(this,i,a,e,{},n);kx.trigger("afterupdate",i,a)},updateView:function(e){var r=this._model;if(!r){return}r.setUpdatePayload(e);mm.markUpdateMethod(e,"updateView");t(r);this._scheduler.performVisualTasks(r,e,{setDirty:true});ww(this,r,this._api,e,{});kx.trigger("afterupdate",r,this._api)},updateVisual:function(e){var r=this;var i=this._model;if(!i){return}i.setUpdatePayload(e);i.eachSeries((function(t){t.getData().clearAllVisual()}));mm.markUpdateMethod(e,"updateVisual");t(i);this._scheduler.performVisualTasks(i,e,{visualType:"visual",setDirty:true});i.eachComponent((function(t,a){if(t!=="series"){var n=r.getViewOfComponentModel(a);n&&n.__alive&&n.updateVisual(a,i,r._api,e)}}));i.eachSeries((function(t){var a=r._chartsMap[t.__viewId];a.updateVisual(t,i,r._api,e)}));kx.trigger("afterupdate",i,this._api)},updateLayout:function(t){vw.update.call(this,t)}};dw=function(t,e,r,i){if(t._disposed){return}var a=t._model;var n=t._coordSysMgr.getCoordinateSystems();var o;var s=Go(a,r);for(var l=0;l<n.length;l++){var u=n[l];if(u[e]&&(o=u[e](a,s,i))!=null){return o}}};pw=function(t,e){var r=t._chartsMap;var i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,r[t.__viewId])}))};gw=function(t,e){var r=this;var i=this.getModel();var a=t.type;var n=t.escapeConnect;var o=Lw[a];var s=o.actionInfo;var l=(s.update||"update").split(":");var u=l.pop();var f=l[0]!=null&&ts(l[0]);this[$x]=true;var h=[t];var c=false;if(t.batch){c=true;h=Z(t.batch,(function(e){e=G(F({},e),t);e.batch=null;return e}))}var v=[];var d;var p=Ff(t);var g=Gf(t);if(g){_f(this._api)}X(h,(function(e){d=o.action(e,r._model,r._api);d=d||F({},e);d.type=s.event||d.type;v.push(d);if(g){var i=Wo(t),a=i.queryOptionMap,n=i.mainTypeSpecified;var l=n?a.keys()[0]:"series";cw(r,u,e,l);Tw(r)}else if(p){cw(r,u,e,"series");Tw(r)}else if(f){cw(r,u,e,f.main,f.sub)}}));if(u!=="none"&&!g&&!p&&!f){try{if(this[Jx]){fw(this);vw.update.call(this,t);this[Jx]=null}else{vw[u].call(this,t)}}catch(Th){this[$x]=false;throw Th}}if(c){d={type:s.event||a,escapeConnect:n,batch:v}}else{d=v[0]}this[$x]=false;if(!e){var y=this._messageCenter;y.trigger(d.type,d);if(p){var m={type:"selectchanged",escapeConnect:n,selected:Cf(i),isFromClick:t.isFromClick||false,fromAction:t.type,fromActionPayload:t};y.trigger(m.type,m)}}};yw=function(t){var e=this._pendingActions;while(e.length){var r=e.shift();gw.call(this,r,t)}};mw=function(t){!t&&this.trigger("updated")};_w=function(t,e){t.on("rendered",(function(r){e.trigger("rendered",r);if(t.animation.isFinished()&&!e[Jx]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}}))};xw=function(t,e){t.on("mouseover",(function(t){var r=t.target;var i=x_(r,zf);if(i){Mf(i,t,e._api);Tw(e)}})).on("mouseout",(function(t){var r=t.target;var i=x_(r,zf);if(i){If(i,t,e._api);Tw(e)}})).on("click",(function(t){var r=t.target;var i=x_(r,(function(t){return Tu(t).dataIndex!=null}),true);if(i){var a=i.selected?"unselect":"select";var n=Tu(i);e._api.dispatchAction({type:a,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:true})}}))};function t(t){t.clearColorPalette();t.eachSeries((function(t){t.clearColorPalette()}))}function e(t){var e=[];var r=[];var i=false;t.eachComponent((function(t,a){var n=a.get("zlevel")||0;var o=a.get("z")||0;var s=a.getZLevelKey();i=i||!!s;(t==="series"?r:e).push({zlevel:n,z:o,idx:a.componentIndex,type:t,key:s})}));if(i){var a=e.concat(r);var n;var o;_r(a,(function(t,e){if(t.zlevel===e.zlevel){return t.z-e.z}return t.zlevel-e.zlevel}));X(a,(function(e){var r=t.getComponent(e.type,e.idx);var i=e.zlevel;var a=e.key;if(n!=null){i=Math.max(n,i)}if(a){if(i===n&&a!==o){i++}o=a}else if(o){if(i===n){i++}o=""}n=i;r.setZLevel(i)}))}}ww=function(t,r,i,a,n){e(r);bw(t,r,i,a,n);X(t._chartsViews,(function(t){t.__alive=false}));Sw(t,r,i,a,n);X(t._chartsViews,(function(t){if(!t.__alive){t.remove(r,i)}}))};bw=function(t,e,r,i,a,o){X(o||t._componentsViews,(function(t){var a=t.__model;s(a,t);t.render(a,e,r,i);n(a,t);l(a,t)}))};Sw=function(t,e,r,o,u,f){var h=t._scheduler;u=F(u||{},{updatedSeries:e.getSeries()});kx.trigger("series:beforeupdate",e,r,u);var c=false;e.eachSeries((function(e){var r=t._chartsMap[e.__viewId];r.__alive=true;var i=r.renderTask;h.updatePayload(i,o);s(e,r);if(f&&f.get(e.uid)){i.dirty()}if(i.perform(h.getPerformArgs(i))){c=true}r.group.silent=!!e.get("silent");a(e,r);Df(e)}));h.unfinished=c||h.unfinished;kx.trigger("series:layoutlabels",e,r,u);kx.trigger("series:transition",e,r,u);e.eachSeries((function(e){var r=t._chartsMap[e.__viewId];n(e,r);l(e,r)}));i(t,e);kx.trigger("series:afterupdate",e,r,u)};Tw=function(t){t[Qx]=true;t.getZr().wakeUp()};Dw=function(t){if(!t[Qx]){return}t.getZr().storage.traverse((function(t){if(cc(t)){return}r(t)}));t[Qx]=false};function r(t){var e=[];var r=t.currentStates;for(var i=0;i<r.length;i++){var a=r[i];if(!(a==="emphasis"||a==="blur"||a==="select")){e.push(a)}}if(t.selected&&t.states.select){e.push("select")}if(t.hoverState===Nu&&t.states.emphasis){e.push("emphasis")}else if(t.hoverState===Ou&&t.states.blur){e.push("blur")}t.useStates(e)}function i(t,e){var r=t._zr;var i=r.storage;var a=0;i.traverse((function(t){if(!t.isGroup){a++}}));if(a>e.get("hoverLayerThreshold")&&!c.node&&!c.worker){e.eachSeries((function(e){if(e.preventUsingHoverLayer){return}var r=t._chartsMap[e.__viewId];if(r.__alive){r.eachRendered((function(t){if(t.states.emphasis){t.states.emphasis.hoverLayer=true}}))}}))}}function a(t,e){var r=t.get("blendMode")||null;e.eachRendered((function(t){if(!t.isGroup){t.style.blend=r}}))}function n(t,e){if(t.preventAutoZ){return}var r=t.get("z")||0;var i=t.get("zlevel")||0;e.eachRendered((function(t){o(t,r,i,-Infinity);return true}))}function o(t,e,r,i){var a=t.getTextContent();var n=t.getTextGuideLine();var s=t.isGroup;if(s){var l=t.childrenRef();for(var u=0;u<l.length;u++){i=Math.max(o(l[u],e,r,i),i)}}else{t.z=e;t.zlevel=r;i=Math.max(t.z2,i)}if(a){a.z=e;a.zlevel=r;isFinite(i)&&(a.z2=i+2)}if(n){var f=t.textGuideLineConfig;n.z=e;n.zlevel=r;isFinite(i)&&(n.z2=i+(f&&f.showAbove?1:-1))}return i}function s(t,e){e.eachRendered((function(t){if(cc(t)){return}var e=t.getTextContent();var r=t.getTextGuideLine();if(t.stateTransition){t.stateTransition=null}if(e&&e.stateTransition){e.stateTransition=null}if(r&&r.stateTransition){r.stateTransition=null}if(t.hasState()){t.prevStates=t.currentStates;t.clearStates()}else if(t.prevStates){t.prevStates=null}}))}function l(t,e){var i=t.getModel("stateAnimation");var a=t.isAnimationEnabled();var n=i.get("duration");var o=n>0?{duration:n,delay:i.get("delay"),easing:i.get("easing")}:null;e.eachRendered((function(t){if(t.states&&t.states.emphasis){if(cc(t)){return}if(t instanceof jl){Wf(t)}if(t.__dirty){var e=t.prevStates;if(e){t.useStates(e)}}if(a){t.stateTransition=o;var i=t.getTextContent();var n=t.getTextGuideLine();if(i){i.stateTransition=o}if(n){n.stateTransition=o}}if(t.__dirty){r(t)}}}))}Mw=function(t){return new(function(e){u(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()};r.prototype.getComponentByElement=function(e){while(e){var r=e.__ecComponentInfo;if(r!=null){return t._model.getComponent(r.mainType,r.index)}e=e.parent}};r.prototype.enterEmphasis=function(e,r){cf(e,r);Tw(t)};r.prototype.leaveEmphasis=function(e,r){vf(e,r);Tw(t)};r.prototype.enterBlur=function(e){df(e);Tw(t)};r.prototype.leaveBlur=function(e){pf(e);Tw(t)};r.prototype.enterSelect=function(e){gf(e);Tw(t)};r.prototype.leaveSelect=function(e){yf(e);Tw(t)};r.prototype.getModel=function(){return t.getModel()};r.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)};r.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)};return r}(Vp))(t)};Iw=function(t){function e(t,e){for(var r=0;r<t.length;r++){var i=t[r];i[ew]=e}}X(Pw,(function(r,i){t._messageCenter.on(i,(function(r){if(Bw[t.group]&&t[ew]!==rw){if(r&&r.escapeConnect){return}var i=t.makeActionFromEvent(r);var a=[];X(Vw,(function(e){if(e!==t&&e.group===t.group){a.push(e)}}));e(a,rw);X(a,(function(t){if(t[ew]!==iw){t.dispatchAction(i)}}));e(a,aw)}}))}))}}();return e}(ae);var Aw=Cw.prototype;Aw.on=nw("on");Aw.off=nw("off");Aw.one=function(t,e,r){var i=this;function a(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}e&&e.apply&&e.apply(this,r);i.off(t,a)}this.on.call(this,t,a,r)};var kw=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Lw={};var Pw={};var Ow=[];var Nw=[];var Rw=[];var Ew={};var zw={};var Vw={};var Bw={};var Fw=+new Date-0;var Gw="_echarts_instance_";function Ww(t,e,r){var i=!(r&&r.ssr);if(i){var a=Hw(t);if(a){return a}}var n=new Cw(t,e,r);n.id="ec_"+Fw++;Vw[n.id]=n;i&&Xo(t,Gw,n.id);Iw(n);kx.trigger("afterinit",n);return n}function Hw(t){return Vw[Zo(t,Gw)]}function Yw(t,e){Ew[t]=e}function Uw(t){if(W(Nw,t)<0){Nw.push(t)}}function Xw(t,e){eb(Ow,t,e,Vx)}function Zw(t){qw("afterinit",t)}function jw(t){qw("afterupdate",t)}function qw(t,e){kx.on(t,e)}function Kw(t,e,r){if(rt(e)){r=e;e=""}var i=ot(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase();e=t.event;if(Pw[e]){return}_t(tw.test(i)&&tw.test(e));if(!Lw[i]){Lw[i]={action:r,actionInfo:t}}Pw[e]=i}function $w(t,e){Fp.register(t,e)}function Jw(t,e){eb(Rw,t,e,Fx,"layout")}function Qw(t,e){eb(Rw,t,e,Hx,"visual")}var tb=[];function eb(t,e,r,i,a){if(rt(e)||ot(e)){r=e;e=i}if(W(tb,r)>=0){return}tb.push(r);var n=Gm.wrapStageHandler(r,a);n.__prio=e;n.__raw=r;t.push(n)}function rb(t,e){zw[t]=e}function ib(t,e,r){var i=Ox("registerMap");i&&i(t,e,r)}var ab=dy;Qw(Wx,Rm);Qw(Ux,zm);Qw(Ux,Vm);Qw(Wx,c_);Qw(Ux,v_);Qw(qx,Ax);Uw(gg);Xw(Ex,yg);rb("default",Fm);Kw({type:Bu,event:Bu,update:Bu},Ot);Kw({type:Fu,event:Fu,update:Fu},Ot);Kw({type:Gu,event:Gu,update:Gu},Ot);Kw({type:Wu,event:Wu,update:Wu},Ot);Kw({type:Hu,event:Hu,update:Hu},Ot);Yw("light",i_);Yw("dark",l_);var nb=[];var ob={registerPreprocessor:Uw,registerProcessor:Xw,registerPostInit:Zw,registerPostUpdate:jw,registerUpdateLifecycle:qw,registerAction:Kw,registerCoordinateSystem:$w,registerLayout:Jw,registerVisual:Qw,registerTransform:ab,registerLoading:rb,registerMap:ib,registerImpl:Px,PRIORITY:Kx,ComponentModel:Zd,ComponentView:dm,SeriesModel:nm,ChartView:mm,registerComponentModel:function(t){Zd.registerClass(t)},registerComponentView:function(t){dm.registerClass(t)},registerSeriesModel:function(t){nm.registerClass(t)},registerChartView:function(t){mm.registerClass(t)},registerSubTypeDefaulter:function(t,e){Zd.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){On(t,e)}};function sb(t){if(et(t)){X(t,(function(t){sb(t)}));return}if(W(nb,t)>=0){return}nb.push(t);if(rt(t)){t={install:t}}t.install(ob)}function lb(t){return t==null?0:t.length||1}function ub(t){return t}var fb=function(){function t(t,e,r,i,a,n){this._old=t;this._new=e;this._oldKeyGetter=r||ub;this._newKeyGetter=i||ub;this.context=a;this._diffModeMultiple=n==="multiple"}t.prototype.add=function(t){this._add=t;return this};t.prototype.update=function(t){this._update=t;return this};t.prototype.updateManyToOne=function(t){this._updateManyToOne=t;return this};t.prototype.updateOneToMany=function(t){this._updateOneToMany=t;return this};t.prototype.updateManyToMany=function(t){this._updateManyToMany=t;return this};t.prototype.remove=function(t){this._remove=t;return this};t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};t.prototype._executeOneToOne=function(){var t=this._old;var e=this._new;var r={};var i=new Array(t.length);var a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter");this._initIndexMap(e,r,a,"_newKeyGetter");for(var n=0;n<t.length;n++){var o=i[n];var s=r[o];var l=lb(s);if(l>1){var u=s.shift();if(s.length===1){r[o]=s[0]}this._update&&this._update(u,n)}else if(l===1){r[o]=null;this._update&&this._update(s,n)}else{this._remove&&this._remove(n)}}this._performRestAdd(a,r)};t.prototype._executeMultiple=function(){var t=this._old;var e=this._new;var r={};var i={};var a=[];var n=[];this._initIndexMap(t,r,a,"_oldKeyGetter");this._initIndexMap(e,i,n,"_newKeyGetter");for(var o=0;o<a.length;o++){var s=a[o];var l=r[s];var u=i[s];var f=lb(l);var h=lb(u);if(f>1&&h===1){this._updateManyToOne&&this._updateManyToOne(u,l);i[s]=null}else if(f===1&&h>1){this._updateOneToMany&&this._updateOneToMany(u,l);i[s]=null}else if(f===1&&h===1){this._update&&this._update(u,l);i[s]=null}else if(f>1&&h>1){this._updateManyToMany&&this._updateManyToMany(u,l);i[s]=null}else if(f>1){for(var c=0;c<f;c++){this._remove&&this._remove(l[c])}}else{this._remove&&this._remove(l)}}this._performRestAdd(n,i)};t.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];var a=e[i];var n=lb(a);if(n>1){for(var o=0;o<n;o++){this._add&&this._add(a[o])}}else if(n===1){this._add&&this._add(a)}e[i]=null}};t.prototype._initIndexMap=function(t,e,r,i){var a=this._diffModeMultiple;for(var n=0;n<t.length;n++){var o="_ec_"+this[i](t[n],n);if(!a){r[n]=o}if(!e){continue}var s=e[o];var l=lb(s);if(l===0){e[o]=n;if(a){r.push(o)}}else if(l===1){e[o]=[s,n]}else{s.push(n)}}};return t}();var hb=function(){function t(t,e){this._encode=t;this._schema=e}t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}};t.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames){this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]}return this._cachedDimNames};return t}();function cb(t,e){var r={};var i=r.encode={};var a=Ct();var n=[];var o=[];var s={};X(t.dimensions,(function(e){var r=t.getDimensionInfo(e);var l=r.coordDim;if(l){var u=r.coordDimIndex;vb(i,l)[u]=e;if(!r.isExtraCoord){a.set(l,1);if(pb(r.type)){n[0]=e}vb(s,l)[u]=t.getDimensionIndex(r.name)}if(r.defaultTooltip){o.push(e)}}Jd.each((function(t,e){var a=vb(i,e);var n=r.otherDims[e];if(n!=null&&n!==false){a[n]=r.name}}))}));var l=[];var u={};a.each((function(t,e){var r=i[e];u[e]=r[0];l=l.concat(r)}));r.dataDimsOnCoord=l;r.dataDimIndicesOnCoord=Z(l,(function(e){return t.getDimensionInfo(e).storeDimIndex}));r.encodeFirstDimNotExtra=u;var f=i.label;if(f&&f.length){n=f.slice()}var h=i.tooltip;if(h&&h.length){o=h.slice()}else if(!o.length){o=n.slice()}i.defaultedLabel=n;i.defaultedTooltip=o;r.userOutput=new hb(s,e);return r}function vb(t,e){if(!t.hasOwnProperty(e)){t[e]=[]}return t[e]}function db(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function pb(t){return!(t==="ordinal"||t==="time")}var gb=function(){function t(t){this.otherDims={};if(t!=null){F(this,t)}}return t}();var yb=Bo();var mb={float:"f",int:"i",ordinal:"o",number:"n",time:"t"};var _b=function(){function t(t){this.dimensions=t.dimensions;this._dimOmitted=t.dimensionOmitted;this.source=t.source;this._fullDimCount=t.fullDimensionCount;this._updateDimOmitted(t.dimensionOmitted)}t.prototype.isDimensionOmitted=function(){return this._dimOmitted};t.prototype._updateDimOmitted=function(t){this._dimOmitted=t;if(!t){return}if(!this._dimNameMap){this._dimNameMap=bb(this.source)}};t.prototype.getSourceDimensionIndex=function(t){return pt(this._dimNameMap.get(t),-1)};t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e){return e[t]}};t.prototype.makeStoreSchema=function(){var t=this._fullDimCount;var e=Ag(this.source);var r=!Sb(t);var i="";var a=[];for(var n=0,o=0;n<t;n++){var s=void 0;var l=void 0;var u=void 0;var f=this.dimensions[o];if(f&&f.storeDimIndex===n){s=e?f.name:null;l=f.type;u=f.ordinalMeta;o++}else{var h=this.getSourceDimension(n);if(h){s=e?h.name:null;l=h.type}}a.push({property:s,type:l,ordinalMeta:u});if(e&&s!=null&&(!f||!f.isCalculationCoord)){i+=r?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s}i+="$";i+=mb[l]||"f";if(u){i+=u.uid}i+="$"}var c=this.source;var v=[c.seriesLayoutBy,c.startIndex,i].join("$$");return{dimensions:a,hash:v}};t.prototype.makeOutputDimensionNames=function(){var t=[];for(var e=0,r=0;e<this._fullDimCount;e++){var i=void 0;var a=this.dimensions[r];if(a&&a.storeDimIndex===e){if(!a.isCalculationCoord){i=a.name}r++}else{var n=this.getSourceDimension(e);if(n){i=n.name}}t.push(i)}return t};t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t);t.isCalculationCoord=true;this._fullDimCount++;this._updateDimOmitted(true)};return t}();function xb(t){return t instanceof _b}function wb(t){var e=Ct();for(var r=0;r<(t||[]).length;r++){var i=t[r];var a=ot(i)?i.name:i;if(a!=null&&e.get(a)==null){e.set(a,r)}}return e}function bb(t){var e=yb(t);return e.dimNameMap||(e.dimNameMap=wb(t.dimensionsDefine))}function Sb(t){return t>30}var Mb=ot;var Ib=Z;var Tb=typeof Int32Array==="undefined"?Array:Int32Array;var Db="e\0\0";var Cb=-1;var Ab=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var kb=["_approximateExtent"];var Lb;var Pb;var Ob;var Nb;var Rb;var Eb;var zb;var Vb=function(){function t(t,e){this.type="list";this._dimOmitted=false;this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._approximateExtent={};this._calculationInfo={};this.hasItemOption=false;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r;var i=false;if(xb(t)){r=t.dimensions;this._dimOmitted=t.isDimensionOmitted();this._schema=t}else{i=true;r=t}r=r||["x","y"];var a={};var n=[];var o={};var s=false;var l={};for(var u=0;u<r.length;u++){var f=r[u];var h=it(f)?new gb({name:f}):!(f instanceof gb)?new gb(f):f;var c=h.name;h.type=h.type||"float";if(!h.coordDim){h.coordDim=c;h.coordDimIndex=0}var v=h.otherDims=h.otherDims||{};n.push(c);a[c]=h;if(l[c]!=null){s=true}if(h.createInvertedIndices){o[c]=[]}if(v.itemName===0){this._nameDimIdx=u}if(v.itemId===0){this._idDimIdx=u}if(i){h.storeDimIndex=u}}this.dimensions=n;this._dimInfos=a;this._initGetDimensionInfo(s);this.hostModel=e;this._invertedIndicesMap=o;if(this._dimOmitted){var d=this._dimIdxToName=Ct();X(n,(function(t){d.set(a[t].storeDimIndex,t)}))}}t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null){return t}e=t;if(!this._dimOmitted){return this.dimensions[e]}var r=this._dimIdxToName.get(e);if(r!=null){return r}var i=this._schema.getSourceDimension(e);if(i){return i.name}};t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null){return e}if(t==null){return-1}var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1};t.prototype._recognizeDimIndex=function(t){if(nt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0)){return+t}};t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e};t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))};t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:undefined}:function(t){return e[t]}};t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()};t.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(e==null){return r.encodeFirstDimNotExtra[t]}var i=r.encode[t];return i?i[e]:null};t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary;var r=e.encode[t];return(r||[]).slice()};t.prototype.getStore=function(){return this._store};t.prototype.initData=function(t,e,r){var i=this;var a;if(t instanceof Ay){a=t}if(!a){var n=this.dimensions;var o=xg(t)||U(t)?new Rg(t,n.length):t;a=new Ay;var s=Ib(n,(function(t){return{type:i._dimInfos[t].type,property:t}}));a.initData(o,s,r)}this._store=a;this._nameList=(e||[]).slice();this._idList=[];this._nameRepeatCount={};this._doInit(0,a.count());this._dimSummary=cb(this,this._schema);this.userOutput=this._dimSummary.userOutput};t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])};t.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),i=r.start,a=r.end;var n=this._shouldMakeIdFromName();this._updateOrdinalMeta();if(e){for(var o=i;o<a;o++){var s=o-i;this._nameList[o]=e[s];if(n){zb(this,o)}}}};t.prototype._updateOrdinalMeta=function(){var t=this._store;var e=this.dimensions;for(var r=0;r<e.length;r++){var i=this._dimInfos[e[r]];if(i.ordinalMeta){t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}}};t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==ip&&!t.fillStorage};t.prototype._doInit=function(t,e){if(t>=e){return}var r=this._store;var i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList;var n=this._idList;var o=i.getSource().sourceFormat;var s=o===Qd;if(s&&!i.pure){var l=[];for(var u=t;u<e;u++){var f=i.getItem(u,l);if(!this.hasItemOption&&wo(f)){this.hasItemOption=true}if(f){var h=f.name;if(a[u]==null&&h!=null){a[u]=Lo(h,null)}var c=f.id;if(n[u]==null&&c!=null){n[u]=Lo(c,null)}}}}if(this._shouldMakeIdFromName()){for(var u=t;u<e;u++){zb(this,u)}}Lb(this)};t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e);this._approximateExtent[e]=t.slice()};t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]};t.prototype.setCalculationInfo=function(t,e){Mb(t)?F(this._calculationInfo,t):this._calculationInfo[t]=e};t.prototype.getName=function(t){var e=this.getRawIndex(t);var r=this._nameList[e];if(r==null&&this._nameDimIdx!=null){r=Ob(this,this._nameDimIdx,e)}if(r==null){r=""}return r};t.prototype._getCategory=function(t,e){var r=this._store.get(t,e);var i=this._store.getOrdinalMeta(t);if(i){return i.categories[r]}return r};t.prototype.getId=function(t){return Pb(this,this.getRawIndex(t))};t.prototype.count=function(){return this._store.count()};t.prototype.get=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.get(i.storeDimIndex,e)}};t.prototype.getByRawIndex=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.getByRawIndex(i.storeDimIndex,e)}};t.prototype.getIndices=function(){return this._store.getIndices()};t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))};t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))};t.prototype.getValues=function(t,e){var r=this;var i=this._store;return et(t)?i.getValues(Ib(t,(function(t){return r._getStoreDimIndex(t)})),e):i.getValues(t)};t.prototype.hasValue=function(t){var e=this._dimSummary.dataDimIndicesOnCoord;for(var r=0,i=e.length;r<i;r++){if(isNaN(this._store.get(e[r],t))){return false}}return true};t.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++){if(this.getName(e)===t){return e}}return-1};t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)};t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)};t.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t];var i=r[e];if(i==null||isNaN(i)){return Cb}return i};t.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)};t.prototype.each=function(t,e,r){if(rt(t)){r=e;e=t;t=[]}var i=r||this;var a=Ib(Nb(t),this._getStoreDimIndex,this);this._store.each(a,i?Q(e,i):e)};t.prototype.filterSelf=function(t,e,r){if(rt(t)){r=e;e=t;t=[]}var i=r||this;var a=Ib(Nb(t),this._getStoreDimIndex,this);this._store=this._store.filter(a,i?Q(e,i):e);return this};t.prototype.selectRange=function(t){var e=this;var r={};var i=$(t);X(i,(function(i){var a=e._getStoreDimIndex(i);r[a]=t[i]}));this._store=this._store.selectRange(r);return this};t.prototype.mapArray=function(t,e,r){if(rt(t)){r=e;e=t;t=[]}r=r||this;var i=[];this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),r);return i};t.prototype.map=function(t,e,r,i){var a=r||i||this;var n=Ib(Nb(t),this._getStoreDimIndex,this);var o=Eb(this);o._store=this._store.map(n,a?Q(e,a):e);return o};t.prototype.modify=function(t,e,r,i){var a=r||i||this;var n=Ib(Nb(t),this._getStoreDimIndex,this);this._store.modify(n,a?Q(e,a):e)};t.prototype.downSample=function(t,e,r,i){var a=Eb(this);a._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i);return a};t.prototype.lttbDownSample=function(t,e){var r=Eb(this);r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e);return r};t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)};t.prototype.getItemModel=function(t){var e=this.hostModel;var r=this.getRawDataItem(t);return new Mv(r,e,e&&e.ecModel)};t.prototype.diff=function(t){var e=this;return new fb(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return Pb(t,e)}),(function(t){return Pb(e,t)}))};t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]};t.prototype.setVisual=function(t,e){this._visual=this._visual||{};if(Mb(t)){F(this._visual,t)}else{this._visual[t]=e}};t.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t];var i=r&&r[e];if(i==null){return this.getVisual(e)}return i};t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};t.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals;var i=r[t];if(!i){i=r[t]={}}var a=i[e];if(a==null){a=this.getVisual(e);if(et(a)){a=a.slice()}else if(Mb(a)){a=F({},a)}i[e]=a}return a};t.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i;if(Mb(e)){F(i,e)}else{i[e]=r}};t.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};t.prototype.setLayout=function(t,e){Mb(t)?F(this._layout,t):this._layout[t]=e};t.prototype.getLayout=function(t){return this._layout[t]};t.prototype.getItemLayout=function(t){return this._itemLayouts[t]};t.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?F(this._itemLayouts[t]||{},e):e};t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};t.prototype.setItemGraphicEl=function(t,e){var r=this.hostModel&&this.hostModel.seriesIndex;Du(r,this.dataType,t,e);this._graphicEls[t]=e};t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]};t.prototype.eachItemGraphicEl=function(t,e){X(this._graphicEls,(function(r,i){if(r){t&&t.call(e,r,i)}}))};t.prototype.cloneShallow=function(e){if(!e){e=new t(this._schema?this._schema:Ib(this.dimensions,this._getDimInfo,this),this.hostModel)}Rb(e,this);e._store=this._store;return e};t.prototype.wrapMethod=function(t,e){var r=this[t];if(!rt(r)){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(t);this[t]=function(){var t=r.apply(this,arguments);return e.apply(this,[t].concat(yt(arguments)))}};t.internalField=function(){Lb=function(t){var e=t._invertedIndicesMap;X(e,(function(r,i){var a=t._dimInfos[i];var n=a.ordinalMeta;var o=t._store;if(n){r=e[i]=new Tb(n.categories.length);for(var s=0;s<r.length;s++){r[s]=Cb}for(var s=0;s<o.count();s++){r[o.get(a.storeDimIndex,s)]=s}}}))};Ob=function(t,e,r){return Lo(t._getCategory(e,r),null)};Pb=function(t,e){var r=t._idList[e];if(r==null&&t._idDimIdx!=null){r=Ob(t,t._idDimIdx,e)}if(r==null){r=Db+e}return r};Nb=function(t){if(!et(t)){t=t!=null?[t]:[]}return t};Eb=function(e){var r=new t(e._schema?e._schema:Ib(e.dimensions,e._getDimInfo,e),e.hostModel);Rb(r,e);return r};Rb=function(t,e){X(Ab.concat(e.__wrappedMethods||[]),(function(r){if(e.hasOwnProperty(r)){t[r]=e[r]}}));t.__wrappedMethods=e.__wrappedMethods;X(kb,(function(r){t[r]=z(e[r])}));t._calculationInfo=F({},e._calculationInfo)};zb=function(t,e){var r=t._nameList;var i=t._idList;var a=t._nameDimIdx;var n=t._idDimIdx;var o=r[e];var s=i[e];if(o==null&&a!=null){r[e]=o=Ob(t,a,e)}if(s==null&&n!=null){i[e]=s=Ob(t,n,e)}if(s==null&&o!=null){var l=t._nameRepeatCount;var u=l[o]=(l[o]||0)+1;s=o;if(u>1){s+="__ec__"+u}i[e]=s}}}();return t}();function Bb(t,e){if(!xg(t)){t=bg(t)}e=e||{};var r=e.coordDimensions||[];var i=e.dimensionsDefine||t.dimensionsDefine||[];var a=Ct();var n=[];var o=Gb(t,r,i,e.dimensionsCount);var s=e.canOmitUnusedDimensions&&Sb(o);var l=i===t.dimensionsDefine;var u=l?bb(t):wb(i);var f=e.encodeDefine;if(!f&&e.encodeDefaulter){f=e.encodeDefaulter(t,o)}var h=Ct(f);var c=new wy(o);for(var v=0;v<c.length;v++){c[v]=-1}function d(t){var e=c[t];if(e<0){var r=i[t];var a=ot(r)?r:{name:r};var o=new gb;var s=a.name;if(s!=null&&u.get(s)!=null){o.name=o.displayName=s}a.type!=null&&(o.type=a.type);a.displayName!=null&&(o.displayName=a.displayName);var l=n.length;c[t]=l;o.storeDimIndex=t;n.push(o);return o}return n[e]}if(!s){for(var v=0;v<o;v++){d(v)}}h.each((function(t,e){var r=yo(t).slice();if(r.length===1&&!it(r[0])&&r[0]<0){h.set(e,false);return}var i=h.set(e,[]);X(r,(function(t,r){var a=it(t)?u.get(t):t;if(a!=null&&a<o){i[r]=a;g(d(a),e,r)}}))}));var p=0;X(r,(function(t){var e;var r;var i;var a;if(it(t)){e=t;a={}}else{a=t;e=a.name;var n=a.ordinalMeta;a.ordinalMeta=null;a=F({},a);a.ordinalMeta=n;r=a.dimsDef;i=a.otherDims;a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var s=h.get(e);if(s===false){return}s=yo(s);if(!s.length){for(var u=0;u<(r&&r.length||1);u++){while(p<o&&d(p).coordDim!=null){p++}p<o&&s.push(p++)}}X(s,(function(t,n){var o=d(t);if(l&&a.type!=null){o.type=a.type}g(G(o,a),e,n);if(o.name==null&&r){var s=r[n];!ot(s)&&(s={name:s});o.name=o.displayName=s.name;o.defaultTooltip=s.defaultTooltip}i&&G(o.otherDims,i)}))}));function g(t,e,r){if(Jd.get(e)!=null){t.otherDims[e]=r}else{t.coordDim=e;t.coordDimIndex=r;a.set(e,true)}}var y=e.generateCoord;var m=e.generateCoordCount;var _=m!=null;m=y?m||1:0;var x=y||"value";function w(t){if(t.name==null){t.name=t.coordDim}}if(!s){for(var b=0;b<o;b++){var S=d(b);var M=S.coordDim;if(M==null){S.coordDim=Wb(x,a,_);S.coordDimIndex=0;if(!y||m<=0){S.isExtraCoord=true}m--}w(S);if(S.type==null&&(dp(t,b)===sp.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))){S.type="ordinal"}}}else{X(n,(function(t){w(t)}));n.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}))}Fb(n);return new _b({source:t,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function Fb(t){var e=Ct();for(var r=0;r<t.length;r++){var i=t[r];var a=i.name;var n=e.get(a)||0;if(n>0){i.name=a+(n-1)}n++;e.set(a,n)}}function Gb(t,e,r,i){var a=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,i||0);X(e,(function(t){var e;if(ot(t)&&(e=t.dimsDef)){a=Math.max(a,e.length)}}));return a}function Wb(t,e,r){if(r||e.hasKey(t)){var i=0;while(e.hasKey(t+i)){i++}t+=i}e.set(t,true);return t}var Hb=function(){function t(t){this.coordSysDims=[];this.axisMap=Ct();this.categoryAxisMap=Ct();this.coordSysName=t}return t}();function Yb(t){var e=t.get("coordinateSystem");var r=new Hb(e);var i=Ub[e];if(i){i(t,r,r.axisMap,r.categoryAxisMap);return r}}var Ub={cartesian2d:function(t,e,r,i){var a=t.getReferringComponents("xAxis",Ho).models[0];var n=t.getReferringComponents("yAxis",Ho).models[0];e.coordSysDims=["x","y"];r.set("x",a);r.set("y",n);if(Xb(a)){i.set("x",a);e.firstCategoryDimIndex=0}if(Xb(n)){i.set("y",n);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},singleAxis:function(t,e,r,i){var a=t.getReferringComponents("singleAxis",Ho).models[0];e.coordSysDims=["single"];r.set("single",a);if(Xb(a)){i.set("single",a);e.firstCategoryDimIndex=0}},polar:function(t,e,r,i){var a=t.getReferringComponents("polar",Ho).models[0];var n=a.findAxisModel("radiusAxis");var o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"];r.set("radius",n);r.set("angle",o);if(Xb(n)){i.set("radius",n);e.firstCategoryDimIndex=0}if(Xb(o)){i.set("angle",o);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},geo:function(t,e,r,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,i){var a=t.ecModel;var n=a.getComponent("parallel",t.get("parallelIndex"));var o=e.coordSysDims=n.dimensions.slice();X(n.parallelAxisIndex,(function(t,n){var s=a.getComponent("parallelAxis",t);var l=o[n];r.set(l,s);if(Xb(s)){i.set(l,s);if(e.firstCategoryDimIndex==null){e.firstCategoryDimIndex=n}}}))}};function Xb(t){return t.get("type")==="category"}function Zb(t,e,r){r=r||{};var i=r.byIndex;var a=r.stackedCoordDimension;var n;var o;var s;if(jb(e)){n=e}else{o=e.schema;n=o.dimensions;s=e.store}var l=!!(t&&t.get("stack"));var u;var f;var h;var c;X(n,(function(t,e){if(it(t)){n[e]=t={name:t}}if(l&&!t.isExtraCoord){if(!i&&!u&&t.ordinalMeta){u=t}if(!f&&t.type!=="ordinal"&&t.type!=="time"&&(!a||a===t.coordDim)){f=t}}}));if(f&&!i&&!u){i=true}if(f){h="__\0ecstackresult_"+t.id;c="__\0ecstackedover_"+t.id;if(u){u.createInvertedIndices=true}var v=f.coordDim;var d=f.type;var p=0;X(n,(function(t){if(t.coordDim===v){p++}}));var g={name:h,coordDim:v,coordDimIndex:p,type:d,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length};var y={name:c,coordDim:c,coordDimIndex:p+1,type:d,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length+1};if(o){if(s){g.storeDimIndex=s.ensureCalculationDimension(c,d);y.storeDimIndex=s.ensureCalculationDimension(h,d)}o.appendCalculationDimension(g);o.appendCalculationDimension(y)}else{n.push(g);n.push(y)}}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:i,stackedOverDimension:c,stackResultDimension:h}}function jb(t){return!xb(t.schema)}function qb(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Kb(t,e){return qb(t,e)?t.getCalculationInfo("stackResultDimension"):e}function $b(t,e){var r=t.get("coordinateSystem");var i=Fp.get(r);var a;if(e&&e.coordSysDims){a=Z(e.coordSysDims,(function(t){var r={name:t};var i=e.axisMap.get(t);if(i){var a=i.get("type");r.type=db(a)}return r}))}if(!a){a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]}return a}function Jb(t,e,r){var i;var a;r&&X(t,(function(t,n){var o=t.coordDim;var s=r.categoryAxisMap.get(o);if(s){if(i==null){i=n}t.ordinalMeta=s.getOrdinalMeta();if(e){t.createInvertedIndices=true}}if(t.otherDims.itemName!=null){a=true}}));if(!a&&i!=null){t[i].otherDims.itemName=0}return i}function Qb(t,e,r){r=r||{};var i=e.getSourceManager();var a;var n=false;if(t){n=true;a=bg(t)}else{a=i.getSource();n=a.sourceFormat===Qd}var o=Yb(e);var s=$b(e,o);var l=r.useEncodeDefaulter;var u=rt(l)?l:l?tt(fp,s,e):null;var f={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n};var h=Bb(a,f);var c=Jb(h.dimensions,r.createInvertedIndices,o);var v=!n?i.getSharedDataStore(h):null;var d=Zb(e,{schema:h,store:v});var p=new Vb(h,e);p.setCalculationInfo(d);var g=c!=null&&tS(a)?function(t,e,r,i){return i===c?r:this.defaultDimValueGetter(t,e,r,i)}:null;p.hasItemOption=false;p.initData(n?a:v,null,g);return p}function tS(t){if(t.sourceFormat===Qd){var e=eS(t.data||[]);return!et(xo(e))}}function eS(t){var e=0;while(e<t.length&&t[e]==null){e++}return t[e]}var rS=function(){function t(t){this._setting=t||{};this._extent=[Infinity,-Infinity]}t.prototype.getSetting=function(t){return this._setting[t]};t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1])};t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=t}if(!isNaN(e)){r[1]=e}};t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t};t.prototype.isBlank=function(){return this._isBlank};t.prototype.setBlank=function(t){this._isBlank=t};return t}();fs(rS);var iS=0;var aS=function(){function t(t){this.categories=t.categories||[];this._needCollect=t.needCollect;this._deduplication=t.deduplication;this.uid=++iS}t.createByAxisModel=function(e){var r=e.option;var i=r.data;var a=i&&Z(i,nS);return new t({categories:a,needCollect:!a,deduplication:r.dedplication!==false})};t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)};t.prototype.parseAndCollect=function(t){var e;var r=this._needCollect;if(!it(t)&&!r){return t}if(r&&!this._deduplication){e=this.categories.length;this.categories[e]=t;return e}var i=this._getOrCreateMap();e=i.get(t);if(e==null){if(r){e=this.categories.length;this.categories[e]=t;i.set(t,e)}else{e=NaN}}return e};t.prototype._getOrCreateMap=function(){return this._map||(this._map=Ct(this.categories))};return t}();function nS(t){if(ot(t)&&t.value!=null){return t.value}else{return t+""}}function oS(t){return t.type==="interval"||t.type==="log"}function sS(t,e,r,i){var a={};var n=t[1]-t[0];var o=a.interval=Qn(n/e,true);if(r!=null&&o<r){o=a.interval=r}if(i!=null&&o>i){o=a.interval=i}var s=a.intervalPrecision=uS(o);var l=a.niceTickExtent=[Bn(Math.ceil(t[0]/o)*o,s),Bn(Math.floor(t[1]/o)*o,s)];hS(l,t);return a}function lS(t){var e=Math.pow(10,Jn(t));var r=t/e;if(!r){r=1}else if(r===2){r=3}else if(r===3){r=5}else{r*=2}return Bn(r*e)}function uS(t){return Gn(t)+2}function fS(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function hS(t,e){!isFinite(t[0])&&(t[0]=e[0]);!isFinite(t[1])&&(t[1]=e[1]);fS(t,0,e);fS(t,1,e);if(t[0]>t[1]){t[0]=t[1]}}function cS(t,e){return t>=e[0]&&t<=e[1]}function vS(t,e){if(e[1]===e[0]){return.5}return(t-e[0])/(e[1]-e[0])}function dS(t,e){return t*(e[1]-e[0])+e[0]}var pS=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");if(!i){i=new aS({})}if(et(i)){i=new aS({categories:Z(i,(function(t){return ot(t)?t.value:t}))})}r._ordinalMeta=i;r._extent=r.getSetting("extent")||[0,i.categories.length-1];return r}e.prototype.parse=function(t){if(t==null){return NaN}return it(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)};e.prototype.contain=function(t){t=this.parse(t);return cS(t,this._extent)&&this._ordinalMeta.categories[t]!=null};e.prototype.normalize=function(t){t=this._getTickNumber(this.parse(t));return vS(t,this._extent)};e.prototype.scale=function(t){t=Math.round(dS(t,this._extent));return this.getRawOrdinalNumber(t)};e.prototype.getTicks=function(){var t=[];var e=this._extent;var r=e[0];while(r<=e[1]){t.push({value:r});r++}return t};e.prototype.getMinorTicks=function(t){return};e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var e=t.ordinalNumbers;var r=this._ordinalNumbersByTick=[];var i=this._ticksByOrdinalNumber=[];var a=0;var n=this._ordinalMeta.categories.length;for(var o=Math.min(n,e.length);a<o;++a){var s=e[a];r[a]=s;i[s]=a}var l=0;for(;a<n;++a){while(i[l]!=null){l++}r.push(l);i[l]=a}};e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value);var r=this._ordinalMeta.categories[e];return r==null?"":r+""}};e.prototype.count=function(){return this._extent[1]-this._extent[0]+1};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.isInExtentRange=function(t){t=this._getTickNumber(t);return this._extent[0]<=t&&this._extent[1]>=t};e.prototype.getOrdinalMeta=function(){return this._ordinalMeta};e.prototype.calcNiceTicks=function(){};e.prototype.calcNiceExtent=function(){};e.type="ordinal";return e}(rS);rS.registerClass(pS);var gS=Bn;var yS=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="interval";e._interval=0;e._intervalPrecision=2;return e}e.prototype.parse=function(t){return t};e.prototype.contain=function(t){return cS(t,this._extent)};e.prototype.normalize=function(t){return vS(t,this._extent)};e.prototype.scale=function(t){return dS(t,this._extent)};e.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=parseFloat(t)}if(!isNaN(e)){r[1]=parseFloat(e)}};e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1]);this.setExtent(e[0],e[1])};e.prototype.getInterval=function(){return this._interval};e.prototype.setInterval=function(t){this._interval=t;this._niceExtent=this._extent.slice();this._intervalPrecision=uS(t)};e.prototype.getTicks=function(t){var e=this._interval;var r=this._extent;var i=this._niceExtent;var a=this._intervalPrecision;var n=[];if(!e){return n}var o=1e4;if(r[0]<i[0]){if(t){n.push({value:gS(i[0]-e,a)})}else{n.push({value:r[0]})}}var s=i[0];while(s<=i[1]){n.push({value:s});s=gS(s+e,a);if(s===n[n.length-1].value){break}if(n.length>o){return[]}}var l=n.length?n[n.length-1].value:i[1];if(r[1]>l){if(t){n.push({value:gS(l+e,a)})}else{n.push({value:r[1]})}}return n};e.prototype.getMinorTicks=function(t){var e=this.getTicks(true);var r=[];var i=this.getExtent();for(var a=1;a<e.length;a++){var n=e[a];var o=e[a-1];var s=0;var l=[];var u=n.value-o.value;var f=u/t;while(s<t-1){var h=gS(o.value+(s+1)*f);if(h>i[0]&&h<i[1]){l.push(h)}s++}r.push(l)}return r};e.prototype.getLabel=function(t,e){if(t==null){return""}var r=e&&e.precision;if(r==null){r=Gn(t.value)||0}else if(r==="auto"){r=this._intervalPrecision}var i=gS(t.value,r,true);return xd(i)};e.prototype.calcNiceTicks=function(t,e,r){t=t||5;var i=this._extent;var a=i[1]-i[0];if(!isFinite(a)){return}if(a<0){a=-a;i.reverse()}var n=sS(i,t,e,r);this._intervalPrecision=n.intervalPrecision;this._interval=n.interval;this._niceExtent=n.niceTickExtent};e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]){if(e[0]!==0){var r=Math.abs(e[0]);if(!t.fixMax){e[1]+=r/2;e[0]-=r/2}else{e[0]-=r/2}}else{e[1]=1}}var i=e[1]-e[0];if(!isFinite(i)){e[0]=0;e[1]=1}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;if(!t.fixMin){e[0]=gS(Math.floor(e[0]/a)*a)}if(!t.fixMax){e[1]=gS(Math.ceil(e[1]/a)*a)}};e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]};e.type="interval";return e}(rS);rS.registerClass(yS);var mS=typeof Float32Array!=="undefined";var _S=!mS?Array:Float32Array;function xS(t){if(et(t)){return mS?new Float32Array(t):t}return new _S(t)}var wS="__ec_stack_";function bS(t){return t.get("stack")||wS+t.seriesIndex}function SS(t){return t.dim+t.index}function MS(t){var e=[];var r=t.axis;var i="axis0";if(r.type!=="category"){return}var a=r.getBandWidth();for(var n=0;n<t.count||0;n++){e.push(G({bandWidth:a,axisKey:i,stackId:wS+n},t))}var o=CS(e);var s=[];for(var n=0;n<t.count;n++){var l=o[i][wS+n];l.offsetCenter=l.offset+l.width/2;s.push(l)}return s}function IS(t,e){var r=[];e.eachSeriesByType(t,(function(t){if(PS(t)){r.push(t)}}));return r}function TS(t){var e={};X(t,(function(t){var r=t.coordinateSystem;var i=r.getBaseAxis();if(i.type!=="time"&&i.type!=="value"){return}var a=t.getData();var n=i.dim+"_"+i.index;var o=a.getDimensionIndex(a.mapDimension(i.dim));var s=a.getStore();for(var l=0,u=s.count();l<u;++l){var f=s.get(o,l);if(!e[n]){e[n]=[f]}else{e[n].push(f)}}}));var r={};for(var i in e){if(e.hasOwnProperty(i)){var a=e[i];if(a){a.sort((function(t,e){return t-e}));var n=null;for(var o=1;o<a.length;++o){var s=a[o]-a[o-1];if(s>0){n=n===null?s:Math.min(n,s)}}r[i]=n}}}return r}function DS(t){var e=TS(t);var r=[];X(t,(function(t){var i=t.coordinateSystem;var a=i.getBaseAxis();var n=a.getExtent();var o;if(a.type==="category"){o=a.getBandWidth()}else if(a.type==="value"||a.type==="time"){var s=a.dim+"_"+a.index;var l=e[s];var u=Math.abs(n[1]-n[0]);var f=a.scale.getExtent();var h=Math.abs(f[1]-f[0]);o=l?u/h*l:u}else{var c=t.getData();o=Math.abs(n[1]-n[0])/c.count()}var v=Vn(t.get("barWidth"),o);var d=Vn(t.get("barMaxWidth"),o);var p=Vn(t.get("barMinWidth")||(OS(t)?.5:1),o);var g=t.get("barGap");var y=t.get("barCategoryGap");r.push({bandWidth:o,barWidth:v,barMaxWidth:d,barMinWidth:p,barGap:g,barCategoryGap:y,axisKey:SS(a),stackId:bS(t)})}));return CS(r)}function CS(t){var e={};X(t,(function(t,r){var i=t.axisKey;var a=t.bandWidth;var n=e[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var o=n.stacks;e[i]=n;var s=t.stackId;if(!o[s]){n.autoWidthCount++}o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;if(l&&!o[s].width){o[s].width=l;l=Math.min(n.remainedWidth,l);n.remainedWidth-=l}var u=t.barMaxWidth;u&&(o[s].maxWidth=u);var f=t.barMinWidth;f&&(o[s].minWidth=f);var h=t.barGap;h!=null&&(n.gap=h);var c=t.barCategoryGap;c!=null&&(n.categoryGap=c)}));var r={};X(e,(function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=t.categoryGap;if(n==null){var o=$(i).length;n=Math.max(35-o*4,15)+"%"}var s=Vn(n,a);var l=Vn(t.gap,1);var u=t.remainedWidth;var f=t.autoWidthCount;var h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);X(i,(function(t){var e=t.maxWidth;var r=t.minWidth;if(!t.width){var i=h;if(e&&e<i){i=Math.min(e,u)}if(r&&r>i){i=r}if(i!==h){t.width=i;u-=i+l*i;f--}}else{var i=t.width;if(e){i=Math.min(i,e)}if(r){i=Math.max(i,r)}t.width=i;u-=i+l*i;f--}}));h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);var c=0;var v;X(i,(function(t,e){if(!t.width){t.width=h}v=t;c+=t.width*(1+l)}));if(v){c-=v.width*l}var d=-c/2;X(i,(function(t,i){r[e][i]=r[e][i]||{bandWidth:a,offset:d,width:t.width};d+=t.width*(1+l)}))}));return r}function AS(t,e,r){if(t&&e){var i=t[SS(e)];if(i!=null&&r!=null){return i[bS(r)]}return i}}function kS(t,e){var r=IS(t,e);var i=DS(r);X(r,(function(t){var e=t.getData();var r=t.coordinateSystem;var a=r.getBaseAxis();var n=bS(t);var o=i[SS(a)][n];var s=o.offset;var l=o.width;e.setLayout({bandWidth:o.bandWidth,offset:s,size:l})}))}function LS(t){return{seriesType:t,plan:pm(),reset:function(t){if(!PS(t)){return}var e=t.getData();var r=t.coordinateSystem;var i=r.getBaseAxis();var a=r.getOtherAxis(i);var n=e.getDimensionIndex(e.mapDimension(a.dim));var o=e.getDimensionIndex(e.mapDimension(i.dim));var s=t.get("showBackground",true);var l=e.mapDimension(a.dim);var u=e.getCalculationInfo("stackResultDimension");var f=qb(e,l)&&!!e.getCalculationInfo("stackedOnSeries");var h=a.isHorizontal();var c=NS(i,a);var v=OS(t);var d=t.get("barMinHeight")||0;var p=u&&e.getDimensionIndex(u);var g=e.getLayout("size");var y=e.getLayout("offset");return{progress:function(t,e){var i=t.count;var a=v&&xS(i*3);var l=v&&s&&xS(i*3);var u=v&&xS(i);var m=r.master.getRect();var _=h?m.width:m.height;var x;var w=e.getStore();var b=0;while((x=t.next())!=null){var S=w.get(f?p:n,x);var M=w.get(o,x);var I=c;var T=void 0;if(f){T=+S-w.get(n,x)}var D=void 0;var C=void 0;var A=void 0;var k=void 0;if(h){var L=r.dataToPoint([S,M]);if(f){var P=r.dataToPoint([T,M]);I=P[0]}D=I;C=L[1]+y;A=L[0]-I;k=g;if(Math.abs(A)<d){A=(A<0?-1:1)*d}}else{var L=r.dataToPoint([M,S]);if(f){var P=r.dataToPoint([M,T]);I=P[1]}D=L[0]+y;C=I;A=g;k=L[1]-I;if(Math.abs(k)<d){k=(k<=0?-1:1)*d}}if(!v){e.setItemLayout(x,{x:D,y:C,width:A,height:k})}else{a[b]=D;a[b+1]=C;a[b+2]=h?A:k;if(l){l[b]=h?m.x:D;l[b+1]=h?C:m.y;l[b+2]=_}u[x]=x}b+=3}if(v){e.setLayout({largePoints:a,largeDataIndices:u,largeBackgroundPoints:l,valueAxisHorizontal:h})}}}}}}function PS(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function OS(t){return t.pipelineContext&&t.pipelineContext.large}function NS(t,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var RS=function(t,e,r,i){while(r<i){var a=r+i>>>1;if(t[a][1]<e){r=a+1}else{i=a}}return r};var ES=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="time";return r}e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return rd(t.value,qv[ed(Qv(this._minLevelUnit))]||qv.second,e,this.getSetting("locale"))};e.prototype.getFormattedLabel=function(t,e,r){var i=this.getSetting("useUTC");var a=this.getSetting("locale");return id(t,e,r,a,i)};e.prototype.getTicks=function(){var t=this._interval;var e=this._extent;var r=[];if(!t){return r}r.push({value:e[0],level:0});var i=this.getSetting("useUTC");var a=US(this._minLevelUnit,this._approxInterval,i,e);r=r.concat(a);r.push({value:e[1],level:0});return r};e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]){e[0]-=Uv;e[1]+=Uv}if(e[1]===-Infinity&&e[0]===Infinity){var r=new Date;e[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate());e[0]=e[1]-Uv}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)};e.prototype.calcNiceTicks=function(t,e,r){t=t||10;var i=this._extent;var a=i[1]-i[0];this._approxInterval=a/t;if(e!=null&&this._approxInterval<e){this._approxInterval=e}if(r!=null&&this._approxInterval>r){this._approxInterval=r}var n=zS.length;var o=Math.min(RS(zS,this._approxInterval,0,n),n-1);this._interval=zS[o][1];this._minLevelUnit=zS[Math.max(o-1,0)][0]};e.prototype.parse=function(t){return nt(t)?t:+Kn(t)};e.prototype.contain=function(t){return cS(this.parse(t),this._extent)};e.prototype.normalize=function(t){return vS(this.parse(t),this._extent)};e.prototype.scale=function(t){return dS(t,this._extent)};e.type="time";return e}(yS);var zS=[["second",Wv],["minute",Hv],["hour",Yv],["quarter-day",Yv*6],["half-day",Yv*12],["day",Uv*1.2],["half-week",Uv*3.5],["week",Uv*7],["month",Uv*31],["quarter",Uv*95],["half-year",Xv/2],["year",Xv]];function VS(t,e,r,i){var a=Kn(e);var n=Kn(r);var o=function(t){return nd(a,t,i)===nd(n,t,i)};var s=function(){return o("year")};var l=function(){return s()&&o("month")};var u=function(){return l()&&o("day")};var f=function(){return u()&&o("hour")};var h=function(){return f()&&o("minute")};var c=function(){return h()&&o("second")};var v=function(){return c()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return f();case"minute":return h();case"second":return c();case"millisecond":return v()}}function BS(t,e){t/=Uv;return t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function FS(t){var e=30*Uv;t/=e;return t>6?6:t>3?3:t>2?2:1}function GS(t){t/=Yv;return t>12?12:t>6?6:t>3.5?4:t>2?2:1}function WS(t,e){t/=e?Hv:Wv;return t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function HS(t){return Qn(t,true)}function YS(t,e,r){var i=new Date(t);switch(Qv(e)){case"year":case"month":i[dd(r)](0);case"day":i[pd(r)](1);case"hour":i[gd(r)](0);case"minute":i[yd(r)](0);case"second":i[md(r)](0);i[_d(r)](0)}return i.getTime()}function US(t,e,r,i){var a=1e4;var n=$v;var o=0;function s(t,e,r,a,n,o,s){var l=new Date(e);var u=e;var f=l[a]();while(u<r&&u<=i[1]){s.push({value:u});f+=t;l[n](f);u=l.getTime()}s.push({value:u,notAdd:true})}function l(t,a,n){var o=[];var l=!a.length;if(VS(Qv(t),i[0],i[1],r)){return}if(l){a=[{value:YS(new Date(i[0]),t,r)},{value:i[1]}]}for(var u=0;u<a.length-1;u++){var f=a[u].value;var h=a[u+1].value;if(f===h){continue}var c=void 0;var v=void 0;var d=void 0;var p=false;switch(t){case"year":c=Math.max(1,Math.round(e/Uv/365));v=od(r);d=vd(r);break;case"half-year":case"quarter":case"month":c=FS(e);v=sd(r);d=dd(r);break;case"week":case"half-week":case"day":c=BS(e);v=ld(r);d=pd(r);p=true;break;case"half-day":case"quarter-day":case"hour":c=GS(e);v=ud(r);d=gd(r);break;case"minute":c=WS(e,true);v=fd(r);d=yd(r);break;case"second":c=WS(e,false);v=hd(r);d=md(r);break;case"millisecond":c=HS(e);v=cd(r);d=_d(r);break}s(c,f,h,v,d,p,o);if(t==="year"&&n.length>1&&u===0){n.unshift({value:n[0].value-c})}}for(var u=0;u<o.length;u++){n.push(o[u])}return o}var u=[];var f=[];var h=0;var c=0;for(var v=0;v<n.length&&o++<a;++v){var d=Qv(n[v]);if(!td(n[v])){continue}l(n[v],u[u.length-1]||[],f);var p=n[v+1]?Qv(n[v+1]):null;if(d!==p){if(f.length){c=h;f.sort((function(t,e){return t.value-e.value}));var g=[];for(var y=0;y<f.length;++y){var m=f[y].value;if(y===0||f[y-1].value!==m){g.push(f[y]);if(m>=i[0]&&m<=i[1]){h++}}}var _=(i[1]-i[0])/e;if(h>_*1.5&&c>_/1.5){break}u.push(g);if(h>_||t===n[v]){break}}f=[]}}var x=q(Z(u,(function(t){return q(t,(function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd}))})),(function(t){return t.length>0}));var w=[];var b=x.length-1;for(var v=0;v<x.length;++v){var S=x[v];for(var M=0;M<S.length;++M){w.push({value:S[M].value,level:b-v})}}w.sort((function(t,e){return t.value-e.value}));var I=[];for(var v=0;v<w.length;++v){if(v===0||w[v].value!==w[v-1].value){I.push(w[v])}}return I}rS.registerClass(ES);var XS=rS.prototype;var ZS=yS.prototype;var jS=Bn;var qS=Math.floor;var KS=Math.ceil;var $S=Math.pow;var JS=Math.log;var QS=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="log";e.base=10;e._originalScale=new yS;e._interval=0;return e}e.prototype.getTicks=function(t){var e=this._originalScale;var r=this._extent;var i=e.getExtent();var a=ZS.getTicks.call(this,t);return Z(a,(function(t){var e=t.value;var a=Bn($S(this.base,e));a=e===r[0]&&this._fixMin?eM(a,i[0]):a;a=e===r[1]&&this._fixMax?eM(a,i[1]):a;return{value:a}}),this)};e.prototype.setExtent=function(t,e){var r=JS(this.base);t=JS(Math.max(0,t))/r;e=JS(Math.max(0,e))/r;ZS.setExtent.call(this,t,e)};e.prototype.getExtent=function(){var t=this.base;var e=XS.getExtent.call(this);e[0]=$S(t,e[0]);e[1]=$S(t,e[1]);var r=this._originalScale;var i=r.getExtent();this._fixMin&&(e[0]=eM(e[0],i[0]));this._fixMax&&(e[1]=eM(e[1],i[1]));return e};e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=JS(t[0])/JS(e);t[1]=JS(t[1])/JS(e);XS.unionExtent.call(this,t)};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent;var r=e[1]-e[0];if(r===Infinity||r<=0){return}var i=$n(r);var a=t/r*i;if(a<=.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var n=[Bn(KS(e[0]/i)*i),Bn(qS(e[1]/i)*i)];this._interval=i;this._niceExtent=n};e.prototype.calcNiceExtent=function(t){ZS.calcNiceExtent.call(this,t);this._fixMin=t.fixMin;this._fixMax=t.fixMax};e.prototype.parse=function(t){return t};e.prototype.contain=function(t){t=JS(t)/JS(this.base);return cS(t,this._extent)};e.prototype.normalize=function(t){t=JS(t)/JS(this.base);return vS(t,this._extent)};e.prototype.scale=function(t){t=dS(t,this._extent);return $S(this.base,t)};e.type="log";return e}(rS);var tM=QS.prototype;tM.getMinorTicks=ZS.getMinorTicks;tM.getLabel=ZS.getLabel;function eM(t,e){return jS(t,Gn(e))}rS.registerClass(QS);var rM=function(){function t(t,e,r){this._prepareParams(t,e,r)}t.prototype._prepareParams=function(t,e,r){if(r[1]<r[0]){r=[NaN,NaN]}this._dataMin=r[0];this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",true);if(rt(a)){this._modelMinNum=oM(t,a({min:r[0],max:r[1]}))}else if(a!=="dataMin"){this._modelMinNum=oM(t,a)}var n=this._modelMaxRaw=e.get("max",true);if(rt(n)){this._modelMaxNum=oM(t,n({min:r[0],max:r[1]}))}else if(n!=="dataMax"){this._modelMaxNum=oM(t,n)}if(i){this._axisDataLen=e.getCategories().length}else{var o=e.get("boundaryGap");var s=et(o)?o:[o||0,o||0];if(typeof s[0]==="boolean"||typeof s[1]==="boolean"){this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[hn(s[0],1),hn(s[1],1)]}}};t.prototype.calculate=function(){var t=this._isOrdinal;var e=this._dataMin;var r=this._dataMax;var i=this._axisDataLen;var a=this._boundaryGapInner;var n=!t?r-e||Math.abs(e):null;var o=this._modelMinRaw==="dataMin"?e:this._modelMinNum;var s=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum;var l=o!=null;var u=s!=null;if(o==null){o=t?i?0:NaN:e-a[0]*n}if(s==null){s=t?i?i-1:NaN:r+a[1]*n}(o==null||!isFinite(o))&&(o=NaN);(s==null||!isFinite(s))&&(s=NaN);var f=vt(o)||vt(s)||t&&!i;if(this._needCrossZero){if(o>0&&s>0&&!l){o=0}if(o<0&&s<0&&!u){s=0}}var h=this._determinedMin;var c=this._determinedMax;if(h!=null){o=h;l=true}if(c!=null){s=c;u=true}return{min:o,max:s,minFixed:l,maxFixed:u,isBlank:f}};t.prototype.modifyDataMinMax=function(t,e){this[aM[t]]=e};t.prototype.setDeterminedMinMax=function(t,e){var r=iM[t];this[r]=e};t.prototype.freeze=function(){this.frozen=true};return t}();var iM={min:"_determinedMin",max:"_determinedMax"};var aM={min:"_dataMin",max:"_dataMax"};function nM(t,e,r){var i=t.rawExtentInfo;if(i){return i}i=new rM(t,e,r);t.rawExtentInfo=i;return i}function oM(t,e){return e==null?null:vt(e)?NaN:t.parse(e)}function sM(t,e){var r=t.type;var i=nM(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var a=i.min;var n=i.max;var o=e.ecModel;if(o&&r==="time"){var s=IS("bar",o);var l=false;X(s,(function(t){l=l||t.getBaseAxis()===e.axis}));if(l){var u=DS(s);var f=lM(a,n,e,u);a=f.min;n=f.max}}return{extent:[a,n],fixMin:i.minFixed,fixMax:i.maxFixed}}function lM(t,e,r,i){var a=r.axis.getExtent();var n=a[1]-a[0];var o=AS(i,r.axis);if(o===undefined){return{min:t,max:e}}var s=Infinity;X(o,(function(t){s=Math.min(t.offset,s)}));var l=-Infinity;X(o,(function(t){l=Math.max(t.offset+t.width,l)}));s=Math.abs(s);l=Math.abs(l);var u=s+l;var f=e-t;var h=1-(s+l)/n;var c=f/h-f;e+=c*(l/u);t-=c*(s/u);return{min:t,max:e}}function uM(t,e){var r=e;var i=sM(t,r);var a=i.extent;var n=r.get("splitNumber");if(t instanceof QS){t.base=r.get("logBase")}var o=t.type;var s=r.get("interval");var l=o==="interval"||o==="time";t.setExtent(a[0],a[1]);t.calcNiceExtent({splitNumber:n,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null});if(s!=null){t.setInterval&&t.setInterval(s)}}function fM(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new pS({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new ES({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(rS.getClass(e)||yS)}}}function hM(t){var e=t.scale.getExtent();var r=e[0];var i=e[1];return!(r>0&&i>0||r<0&&i<0)}function cM(t){var e=t.getLabelModel().get("formatter");var r=t.type==="category"?t.scale.getExtent()[0]:null;if(t.scale.type==="time"){return function(e){return function(r,i){return t.scale.getFormattedLabel(r,i,e)}}(e)}else if(it(e)){return function(e){return function(r){var i=t.scale.getLabel(r);var a=e.replace("{value}",i!=null?i:"");return a}}(e)}else if(rt(e)){return function(e){return function(i,a){if(r!=null){a=i.value-r}return e(vM(t,i),a,i.level!=null?{level:i.level}:null)}}(e)}else{return function(e){return t.scale.getLabel(e)}}}function vM(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function dM(t){var e=t.model;var r=t.scale;if(!e.get(["axisLabel","show"])||r.isBlank()){return}var i;var a;var n=r.getExtent();if(r instanceof pS){a=r.count()}else{i=r.getTicks();a=i.length}var o=t.getLabelModel();var s=cM(t);var l;var u=1;if(a>40){u=Math.ceil(a/40)}for(var f=0;f<a;f+=u){var h=i?i[f]:{value:n[0]+f};var c=s(h,f);var v=o.getTextRect(c);var d=pM(v,o.get("rotate")||0);l?l.union(d):l=d}return l}function pM(t,e){var r=e*Math.PI/180;var i=t.width;var a=t.height;var n=i*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r));var o=i*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r));var s=new Je(t.x,t.y,n,o);return s}function gM(t){var e=t.get("interval");return e==null?"auto":e}function yM(t){return t.type==="category"&&gM(t.getLabelModel())===0}function mM(t,e){var r={};X(t.mapDimensionsAll(e),(function(e){r[Kb(t,e)]=true}));return $(r)}function _M(t,e,r){if(e){X(mM(e,r),(function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]);i[1]>t[1]&&(t[1]=i[1])}))}}var xM=function(){function t(){}t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale};t.prototype.getCoordSysModel=function(){return};return t}();var wM=1e-8;function bM(t,e){return Math.abs(t-e)<wM}function SM(t,e,r){var i=0;var a=t[0];if(!a){return false}for(var n=1;n<t.length;n++){var o=t[n];i+=Ll(a[0],a[1],o[0],o[1],e,r);a=o}var s=t[0];if(!bM(a[0],s[0])||!bM(a[1],s[1])){i+=Ll(a[0],a[1],s[0],s[1],e,r)}return i!==0}var MM=[];function IM(t,e){for(var r=0;r<t.length;r++){Qt(t[r],t[r],e)}}function TM(t,e,r,i){for(var a=0;a<t.length;a++){var n=t[a];if(i){n=i.project(n)}if(n&&isFinite(n[0])&&isFinite(n[1])){te(e,e,n);ee(r,r,n)}}}function DM(t){var e=0;var r=0;var i=0;var a=t.length;var n=t[a-1][0];var o=t[a-1][1];for(var s=0;s<a;s++){var l=t[s][0];var u=t[s][1];var f=n*u-l*o;e+=f;r+=(n+l)*f;i+=(o+u)*f;n=l;o=u}return e?[r/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}var CM=function(){function t(t){this.name=t}t.prototype.setCenter=function(t){this._center=t};t.prototype.getCenter=function(){var t=this._center;if(!t){t=this._center=this.calcCenter()}return t};return t}();var AM=function(){function t(t,e){this.type="polygon";this.exterior=t;this.interiors=e}return t}();var kM=function(){function t(t){this.type="linestring";this.points=t}return t}();var LM=function(t){u(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.type="geoJSON";a.geometries=r;a._center=i&&[i[0],i[1]];return a}e.prototype.calcCenter=function(){var t=this.geometries;var e;var r=0;for(var i=0;i<t.length;i++){var a=t[i];var n=a.exterior;var o=n&&n.length;if(o>r){e=a;r=o}}if(e){return DM(e.exterior)}var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]};e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t){return e}var r=[Infinity,Infinity];var i=[-Infinity,-Infinity];var a=this.geometries;X(a,(function(e){if(e.type==="polygon"){TM(e.exterior,r,i,t)}else{X(e.points,(function(e){TM(e,r,i,t)}))}}));if(!(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1]))){r[0]=r[1]=i[0]=i[1]=0}e=new Je(r[0],r[1],i[0]-r[0],i[1]-r[1]);if(!t){this._rect=e}return e};e.prototype.contain=function(t){var e=this.getBoundingRect();var r=this.geometries;if(!e.contain(t[0],t[1])){return false}t:for(var i=0,a=r.length;i<a;i++){var n=r[i];if(n.type!=="polygon"){continue}var o=n.exterior;var s=n.interiors;if(SM(o,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++){if(SM(s[l],t[0],t[1])){continue t}}return true}}return false};e.prototype.transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=a.width/a.height;if(!r){r=n*i}else if(!i){i=r/n}var o=new Je(t,e,r,i);var s=a.calculateTransform(o);var l=this.geometries;for(var u=0;u<l.length;u++){var f=l[u];if(f.type==="polygon"){IM(f.exterior,s);X(f.interiors,(function(t){IM(t,s)}))}else{X(f.points,(function(t){IM(t,s)}))}}a=this._rect;a.copy(o);this._center=[a.x+a.width/2,a.y+a.height/2]};e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);r._rect=this._rect;r.transformTo=null;return r};return e}(CM);var PM=function(t){u(e,t);function e(e,r){var i=t.call(this,e)||this;i.type="geoSVG";i._elOnlyForCalculate=r;return i}e.prototype.calcCenter=function(){var t=this._elOnlyForCalculate;var e=t.getBoundingRect();var r=[e.x+e.width/2,e.y+e.height/2];var i=Re(MM);var a=t;while(a&&!a.isGeoSVGGraphicRoot){ze(i,a.getLocalTransform(),i);a=a.parent}Ge(i,i);Qt(r,r,i);return r};return e}(CM);function OM(t){if(!t.UTF8Encoding){return t}var e=t;var r=e.UTF8Scale;if(r==null){r=1024}var i=e.features;X(i,(function(t){var e=t.geometry;var i=e.encodeOffsets;var a=e.coordinates;if(!i){return}switch(e.type){case"LineString":e.coordinates=RM(a,i,r);break;case"Polygon":NM(a,i,r);break;case"MultiLineString":NM(a,i,r);break;case"MultiPolygon":X(a,(function(t,e){return NM(t,i[e],r)}))}}));e.UTF8Encoding=false;return e}function NM(t,e,r){for(var i=0;i<t.length;i++){t[i]=RM(t[i],e[i],r)}}function RM(t,e,r){var i=[];var a=e[0];var n=e[1];for(var o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64;var l=t.charCodeAt(o+1)-64;s=s>>1^-(s&1);l=l>>1^-(l&1);s+=a;l+=n;a=s;n=l;i.push([s/r,l/r])}return i}function EM(t,e){t=OM(t);return Z(q(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var r=t.properties;var i=t.geometry;var a=[];switch(i.type){case"Polygon":var n=i.coordinates;a.push(new AM(n[0],n.slice(1)));break;case"MultiPolygon":X(i.coordinates,(function(t){if(t[0]){a.push(new AM(t[0],t.slice(1)))}}));break;case"LineString":a.push(new kM([i.coordinates]));break;case"MultiLineString":a.push(new kM(i.coordinates))}var o=new LM(r[e||"name"],a,r.cp);o.properties=r;return o}))}var zM=Bo();function VM(t){return t.type==="category"?FM(t):HM(t)}function BM(t,e){return t.type==="category"?WM(t,e):{ticks:Z(t.scale.getTicks(),(function(t){return t.value}))}}function FM(t){var e=t.getLabelModel();var r=GM(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function GM(t,e){var r=YM(t,"labels");var i=gM(e);var a=UM(r,i);if(a){return a}var n;var o;if(rt(i)){n=$M(t,i)}else{o=i==="auto"?ZM(t):i;n=KM(t,o)}return XM(r,i,{labels:n,labelCategoryInterval:o})}function WM(t,e){var r=YM(t,"ticks");var i=gM(e);var a=UM(r,i);if(a){return a}var n;var o;if(!e.get("show")||t.scale.isBlank()){n=[]}if(rt(i)){n=$M(t,i,true)}else if(i==="auto"){var s=GM(t,t.getLabelModel());o=s.labelCategoryInterval;n=Z(s.labels,(function(t){return t.tickValue}))}else{o=i;n=KM(t,o,true)}return XM(r,i,{ticks:n,tickCategoryInterval:o})}function HM(t){var e=t.scale.getTicks();var r=cM(t);return{labels:Z(e,(function(e,i){return{level:e.level,formattedLabel:r(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function YM(t,e){return zM(t)[e]||(zM(t)[e]=[])}function UM(t,e){for(var r=0;r<t.length;r++){if(t[r].key===e){return t[r].value}}}function XM(t,e,r){t.push({key:e,value:r});return r}function ZM(t){var e=zM(t).autoInterval;return e!=null?e:zM(t).autoInterval=t.calculateCategoryInterval()}function jM(t){var e=qM(t);var r=cM(t);var i=(e.axisRotate-e.labelRotate)/180*Math.PI;var a=t.scale;var n=a.getExtent();var o=a.count();if(n[1]-n[0]<1){return 0}var s=1;if(o>40){s=Math.max(1,Math.floor(o/40))}var l=n[0];var u=t.dataToCoord(l+1)-t.dataToCoord(l);var f=Math.abs(u*Math.cos(i));var h=Math.abs(u*Math.sin(i));var c=0;var v=0;for(;l<=n[1];l+=s){var d=0;var p=0;var g=sn(r({value:l}),e.font,"center","top");d=g.width*1.3;p=g.height*1.3;c=Math.max(c,d,7);v=Math.max(v,p,7)}var y=c/f;var m=v/h;isNaN(y)&&(y=Infinity);isNaN(m)&&(m=Infinity);var _=Math.max(0,Math.floor(Math.min(y,m)));var x=zM(t.model);var w=t.getExtent();var b=x.lastAutoInterval;var S=x.lastTickCount;if(b!=null&&S!=null&&Math.abs(b-_)<=1&&Math.abs(S-o)<=1&&b>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]){_=b}else{x.lastTickCount=o;x.lastAutoInterval=_;x.axisExtent0=w[0];x.axisExtent1=w[1]}return _}function qM(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function KM(t,e,r){var i=cM(t);var a=t.scale;var n=a.getExtent();var o=t.getLabelModel();var s=[];var l=Math.max((e||0)+1,1);var u=n[0];var f=a.count();if(u!==0&&l>1&&f/l>2){u=Math.round(Math.ceil(u/l)*l)}var h=yM(t);var c=o.get("showMinLabel")||h;var v=o.get("showMaxLabel")||h;if(c&&u!==n[0]){p(n[0])}var d=u;for(;d<=n[1];d+=l){p(d)}if(v&&d-l!==n[1]){p(n[1])}function p(t){var e={value:t};s.push(r?t:{formattedLabel:i(e),rawLabel:a.getLabel(e),tickValue:t})}return s}function $M(t,e,r){var i=t.scale;var a=cM(t);var n=[];X(i.getTicks(),(function(t){var o=i.getLabel(t);var s=t.value;if(e(t.value,o)){n.push(r?s:{formattedLabel:a(t),rawLabel:o,tickValue:s})}}));return n}var JM=[0,1];var QM=function(){function t(t,e,r){this.onBand=false;this.inverse=false;this.dim=t;this.scale=e;this._extent=r||[0,0]}t.prototype.contain=function(t){var e=this._extent;var r=Math.min(e[0],e[1]);var i=Math.max(e[0],e[1]);return t>=r&&t<=i};t.prototype.containData=function(t){return this.scale.contain(t)};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.getPixelPrecision=function(t){return Hn(t||this.scale.getExtent(),this._extent)};t.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t;r[1]=e};t.prototype.dataToCoord=function(t,e){var r=this._extent;var i=this.scale;t=i.normalize(t);if(this.onBand&&i.type==="ordinal"){r=r.slice();tI(r,i.count())}return zn(t,JM,r,e)};t.prototype.coordToData=function(t,e){var r=this._extent;var i=this.scale;if(this.onBand&&i.type==="ordinal"){r=r.slice();tI(r,i.count())}var a=zn(t,r,JM,e);return this.scale.scale(a)};t.prototype.pointToData=function(t,e){return};t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel();var r=BM(this,e);var i=r.ticks;var a=Z(i,(function(t){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);var n=e.get("alignWithLabel");eI(this,a,n,t.clamp);return a};t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var t=this.model.getModel("minorTick");var e=t.get("splitNumber");if(!(e>0&&e<100)){e=5}var r=this.scale.getMinorTicks(e);var i=Z(r,(function(t){return Z(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return i};t.prototype.getViewLabels=function(){return VM(this).labels};t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};t.prototype.getTickModel=function(){return this.model.getModel("axisTick")};t.prototype.getBandWidth=function(){var t=this._extent;var e=this.scale.getExtent();var r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r};t.prototype.calculateCategoryInterval=function(){return jM(this)};return t}();function tI(t,e){var r=t[1]-t[0];var i=e;var a=r/i/2;t[0]+=a;t[1]-=a}function eI(t,e,r,i){var a=e.length;if(!t.onBand||r||!a){return}var n=t.getExtent();var o;var s;if(a===1){e[0].coord=n[0];o=e[1]={coord:n[0]}}else{var l=e[a-1].tickValue-e[0].tickValue;var u=(e[a-1].coord-e[0].coord)/l;X(e,(function(t){t.coord-=u/2}));var f=t.scale.getExtent();s=1+f[1]-e[a-1].tickValue;o={coord:e[a-1].coord+u*s};e.push(o)}var h=n[0]>n[1];if(c(e[0].coord,n[0])){i?e[0].coord=n[0]:e.shift()}if(i&&c(n[0],e[0].coord)){e.unshift({coord:n[0]})}if(c(n[1],o.coord)){i?o.coord=n[1]:e.pop()}if(i&&c(o.coord,n[1])){e.push({coord:n[1]})}function c(t,e){t=Bn(t);e=Bn(e);return h?t>e:t<e}}var rI=Math.PI*2;var iI=Sl.CMD;var aI=["top","right","bottom","left"];function nI(t,e,r,i,a){var n=r.width;var o=r.height;switch(t){case"top":i.set(r.x+n/2,r.y-e);a.set(0,-1);break;case"bottom":i.set(r.x+n/2,r.y+o+e);a.set(0,1);break;case"left":i.set(r.x-e,r.y+o/2);a.set(-1,0);break;case"right":i.set(r.x+n+e,r.y+o/2);a.set(1,0);break}}function oI(t,e,r,i,a,n,o,s,l){o-=t;s-=e;var u=Math.sqrt(o*o+s*s);o/=u;s/=u;var f=o*r+t;var h=s*r+e;if(Math.abs(i-a)%rI<1e-4){l[0]=f;l[1]=h;return u-r}if(n){var c=i;i=Cl(a);a=Cl(c)}else{i=Cl(i);a=Cl(a)}if(i>a){a+=rI}var v=Math.atan2(s,o);if(v<0){v+=rI}if(v>=i&&v<=a||v+rI>=i&&v+rI<=a){l[0]=f;l[1]=h;return u-r}var d=r*Math.cos(i)+t;var p=r*Math.sin(i)+e;var g=r*Math.cos(a)+t;var y=r*Math.sin(a)+e;var m=(d-o)*(d-o)+(p-s)*(p-s);var _=(g-o)*(g-o)+(y-s)*(y-s);if(m<_){l[0]=d;l[1]=p;return Math.sqrt(m)}else{l[0]=g;l[1]=y;return Math.sqrt(_)}}function sI(t,e,r,i,a,n,o,s){var l=a-t;var u=n-e;var f=r-t;var h=i-e;var c=Math.sqrt(f*f+h*h);f/=c;h/=c;var v=l*f+u*h;var d=v/c;if(s){d=Math.min(Math.max(d,0),1)}d*=c;var p=o[0]=t+d*f;var g=o[1]=e+d*h;return Math.sqrt((p-a)*(p-a)+(g-n)*(g-n))}function lI(t,e,r,i,a,n,o){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}var s=t+r;var l=e+i;var u=o[0]=Math.min(Math.max(a,t),s);var f=o[1]=Math.min(Math.max(n,e),l);return Math.sqrt((u-a)*(u-a)+(f-n)*(f-n))}var uI=[];function fI(t,e,r){var i=lI(e.x,e.y,e.width,e.height,t.x,t.y,uI);r.set(uI[0],uI[1]);return i}function hI(t,e,r){var i=0;var a=0;var n=0;var o=0;var s;var l;var u=Infinity;var f=e.data;var h=t.x;var c=t.y;for(var v=0;v<f.length;){var d=f[v++];if(v===1){i=f[v];a=f[v+1];n=i;o=a}var p=u;switch(d){case iI.M:n=f[v++];o=f[v++];i=n;a=o;break;case iI.L:p=sI(i,a,f[v],f[v+1],h,c,uI,true);i=f[v++];a=f[v++];break;case iI.C:p=Xr(i,a,f[v++],f[v++],f[v++],f[v++],f[v],f[v+1],h,c,uI);i=f[v++];a=f[v++];break;case iI.Q:p=Qr(i,a,f[v++],f[v++],f[v],f[v+1],h,c,uI);i=f[v++];a=f[v++];break;case iI.A:var g=f[v++];var y=f[v++];var m=f[v++];var _=f[v++];var x=f[v++];var w=f[v++];v+=1;var b=!!(1-f[v++]);s=Math.cos(x)*m+g;l=Math.sin(x)*_+y;if(v<=1){n=s;o=l}var S=(h-g)*_/m+g;p=oI(g,y,_,x,x+w,b,S,c,uI);i=Math.cos(x+w)*m+g;a=Math.sin(x+w)*_+y;break;case iI.R:n=i=f[v++];o=a=f[v++];var M=f[v++];var I=f[v++];p=lI(n,o,M,I,h,c,uI);break;case iI.Z:p=sI(i,a,n,o,h,c,uI,true);i=n;a=o;break}if(p<u){u=p;r.set(uI[0],uI[1])}}return u}var cI=new He;var vI=new He;var dI=new He;var pI=new He;var gI=new He;function yI(t,e){if(!t){return}var r=t.getTextGuideLine();var i=t.getTextContent();if(!(i&&r)){return}var a=t.textGuideLineConfig||{};var n=[[0,0],[0,0],[0,0]];var o=a.candidates||aI;var s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=Infinity;var u=a.anchor;var f=t.getComputedTransform();var h=f&&Ge([],f);var c=e.get("length2")||0;if(u){dI.copy(u)}for(var v=0;v<o.length;v++){var d=o[v];nI(d,0,s,cI,pI);He.scaleAndAdd(vI,cI,pI,c);vI.transform(h);var p=t.getBoundingRect();var g=u?u.distance(vI):t instanceof jl?hI(vI,t.path,dI):fI(vI,p,dI);if(g<l){l=g;vI.transform(f);dI.transform(f);dI.toArray(n[0]);vI.toArray(n[1]);cI.toArray(n[2])}}xI(n,e.get("minTurnAngle"));r.setShape({points:n})}var mI=[];var _I=new He;function xI(t,e){if(!(e<=180&&e>0)){return}e=e/180*Math.PI;cI.fromArray(t[0]);vI.fromArray(t[1]);dI.fromArray(t[2]);He.sub(pI,cI,vI);He.sub(gI,dI,vI);var r=pI.len();var i=gI.len();if(r<.001||i<.001){return}pI.scale(1/r);gI.scale(1/i);var a=pI.dot(gI);var n=Math.cos(e);if(n<a){var o=sI(vI.x,vI.y,dI.x,dI.y,cI.x,cI.y,mI,false);_I.fromArray(mI);_I.scaleAndAdd(gI,o/Math.tan(Math.PI-e));var s=dI.x!==vI.x?(_I.x-vI.x)/(dI.x-vI.x):(_I.y-vI.y)/(dI.y-vI.y);if(isNaN(s)){return}if(s<0){He.copy(_I,vI)}else if(s>1){He.copy(_I,dI)}_I.toArray(t[1])}}function wI(t,e,r){if(!(r<=180&&r>0)){return}r=r/180*Math.PI;cI.fromArray(t[0]);vI.fromArray(t[1]);dI.fromArray(t[2]);He.sub(pI,vI,cI);He.sub(gI,dI,vI);var i=pI.len();var a=gI.len();if(i<.001||a<.001){return}pI.scale(1/i);gI.scale(1/a);var n=pI.dot(e);var o=Math.cos(r);if(n<o){var s=sI(vI.x,vI.y,dI.x,dI.y,cI.x,cI.y,mI,false);_I.fromArray(mI);var l=Math.PI/2;var u=Math.acos(gI.dot(e));var f=l+u-r;if(f>=l){He.copy(_I,dI)}else{_I.scaleAndAdd(gI,s/Math.tan(Math.PI/2-f));var h=dI.x!==vI.x?(_I.x-vI.x)/(dI.x-vI.x):(_I.y-vI.y)/(dI.y-vI.y);if(isNaN(h)){return}if(h<0){He.copy(_I,vI)}else if(h>1){He.copy(_I,dI)}}_I.toArray(t[1])}}function bI(t,e,r,i){var a=r==="normal";var n=a?t:t.ensureState(r);n.ignore=e;var o=i.get("smooth");if(o&&o===true){o=.3}n.shape=n.shape||{};if(o>0){n.shape.smooth=o}var s=i.getModel("lineStyle").getLineStyle();a?t.useStyle(s):n.style=s}function SI(t,e){var r=e.smooth;var i=e.points;if(!i){return}t.moveTo(i[0][0],i[0][1]);if(r>0&&i.length>=3){var a=qt(i[0],i[1]);var n=qt(i[1],i[2]);if(!a||!n){t.lineTo(i[1][0],i[1][1]);t.lineTo(i[2][0],i[2][1]);return}var o=Math.min(a,n)*r;var s=Jt([],i[1],i[0],o/a);var l=Jt([],i[1],i[2],o/n);var u=Jt([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]);t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else{for(var f=1;f<i.length;f++){t.lineTo(i[f][0],i[f][1])}}}function MI(t,e,r){var i=t.getTextGuideLine();var a=t.getTextContent();if(!a){if(i){t.removeTextGuideLine()}return}var n=e.normal;var o=n.get("show");var s=a.ignore;for(var l=0;l<Eu.length;l++){var u=Eu[l];var f=e[u];var h=u==="normal";if(f){var c=f.get("show");var v=h?s:pt(a.states[u]&&a.states[u].ignore,s);if(v||!pt(c,o)){var d=h?i:i&&i.states[u];if(d){d.ignore=true}continue}if(!i){i=new Fh;t.setTextGuideLine(i);if(!h&&(s||!o)){bI(i,true,"normal",e.normal)}if(t.stateProxy){i.stateProxy=t.stateProxy}}bI(i,false,u,f)}}if(i){G(i.style,r);i.style.fill=null;var p=n.get("showAbove");var g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=p||false;i.buildPath=SI}}function II(t,e){e=e||"labelLine";var r={normal:t.getModel(e)};for(var i=0;i<Ru.length;i++){var a=Ru[i];r[a]=t.getModel([a,e])}return r}function TI(t){var e=[];for(var r=0;r<t.length;r++){var i=t[r];if(i.defaultAttr.ignore){continue}var a=i.label;var n=a.getComputedTransform();var o=a.getBoundingRect();var s=!n||n[1]<1e-5&&n[2]<1e-5;var l=a.style.margin||0;var u=o.clone();u.applyTransform(n);u.x-=l/2;u.y-=l/2;u.width+=l;u.height+=l;var f=s?new ac(o,n):null;e.push({label:a,labelLine:i.labelLine,rect:u,localRect:o,obb:f,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:n})}return e}function DI(t,e,r,i,a,n){var o=t.length;if(o<2){return}t.sort((function(t,r){return t.rect[e]-r.rect[e]}));var s=0;var l;var u=false;var f=0;for(var h=0;h<o;h++){var c=t[h];var v=c.rect;l=v[e]-s;if(l<0){v[e]-=l;c.label[e]-=l;u=true}var d=Math.max(-l,0);f+=d;s=v[e]+v[r]}if(f>0&&n){w(-f/o,0,o)}var p=t[0];var g=t[o-1];var y;var m;_();y<0&&b(-y,.8);m<0&&b(m,.8);_();x(y,m,1);x(m,y,-1);_();if(y<0){S(-y)}if(m<0){S(m)}function _(){y=p.rect[e]-i;m=a-g.rect[e]-g.rect[r]}function x(t,e,r){if(t<0){var i=Math.min(e,-t);if(i>0){w(i*r,0,o);var a=i+t;if(a<0){b(-a*r,1)}}else{b(-t*r,1)}}}function w(r,i,a){if(r!==0){u=true}for(var n=i;n<a;n++){var o=t[n];var s=o.rect;s[e]+=r;o.label[e]+=r}}function b(i,a){var n=[];var s=0;for(var l=1;l<o;l++){var u=t[l-1].rect;var f=Math.max(t[l].rect[e]-u[e]-u[r],0);n.push(f);s+=f}if(!s){return}var h=Math.min(Math.abs(i)/s,a);if(i>0){for(var l=0;l<o-1;l++){var c=n[l]*h;w(c,0,l+1)}}else{for(var l=o-1;l>0;l--){var c=n[l-1]*h;w(-c,l,o)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);var r=Math.ceil(t/(o-1));for(var i=0;i<o-1;i++){if(e>0){w(r,0,i+1)}else{w(-r,o-i-1,o)}t-=r;if(t<=0){return}}}return u}function CI(t,e,r,i){return DI(t,"x","width",e,r,i)}function AI(t,e,r,i){return DI(t,"y","height",e,r,i)}function kI(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var r=new Je(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");if(e.ignore==null){e.ignore=false}}t.ignore=true}for(var a=0;a<t.length;a++){var n=t[a];var o=n.axisAligned;var s=n.localRect;var l=n.transform;var u=n.label;var f=n.labelLine;r.copy(n.rect);r.width-=.1;r.height-=.1;r.x+=.05;r.y+=.05;var h=n.obb;var c=false;for(var v=0;v<e.length;v++){var d=e[v];if(!r.intersect(d.rect)){continue}if(o&&d.axisAligned){c=true;break}if(!d.obb){d.obb=new ac(d.localRect,d.transform)}if(!h){h=new ac(s,l)}if(h.intersect(d.obb)){c=true;break}}if(c){i(u);f&&i(f)}else{u.attr("ignore",n.defaultAttr.ignore);f&&f.attr("ignore",n.defaultAttr.labelGuideIgnore);e.push(n)}}}function LI(t){if(t){var e=[];for(var r=0;r<t.length;r++){e.push(t[r].slice())}return e}}function PI(t,e){var r=t.label;var i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:LI(i&&i.shape.points)}}var OI=["align","verticalAlign","width","height","fontSize"];var NI=new tn;var RI=Bo();var EI=Bo();function zI(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(e[a]!=null){t[a]=e[a]}}}var VI=["x","y","rotation"];var BI=function(){function t(){this._labelList=[];this._chartViewList=[]}t.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};t.prototype._addLabel=function(t,e,r,i,a){var n=i.style;var o=i.__hostTarget;var s=o.textConfig||{};var l=i.getComputedTransform();var u=i.getBoundingRect().plain();Je.applyTransform(u,u,l);if(l){NI.setLocalTransform(l)}else{NI.x=NI.y=NI.rotation=NI.originX=NI.originY=0;NI.scaleX=NI.scaleY=1}var f=i.__hostTarget;var h;if(f){h=f.getBoundingRect().plain();var c=f.getComputedTransform();Je.applyTransform(h,h,c)}var v=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:r,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:NI.x,y:NI.y,scaleX:NI.scaleX,scaleY:NI.scaleY,rotation:NI.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})};t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model;var i=r.get("labelLayout");if(!(rt(i)||$(i).length)){return}t.group.traverse((function(t){if(t.ignore){return true}var a=t.getTextContent();var n=Tu(t);if(a&&!a.disableLabelLayout){e._addLabel(n.dataIndex,n.dataType,r,a,i)}}))};t.prototype.updateLayoutConfig=function(t){var e=t.getWidth();var r=t.getHeight();function i(t,e){return function(){yI(t,e)}}for(var a=0;a<this._labelList.length;a++){var n=this._labelList[a];var o=n.label;var s=o.__hostTarget;var l=n.defaultAttr;var u=void 0;if(rt(n.layoutOption)){u=n.layoutOption(PI(n,s))}else{u=n.layoutOption}u=u||{};n.computedLayoutOption=u;var f=Math.PI/180;if(s){s.setTextConfig({local:false,position:u.x!=null||u.y!=null?null:l.attachedPos,rotation:u.rotate!=null?u.rotate*f:l.attachedRot,offset:[u.dx||0,u.dy||0]})}var h=false;if(u.x!=null){o.x=Vn(u.x,e);o.setStyle("x",0);h=true}else{o.x=l.x;o.setStyle("x",l.style.x)}if(u.y!=null){o.y=Vn(u.y,r);o.setStyle("y",0);h=true}else{o.y=l.y;o.setStyle("y",l.style.y)}if(u.labelLinePoints){var c=s.getTextGuideLine();if(c){c.setShape({points:u.labelLinePoints});h=false}}var v=RI(o);v.needsUpdateLabelLine=h;o.rotation=u.rotate!=null?u.rotate*f:l.rotation;o.scaleX=l.scaleX;o.scaleY=l.scaleY;for(var d=0;d<OI.length;d++){var p=OI[d];o.setStyle(p,u[p]!=null?u[p]:l.style[p])}if(u.draggable){o.draggable=true;o.cursor="move";if(s){var g=n.seriesModel;if(n.dataIndex!=null){var y=n.seriesModel.getData(n.dataType);g=y.getItemModel(n.dataIndex)}o.on("drag",i(s,g.getModel("labelLine")))}}else{o.off("drag");o.cursor=l.cursor}}};t.prototype.layout=function(t){var e=t.getWidth();var r=t.getHeight();var i=TI(this._labelList);var a=q(i,(function(t){return t.layoutOption.moveOverlap==="shiftX"}));var n=q(i,(function(t){return t.layoutOption.moveOverlap==="shiftY"}));CI(a,0,e);AI(n,0,r);var o=q(i,(function(t){return t.layoutOption.hideOverlap}));kI(o)};t.prototype.processLabelsOverall=function(){var t=this;X(this._chartViewList,(function(e){var r=e.__model;var i=e.ignoreLabelLineUpdate;var a=r.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation){return true}var n=!i;var o=e.getTextContent();if(!n&&o){n=RI(o).needsUpdateLabelLine}if(n){t._updateLabelLine(e,r)}if(a){t._animateLabels(e,r)}}))}))};t.prototype._updateLabelLine=function(t,e){var r=t.getTextContent();var i=Tu(t);var a=i.dataIndex;if(r&&a!=null){var n=e.getData(i.dataType);var o=n.getItemModel(a);var s={};var l=n.getItemVisual(a,"style");var u=n.getVisual("drawType");s.stroke=l[u];var f=o.getModel("labelLine");MI(t,II(o),s);yI(t,f)}};t.prototype._animateLabels=function(t,e){var r=t.getTextContent();var i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!cc(t))){var a=RI(r);var n=a.oldLayout;var o=Tu(t);var s=o.dataIndex;var l={x:r.x,y:r.y,rotation:r.rotation};var u=e.getData(o.dataType);if(!n){r.attr(l);if(!hv(r).valueAnimation){var f=pt(r.style.opacity,1);r.style.opacity=0;hc(r,{style:{opacity:f}},e,s)}}else{r.attr(n);var h=t.prevStates;if(h){if(W(h,"select")>=0){r.attr(a.oldLayoutSelect)}if(W(h,"emphasis")>=0){r.attr(a.oldLayoutEmphasis)}}fc(r,l,e,s)}a.oldLayout=l;if(r.states.select){var c=a.oldLayoutSelect={};zI(c,l,VI);zI(c,r.states.select,VI)}if(r.states.emphasis){var v=a.oldLayoutEmphasis={};zI(v,l,VI);zI(v,r.states.emphasis,VI)}vv(r,s,u,e,e)}if(i&&!i.ignore&&!i.invisible){var a=EI(i);var n=a.oldLayout;var d={points:i.shape.points};if(!n){i.setShape(d);i.style.strokePercent=0;hc(i,{style:{strokePercent:1}},e)}else{i.attr({shape:n});fc(i,{shape:d},e)}a.oldLayout=d}};return t}();var FI=Bo();function GI(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,r){var i=FI(e).labelManager;if(!i){i=FI(e).labelManager=new BI}i.clearLabels()}));t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,r){var i=FI(e).labelManager;r.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))}));i.updateLayoutConfig(e);i.layout(e);i.processLabelsOverall()}))}var WI=Math.sin;var HI=Math.cos;var YI=Math.PI;var UI=Math.PI*2;var XI=180/YI;var ZI=function(){function t(){}t.prototype.reset=function(t){this._start=true;this._d=[];this._str="";this._p=Math.pow(10,t||4)};t.prototype.moveTo=function(t,e){this._add("M",t,e)};t.prototype.lineTo=function(t,e){this._add("L",t,e)};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._add("C",t,e,r,i,a,n)};t.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)};t.prototype.arc=function(t,e,r,i,a,n){this.ellipse(t,e,r,r,0,i,a,n)};t.prototype.ellipse=function(t,e,r,i,a,n,o,s){var l=o-n;var u=!s;var f=Math.abs(l);var h=Oi(f-UI)||(u?l>=UI:-l>=UI);var c=l>0?l%UI:l%UI+UI;var v=false;if(h){v=true}else if(Oi(f)){v=false}else{v=c>=YI===!!u}var d=t+r*HI(n);var p=e+i*WI(n);if(this._start){this._add("M",d,p)}var g=Math.round(a*XI);if(h){var y=1/this._p;var m=(u?1:-1)*(UI-y);this._add("A",r,i,g,1,+u,t+r*HI(n+m),e+i*WI(n+m));if(y>.01){this._add("A",r,i,g,0,+u,d,p)}}else{var _=t+r*HI(o);var x=e+i*WI(o);this._add("A",r,i,g,+v,+u,_,x)}};t.prototype.rect=function(t,e,r,i){this._add("M",t,e);this._add("l",r,0);this._add("l",0,i);this._add("l",-r,0);this._add("Z")};t.prototype.closePath=function(){if(this._d.length>0){this._add("Z")}};t.prototype._add=function(t,e,r,i,a,n,o,s,l){var u=[];var f=this._p;for(var h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c)){this._invalid=true;return}u.push(Math.round(c*f)/f)}this._d.push(t+u.join(" "));this._start=t==="Z"};t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join("");this._d=[]};t.prototype.getStr=function(){return this._str};return t}();var jI="none";var qI=Math.round;function KI(t){var e=t.fill;return e!=null&&e!==jI}function $I(t){var e=t.stroke;return e!=null&&e!==jI}var JI=["lineCap","miterLimit","lineJoin"];var QI=Z(JI,(function(t){return"stroke-"+t.toLowerCase()}));function tT(t,e,r,i){var a=e.opacity==null?1:e.opacity;if(r instanceof tu){t("opacity",a);return}if(KI(e)){var n=Li(e.fill);t("fill",n.color);var o=e.fillOpacity!=null?e.fillOpacity*n.opacity*a:n.opacity*a;if(i||o<1){t("fill-opacity",o)}}else{t("fill",jI)}if($I(e)){var s=Li(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?r.getLineScale():1;var u=l?(e.lineWidth||0)/l:0;var f=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*a:s.opacity*a;var h=e.strokeFirst;if(i||u!==1){t("stroke-width",u)}if(i||h){t("paint-order",h?"stroke":"fill")}if(i||f<1){t("stroke-opacity",f)}if(e.lineDash){var c=Y_(r),v=c[0],d=c[1];if(v){d=qI(d||0);t("stroke-dasharray",v.join(","));if(d||i){t("stroke-dashoffset",d)}}}else if(i){t("stroke-dasharray",jI)}for(var p=0;p<JI.length;p++){var g=JI[p];if(i||e[g]!==Ul[g]){var y=e[g]||Ul[g];y&&t(QI[p],y)}}}else if(i){t("stroke",jI)}}var eT="http://www.w3.org/2000/svg";var rT="http://www.w3.org/1999/xlink";var iT="http://www.w3.org/2000/xmlns/";var aT="http://www.w3.org/XML/1998/namespace";function nT(t){return document.createElementNS(eT,t)}function oT(t,e,r,i,a){return{tag:t,attrs:r||{},children:i,text:a,key:e}}function sT(t,e){var r=[];if(e){for(var i in e){var a=e[i];var n=i;if(a===false){continue}else if(a!==true&&a!=null){n+='="'+a+'"'}r.push(n)}}return"<"+t+" "+r.join(" ")+">"}function lT(t){return"</"+t+">"}function uT(t,e){e=e||{};var r=e.newline?"\n":"";function i(t){var e=t.children,a=t.tag,n=t.attrs;return sT(a,n)+ye(t.text)+(e?""+r+Z(e,(function(t){return i(t)})).join(r)+r:"")+lT(a)}return i(t)}function fT(t,e,r){r=r||{};var i=r.newline?"\n":"";var a=" {"+i;var n=i+"}";var o=Z($(t),(function(e){return e+a+Z($(t[e]),(function(r){return r+":"+t[e][r]+";"})).join(i)+n})).join(i);var s=Z($(e),(function(t){return"@keyframes "+t+a+Z($(e[t]),(function(r){return r+a+Z($(e[t][r]),(function(i){var a=e[t][r][i];if(i==="d"){a='path("'+a+'")'}return i+":"+a+";"})).join(i)+n})).join(i)+n})).join(i);if(!o&&!s){return""}return["<![CDATA[",o,s,"]]>"].join(i)}function hT(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function cT(t,e,r,i){return oT("svg","root",{width:t,height:e,xmlns:eT,"xmlns:xlink":rT,version:"1.1",baseProfile:"full",viewBox:i?"0 0 "+t+" "+e:false},r)}var vT={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};var dT="transform-origin";function pT(t,e,r){var i=F({},t.shape);F(i,e);t.buildPath(r,i);var a=new ZI;a.reset(ji(t));r.rebuildPath(a,1);a.generateStr();return a.getStr()}function gT(t,e){var r=e.originX,i=e.originY;if(r||i){t[dT]=r+"px "+i+"px"}}var yT={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function mT(t,e){var r=e.zrId+"-ani-"+e.cssAnimIdx++;e.cssAnims[r]=t;return r}function _T(t,e,r){var i=t.shape.paths;var a={};var n;var o;X(i,(function(t){var e=hT(r.zrId);e.animation=true;wT(t,{},e,true);var i=e.cssAnims;var s=e.cssNodes;var l=$(i);var u=l.length;if(!u){return}o=l[u-1];var f=i[o];for(var h in f){var c=f[h];a[h]=a[h]||{d:""};a[h].d+=c.d||""}for(var v in s){var d=s[v].animation;if(d.indexOf(o)>=0){n=d}}}));if(!n){return}e.d=false;var s=mT(a,r);return n.replace(o,s)}function xT(t){return it(t)?vT[t]?"cubic-bezier("+vT[t]+")":ri(t)?t:"":""}function wT(t,e,r,i){var a=t.animators;var n=a.length;var o=[];if(t instanceof Kh){var s=_T(t,e,r);if(s){o.push(s)}else if(!n){return}}else if(!n){return}var l={};for(var u=0;u<n;u++){var f=a[u];var h=[f.getMaxTime()/1e3+"s"];var c=xT(f.getClip().easing);var v=f.getDelay();if(c){h.push(c)}else{h.push("linear")}if(v){h.push(v/1e3+"s")}if(f.getLoop()){h.push("infinite")}var d=h.join(" ");l[d]=l[d]||[d,[]];l[d][1].push(f)}function p(a){var n=a[1];var o=n.length;var s={};var l={};var u={};var f="animation-timing-function";function h(t,e,r){var i=t.getTracks();var a=t.getMaxTime();for(var n=0;n<i.length;n++){var o=i[n];if(o.needsAnimate()){var s=o.keyframes;var l=o.propName;r&&(l=r(l));if(l){for(var u=0;u<s.length;u++){var h=s[u];var c=Math.round(h.time/a*100)+"%";var v=xT(h.easing);var d=h.rawValue;if(it(d)||nt(d)){e[c]=e[c]||{};e[c][l]=h.rawValue;if(v){e[c][f]=v}}}}}}}for(var c=0;c<o;c++){var v=n[c];var d=v.targetName;if(!d){!i&&h(v,s)}else if(d==="shape"){h(v,l)}}for(var p in s){var g={};rn(g,t);F(g,s[p]);var y=qi(g);var m=s[p][f];u[p]=y?{transform:y}:{};gT(u[p],g);if(m){u[p][f]=m}}var _;var x=true;for(var p in l){u[p]=u[p]||{};var w=!_;var m=l[p][f];if(w){_=new Sl}var b=_.len();_.reset();u[p].d=pT(t,l[p],_);var S=_.len();if(!w&&b!==S){x=false;break}if(m){u[p][f]=m}}if(!x){for(var p in u){delete u[p].d}}if(!i){for(var c=0;c<o;c++){var v=n[c];var d=v.targetName;if(d==="style"){h(v,u,(function(t){return yT[t]}))}}}var M=$(u);var I=true;var T;for(var c=1;c<M.length;c++){var D=M[c-1];var C=M[c];if(u[D][dT]!==u[C][dT]){I=false;break}T=u[D][dT]}if(I&&T){for(var p in u){if(u[p][dT]){delete u[p][dT]}}e[dT]=T}if(q(M,(function(t){return $(u[t]).length>0})).length){var A=mT(u,r);return A+" "+a[0]+" both"}}for(var g in l){var s=p(l[g]);if(s){o.push(s)}}if(o.length){var y=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+y]={animation:o.join(",")};e["class"]=y}}var bT=Math.round;function ST(t){return t&&it(t.src)}function MT(t){return t&&rt(t.toDataURL)}function IT(t,e,r,i){tT((function(a,n){var o=a==="fill"||a==="stroke";if(o&&Xi(n)){BT(e,t,a,i)}else if(o&&Hi(n)){FT(r,t,a,i)}else{t[a]=n}}),e,r,false);VT(r,t,i)}function TT(t){return Oi(t[0]-1)&&Oi(t[1])&&Oi(t[2])&&Oi(t[3]-1)}function DT(t){return Oi(t[4])&&Oi(t[5])}function CT(t,e,r){if(e&&!(DT(e)&&TT(e))){var i=r?10:1e4;t.transform=TT(e)?"translate("+bT(e[4]*i)/i+" "+bT(e[5]*i)/i+")":Ei(e)}}function AT(t,e,r){var i=t.points;var a=[];for(var n=0;n<i.length;n++){a.push(bT(i[n][0]*r)/r);a.push(bT(i[n][1]*r)/r)}e.points=a.join(" ")}function kT(t){return!t.smooth}function LT(t){var e=Z(t,(function(t){return typeof t==="string"?[t,t]:t}));return function(t,r,i){for(var a=0;a<e.length;a++){var n=e[a];var o=t[n[0]];if(o!=null){r[n[1]]=bT(o*i)/i}}}}var PT={circle:[LT(["cx","cy","r"])],polyline:[AT,kT],polygon:[AT,kT]};function OT(t){var e=t.animators;for(var r=0;r<e.length;r++){if(e[r].targetName==="shape"){return true}}return false}function NT(t,e){var r=t.style;var i=t.shape;var a=PT[t.type];var n={};var o=e.animation;var s="path";var l=t.style.strokePercent;var u=e.compress&&ji(t)||4;if(a&&!e.willUpdate&&!(a[1]&&!a[1](i))&&!(o&&OT(t))&&!(l<1)){s=t.type;var f=Math.pow(10,u);a[0](i,n,f)}else{var h=!t.path||t.shapeChanged();if(!t.path){t.createPathProxy()}var c=t.path;if(h){c.beginPath();t.buildPath(c,t.shape);t.pathUpdated()}var v=c.getVersion();var d=t;var p=d.__svgPathBuilder;if(d.__svgPathVersion!==v||!p||l!==d.__svgPathStrokePercent){if(!p){p=d.__svgPathBuilder=new ZI}p.reset(u);c.rebuildPath(p,l);p.generateStr();d.__svgPathVersion=v;d.__svgPathStrokePercent=l}n.d=p.getStr()}CT(n,t.transform);IT(n,r,t,e);e.animation&&wT(t,n,e);return oT(s,t.id+"",n)}function RT(t,e){var r=t.style;var i=r.image;if(i&&!it(i)){if(ST(i)){i=i.src}else if(MT(i)){i=i.toDataURL()}}if(!i){return}var a=r.x||0;var n=r.y||0;var o=r.width;var s=r.height;var l={href:i,width:o,height:s};if(a){l.x=a}if(n){l.y=n}CT(l,t.transform);IT(l,r,t,e);e.animation&&wT(t,l,e);return oT("image",t.id+"",l)}function ET(t,e){var r=t.style;var i=r.text;i!=null&&(i+="");if(!i||isNaN(r.x)||isNaN(r.y)){return}var a=r.font||g;var n=r.x||0;var o=Vi(r.y||0,fn(a),r.textBaseline);var s=zi[r.textAlign]||r.textAlign;var l={"dominant-baseline":"central","text-anchor":s};if(mu(r)){var u="";var f=r.fontStyle;var h=gu(r.fontSize);if(!parseFloat(h)){return}var c=r.fontFamily||p;var v=r.fontWeight;u+="font-size:"+h+";font-family:"+c+";";if(f&&f!=="normal"){u+="font-style:"+f+";"}if(v&&v!=="normal"){u+="font-weight:"+v+";"}l.style=u}else{l.style="font: "+a}if(i.match(/\s/)){l["xml:space"]="preserve"}if(n){l.x=n}if(o){l.y=o}CT(l,t.transform);IT(l,r,t,e);e.animation&&wT(t,l,e);return oT("text",t.id+"",l,undefined,i)}function zT(t,e){if(t instanceof jl){return NT(t,e)}else if(t instanceof tu){return RT(t,e)}else if(t instanceof Kl){return ET(t,e)}}function VT(t,e,r){var i=t.style;if(Bi(i)){var a=Fi(t);var n=r.shadowCache;var o=n[a];if(!o){var s=t.getGlobalScale();var l=s[0];var u=s[1];if(!l||!u){return}var f=i.shadowOffsetX||0;var h=i.shadowOffsetY||0;var c=i.shadowBlur;var v=Li(i.shadowColor),d=v.opacity,p=v.color;var g=c/2/l;var y=c/2/u;var m=g+" "+y;o=r.zrId+"-s"+r.shadowIdx++;r.defs[o]=oT("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oT("feDropShadow","",{dx:f/l,dy:h/u,stdDeviation:m,"flood-color":p,"flood-opacity":d})]);n[a]=o}e.filter=Zi(o)}}function BT(t,e,r,i){var a=t[r];var n;var o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Yi(a)){n="linearGradient";o.x1=a.x;o.y1=a.y;o.x2=a.x2;o.y2=a.y2}else if(Ui(a)){n="radialGradient";o.cx=pt(a.x,.5);o.cy=pt(a.y,.5);o.r=pt(a.r,.5)}else{return}var s=a.colorStops;var l=[];for(var u=0,f=s.length;u<f;++u){var h=Ri(s[u].offset)*100+"%";var c=s[u].color;var v=Li(c),d=v.color,p=v.opacity;var g={offset:h};g["stop-color"]=d;if(p<1){g["stop-opacity"]=p}l.push(oT("stop",u+"",g))}var y=oT(n,"",o,l);var m=uT(y);var _=i.gradientCache;var x=_[m];if(!x){x=i.zrId+"-g"+i.gradientIdx++;_[m]=x;o.id=x;i.defs[x]=oT(n,x,o,l)}e[r]=Zi(x)}function FT(t,e,r,i){var a=t.style[r];var n=t.getBoundingRect();var o={};var s=a.repeat;var l=s==="no-repeat";var u=s==="repeat-x";var f=s==="repeat-y";var h;if(Gi(a)){var c=a.imageWidth;var v=a.imageHeight;var d=void 0;var p=a.image;if(it(p)){d=p}else if(ST(p)){d=p.src}else if(MT(p)){d=p.toDataURL()}if(typeof Image==="undefined"){var g="Image width/height must been given explictly in svg-ssr renderer.";_t(c,g);_t(v,g)}else if(c==null||v==null){var y=function(t,e){if(t){var r=t.elm;var i=c||e.width;var a=v||e.height;if(t.tag==="pattern"){if(u){a=1;i/=n.width}else if(f){i=1;a/=n.height}}t.attrs.width=i;t.attrs.height=a;if(r){r.setAttribute("width",i);r.setAttribute("height",a)}}};var m=ys(d,null,t,(function(t){l||y(b,t);y(h,t)}));if(m&&m.width&&m.height){c=c||m.width;v=v||m.height}}h=oT("image","img",{href:d,width:c,height:v});o.width=c;o.height=v}else if(a.svgElement){h=z(a.svgElement);o.width=a.svgWidth;o.height=a.svgHeight}if(!h){return}var _;var x;if(l){_=x=1}else if(u){x=1;_=o.width/n.width}else if(f){_=1;x=o.height/n.height}else{o.patternUnits="userSpaceOnUse"}if(_!=null&&!isNaN(_)){o.width=_}if(x!=null&&!isNaN(x)){o.height=x}var w=qi(a);w&&(o.patternTransform=w);var b=oT("pattern","",o,[h]);var S=uT(b);var M=i.patternCache;var I=M[S];if(!I){I=i.zrId+"-p"+i.patternIdx++;M[S]=I;o.id=I;b=i.defs[I]=oT("pattern",I,o,[h])}e[r]=Zi(I)}function GT(t,e,r){var i=r.clipPathCache,a=r.defs;var n=i[t.id];if(!n){n=r.zrId+"-c"+r.clipPathIdx++;var o={id:n};i[t.id]=n;a[n]=oT("clipPath",n,o,[NT(t,r)])}e["clip-path"]=Zi(n)}function WT(t){return document.createTextNode(t)}function HT(t,e,r){t.insertBefore(e,r)}function YT(t,e){t.removeChild(e)}function UT(t,e){t.appendChild(e)}function XT(t){return t.parentNode}function ZT(t){return t.nextSibling}function jT(t,e){t.textContent=e}var qT=58;var KT=120;var $T=oT("","");function JT(t){return t===undefined}function QT(t){return t!==undefined}function tD(t,e,r){var i={};for(var a=e;a<=r;++a){var n=t[a].key;if(n!==undefined){i[n]=a}}return i}function eD(t,e){var r=t.key===e.key;var i=t.tag===e.tag;return i&&r}function rD(t){var e;var r=t.children;var i=t.tag;if(QT(i)){var a=t.elm=nT(i);nD($T,t);if(et(r)){for(e=0;e<r.length;++e){var n=r[e];if(n!=null){UT(a,rD(n))}}}else if(QT(t.text)&&!ot(t.text)){UT(a,WT(t.text))}}else{t.elm=WT(t.text)}return t.elm}function iD(t,e,r,i,a){for(;i<=a;++i){var n=r[i];if(n!=null){HT(t,rD(n),e)}}}function aD(t,e,r,i){for(;r<=i;++r){var a=e[r];if(a!=null){if(QT(a.tag)){var n=XT(a.elm);YT(n,a.elm)}else{YT(t,a.elm)}}}}function nD(t,e){var r;var i=e.elm;var a=t&&t.attrs||{};var n=e.attrs||{};if(a===n){return}for(r in n){var o=n[r];var s=a[r];if(s!==o){if(o===true){i.setAttribute(r,"")}else if(o===false){i.removeAttribute(r)}else{if(r.charCodeAt(0)!==KT){i.setAttribute(r,o)}else if(r==="xmlns:xlink"||r==="xmlns"){i.setAttributeNS(iT,r,o)}else if(r.charCodeAt(3)===qT){i.setAttributeNS(aT,r,o)}else if(r.charCodeAt(5)===qT){i.setAttributeNS(rT,r,o)}else{i.setAttribute(r,o)}}}}for(r in a){if(!(r in n)){i.removeAttribute(r)}}}function oD(t,e,r){var i=0;var a=0;var n=e.length-1;var o=e[0];var s=e[n];var l=r.length-1;var u=r[0];var f=r[l];var h;var c;var v;var d;while(i<=n&&a<=l){if(o==null){o=e[++i]}else if(s==null){s=e[--n]}else if(u==null){u=r[++a]}else if(f==null){f=r[--l]}else if(eD(o,u)){sD(o,u);o=e[++i];u=r[++a]}else if(eD(s,f)){sD(s,f);s=e[--n];f=r[--l]}else if(eD(o,f)){sD(o,f);HT(t,o.elm,ZT(s.elm));o=e[++i];f=r[--l]}else if(eD(s,u)){sD(s,u);HT(t,s.elm,o.elm);s=e[--n];u=r[++a]}else{if(JT(h)){h=tD(e,i,n)}c=h[u.key];if(JT(c)){HT(t,rD(u),o.elm)}else{v=e[c];if(v.tag!==u.tag){HT(t,rD(u),o.elm)}else{sD(v,u);e[c]=undefined;HT(t,v.elm,o.elm)}}u=r[++a]}}if(i<=n||a<=l){if(i>n){d=r[l+1]==null?null:r[l+1].elm;iD(t,d,r,a,l)}else{aD(t,e,i,n)}}}function sD(t,e){var r=e.elm=t.elm;var i=t.children;var a=e.children;if(t===e){return}nD(t,e);if(JT(e.text)){if(QT(i)&&QT(a)){if(i!==a){oD(r,i,a)}}else if(QT(a)){if(QT(t.text)){jT(r,"")}iD(r,null,a,0,a.length-1)}else if(QT(i)){aD(r,i,0,i.length-1)}else if(QT(t.text)){jT(r,"")}}else if(t.text!==e.text){if(QT(i)){aD(r,i,0,i.length-1)}jT(r,e.text)}}function lD(t,e){if(eD(t,e)){sD(t,e)}else{var r=t.elm;var i=XT(r);rD(e);if(i!==null){HT(i,e.elm,ZT(r));aD(i,[t],0,0)}}return e}var uD=0;var fD=function(){function t(t,e,r){this.type="svg";this.refreshHover=hD();this.configLayer=hD();this.storage=e;this._opts=r=F({},r);this.root=t;this._id="zr"+uD++;this._oldVNode=cT(r.width,r.height);if(t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=nT("svg");nD(null,this._oldVNode);i.appendChild(a);t.appendChild(i)}this.resize(r.width,r.height)}t.prototype.getType=function(){return this.type};t.prototype.getViewportRoot=function(){return this._viewport};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.getSvgDom=function(){return this._svgDom};t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:true});t.attrs.style="position:absolute;left:0;top:0;user-select:none";lD(this._oldVNode,t);this._oldVNode=t}};t.prototype.renderOneToVNode=function(t){return zT(t,hT(this._id))};t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(true);var r=this._width;var i=this._height;var a=hT(this._id);a.animation=t.animation;a.willUpdate=t.willUpdate;a.compress=t.compress;var n=[];var o=this._bgVNode=cD(r,i,this._backgroundColor,a);o&&n.push(o);var s=!t.compress?this._mainVNode=oT("g","main",{},[]):null;this._paintList(e,a,s?s.children:n);s&&n.push(s);var l=Z($(a.defs),(function(t){return a.defs[t]}));if(l.length){n.push(oT("defs","defs",{},l))}if(t.animation){var u=fT(a.cssNodes,a.cssAnims,{newline:true});if(u){var f=oT("style","stl",{},[],u);n.push(f)}}return cT(r,i,n,t.useViewBox)};t.prototype.renderToString=function(t){t=t||{};return uT(this.renderToVNode({animation:pt(t.cssAnimation,true),willUpdate:false,compress:true,useViewBox:pt(t.useViewBox,true)}),{newline:true})};t.prototype.setBackgroundColor=function(t){this._backgroundColor=t};t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm};t.prototype._paintList=function(t,e,r){var i=t.length;var a=[];var n=0;var o;var s;var l=0;for(var u=0;u<i;u++){var f=t[u];if(!f.invisible){var h=f.__clipPaths;var c=h&&h.length||0;var v=s&&s.length||0;var d=void 0;for(d=Math.max(c-1,v-1);d>=0;d--){if(h&&s&&h[d]===s[d]){break}}for(var p=v-1;p>d;p--){n--;o=a[n-1]}for(var g=d+1;g<c;g++){var y={};GT(h[g],y,e);var m=oT("g","clip-g-"+l++,y,[]);(o?o.children:r).push(m);a[n++]=m;o=m}s=h;var _=zT(f,e);if(_){(o?o.children:r).push(_)}}}};t.prototype.resize=function(t,e){var r=this._opts;var i=this.root;var a=this._viewport;t!=null&&(r.width=t);e!=null&&(r.height=e);if(i&&a){a.style.display="none";t=W_(i,0,r);e=W_(i,1,r);a.style.display=""}if(this._width!==t||this._height!==e){this._width=t;this._height=e;if(a){var n=a.style;n.width=t+"px";n.height=e+"px"}if(!Hi(this._backgroundColor)){var o=this._svgDom;if(o){o.setAttribute("width",t);o.setAttribute("height",e)}var s=this._bgVNode&&this._bgVNode.elm;if(s){s.setAttribute("width",t);s.setAttribute("height",e)}}else{this.refresh()}}};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};t.prototype.dispose=function(){if(this.root){this.root.innerHTML=""}this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null};t.prototype.clear=function(){if(this._svgDom){this._svgDom.innerHTML=null}this._oldVNode=null};t.prototype.toDataURL=function(t){var e=this.renderToString();var r="data:image/svg+xml;";if(t){e=Ki(e);return e&&r+"base64,"+e}return r+"charset=UTF-8,"+encodeURIComponent(e)};return t}();function hD(t){return function(){}}function cD(t,e,r,i){var a;if(r&&r!=="none"){a=oT("rect","bg",{width:t,height:e,x:"0",y:"0",id:"0"});if(Xi(r)){BT({fill:r},a.attrs,"fill",i)}else if(Hi(r)){FT({style:{fill:r},dirty:Ot,getBoundingRect:function(){return{width:t,height:e}}},a.attrs,"fill",i)}else{var n=Li(r),o=n.color,s=n.opacity;a.attrs.fill=o;s<1&&(a.attrs["fill-opacity"]=s)}}return a}function vD(t){t.registerPainter("svg",fD)}function dD(t,e,r){var i=b.createCanvas();var a=e.getWidth();var n=e.getHeight();var o=i.style;if(o){o.position="absolute";o.left="0";o.top="0";o.width=a+"px";o.height=n+"px";i.setAttribute("data-zr-dom-id",t)}i.width=a*r;i.height=n*r;return i}var pD=function(t){Et(e,t);function e(e,r,i){var a=t.call(this)||this;a.motionBlur=false;a.lastFrameAlpha=.7;a.dpr=1;a.virtual=false;a.config={};a.incremental=false;a.zlevel=0;a.maxRepaintRectCount=5;a.__dirty=true;a.__firstTimePaint=true;a.__used=false;a.__drawIndex=0;a.__startIndex=0;a.__endIndex=0;a.__prevStartIndex=null;a.__prevEndIndex=null;var n;i=i||Wa;if(typeof e==="string"){n=dD(e,r,i)}else if(ot(e)){n=e;e=n.id}a.id=e;a.dom=n;var o=n.style;if(o){Lt(n);n.onselectstart=function(){return false};o.padding="0";o.margin="0";o.borderWidth="0"}a.painter=r;a.dpr=i;return a}e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex};e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex;this.__prevEndIndex=this.__endIndex};e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr};e.prototype.setUnpainted=function(){this.__firstTimePaint=true};e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=dD("back-"+this.id,this.painter,t);this.ctxBack=this.domBack.getContext("2d");if(t!==1){this.ctxBack.scale(t,t)}};e.prototype.createRepaintRects=function(t,e,r,i){if(this.__firstTimePaint){this.__firstTimePaint=false;return null}var a=[];var n=this.maxRepaintRectCount;var o=false;var s=new Je(0,0,0,0);function l(t){if(!t.isFinite()||t.isZero()){return}if(a.length===0){var e=new Je(0,0,0,0);e.copy(t);a.push(e)}else{var r=false;var i=Infinity;var l=0;for(var u=0;u<a.length;++u){var f=a[u];if(f.intersect(t)){var h=new Je(0,0,0,0);h.copy(f);h.union(t);a[u]=h;r=true;break}else if(o){s.copy(t);s.union(f);var c=t.width*t.height;var v=f.width*f.height;var d=s.width*s.height;var p=d-c-v;if(p<i){i=p;l=u}}}if(o){a[l].union(t);r=true}if(!r){var e=new Je(0,0,0,0);e.copy(t);a.push(e)}if(!o){o=a.length>=n}}}for(var u=this.__startIndex;u<this.__endIndex;++u){var f=t[u];if(f){var h=f.shouldBePainted(r,i,true,true);var c=f.__isRendered&&(f.__dirty&xr||!h)?f.getPrevPaintRect():null;if(c){l(c)}var v=h&&(f.__dirty&xr||!f.__isRendered)?f.getPaintRect():null;if(v){l(v)}}}for(var u=this.__prevStartIndex;u<this.__prevEndIndex;++u){var f=e[u];var h=f.shouldBePainted(r,i,true,true);if(f&&(!h||!f.__zr)&&f.__isRendered){var c=f.getPrevPaintRect();if(c){l(c)}}}var d;do{d=false;for(var u=0;u<a.length;){if(a[u].isZero()){a.splice(u,1);continue}for(var p=u+1;p<a.length;){if(a[u].intersect(a[p])){d=true;a[u].union(a[p]);a.splice(p,1)}else{p++}}u++}}while(d);this._paintRects=a;return a};e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()};e.prototype.resize=function(t,e){var r=this.dpr;var i=this.dom;var a=i.style;var n=this.domBack;if(a){a.width=t+"px";a.height=e+"px"}i.width=t*r;i.height=e*r;if(n){n.width=t*r;n.height=e*r;if(r!==1){this.ctxBack.scale(r,r)}}};e.prototype.clear=function(t,e,r){var i=this.dom;var a=this.ctx;var n=i.width;var o=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t;var l=this.lastFrameAlpha;var u=this.dpr;var f=this;if(s){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(i,0,0,n/u,o/u)}var h=this.domBack;function c(t,r,i,n){a.clearRect(t,r,i,n);if(e&&e!=="transparent"){var o=void 0;if(ft(e)){var c=e.global||e.__width===i&&e.__height===n;o=c&&e.__canvasGradient||B_(a,e,{x:0,y:0,width:i,height:n});e.__canvasGradient=o;e.__width=i;e.__height=n}else if(ht(e)){e.scaleX=e.scaleX||u;e.scaleY=e.scaleY||u;o=$_(a,e,{dirty:function(){f.setUnpainted();f.__painter.refresh()}})}a.save();a.fillStyle=o||e;a.fillRect(t,r,i,n);a.restore()}if(s){a.save();a.globalAlpha=l;a.drawImage(h,t,r,i,n);a.restore()}}if(!r||s){c(0,0,n,o)}else if(r.length){X(r,(function(t){c(t.x*u,t.y*u,t.width*u,t.height*u)}))}};return e}(ae);var gD=1e5;var yD=314159;var mD=.01;var _D=.001;function xD(t){if(!t){return false}if(t.__builtin__){return true}if(typeof t.resize!=="function"||typeof t.refresh!=="function"){return false}return true}function wD(t,e){var r=document.createElement("div");r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";";return r}var bD=function(){function t(t,e,r,i){this.type="canvas";this._zlevelList=[];this._prevDisplayList=[];this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=F({},r||{});this.dpr=r.devicePixelRatio||Wa;this._singleCanvas=a;this.root=t;var n=t.style;if(n){Lt(t);t.innerHTML=""}this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(!a){this._width=W_(t,0,r);this._height=W_(t,1,r);var l=this._domRoot=wD(this._width,this._height);t.appendChild(l)}else{var u=t;var f=u.width;var h=u.height;if(r.width!=null){f=r.width}if(r.height!=null){h=r.height}this.dpr=r.devicePixelRatio||1;u.width=f*this.dpr;u.height=h*this.dpr;this._width=f;this._height=h;var c=new pD(u,this,this.dpr);c.__builtin__=true;c.initContext();s[yD]=c;c.zlevel=yD;o.push(yD);this._domRoot=t}}t.prototype.getType=function(){return"canvas"};t.prototype.isSingleCanvas=function(){return this._singleCanvas};t.prototype.getViewportRoot=function(){return this._domRoot};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.refresh=function(t){var e=this.storage.getDisplayList(true);var r=this._prevDisplayList;var i=this._zlevelList;this._redrawId=Math.random();this._paintList(e,r,t,this._redrawId);for(var a=0;a<i.length;a++){var n=i[a];var o=this._layers[n];if(!o.__builtin__&&o.refresh){var s=a===0?this._backgroundColor:null;o.refresh(s)}}if(this._opts.useDirtyRect){this._prevDisplayList=e.slice()}return this};t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(false))};t.prototype._paintHoverList=function(t){var e=t.length;var r=this._hoverlayer;r&&r.clear();if(!e){return}var i={inHover:true,viewWidth:this._width,viewHeight:this._height};var a;for(var n=0;n<e;n++){var o=t[n];if(o.__inHover){if(!r){r=this._hoverlayer=this.getLayer(gD)}if(!a){a=r.ctx;a.save()}yx(a,o,i,n===e-1)}}if(a){a.restore()}};t.prototype.getHoverLayer=function(){return this.getLayer(gD)};t.prototype.paintOne=function(t,e){gx(t,e)};t.prototype._paintList=function(t,e,r,i){if(this._redrawId!==i){return}r=r||false;this._updateLayerStatus(t);var a=this._doPaintList(t,e,r),n=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing){this._compositeManually()}if(o){this._paintHoverList(t)}if(!n){var s=this;Cr((function(){s._paintList(t,e,r,i)}))}else{this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}))}};t.prototype._compositeManually=function(){var t=this.getLayer(yD).ctx;var e=this._domRoot.width;var r=this._domRoot.height;t.clearRect(0,0,e,r);this.eachBuiltinLayer((function(i){if(i.virtual){t.drawImage(i.dom,0,0,e,r)}}))};t.prototype._doPaintList=function(t,e,r){var i=this;var a=[];var n=this._opts.useDirtyRect;for(var o=0;o<this._zlevelList.length;o++){var s=this._zlevelList[o];var l=this._layers[s];if(l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||r)){a.push(l)}}var u=true;var f=false;var h=function(o){var s=a[o];var l=s.ctx;var h=n&&s.createRepaintRects(t,e,v._width,v._height);var c=r?s.__startIndex:s.__drawIndex;var d=!r&&s.incremental&&Date.now;var p=d&&Date.now();var g=s.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(s.__startIndex===s.__endIndex){s.clear(false,g,h)}else if(c===s.__startIndex){var y=t[c];if(!y.incremental||!y.notClear||r){s.clear(false,g,h)}}if(c===-1){console.error("For some unknown reason. drawIndex is -1");c=s.__startIndex}var m;var _=function(e){var r={inHover:false,allClipped:false,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(m=c;m<s.__endIndex;m++){var a=t[m];if(a.__inHover){f=true}i._doPaintEl(a,s,n,e,r,m===s.__endIndex-1);if(d){var o=Date.now()-p;if(o>15){break}}}if(r.prevElClipPaths){l.restore()}};if(h){if(h.length===0){m=s.__endIndex}else{var x=v.dpr;for(var w=0;w<h.length;++w){var b=h[w];l.save();l.beginPath();l.rect(b.x*x,b.y*x,b.width*x,b.height*x);l.clip();_(b);l.restore()}}}else{l.save();_();l.restore()}s.__drawIndex=m;if(s.__drawIndex<s.__endIndex){u=false}};var v=this;for(var d=0;d<a.length;d++){h(d)}if(c.wxa){X(this._layers,(function(t){if(t&&t.ctx&&t.ctx.draw){t.ctx.draw()}}))}return{finished:u,needsRefreshHover:f}};t.prototype._doPaintEl=function(t,e,r,i,a,n){var o=e.ctx;if(r){var s=t.getPaintRect();if(!i||s&&s.intersect(i)){yx(o,t,a,n);t.setPrevPaintRect(s)}}else{yx(o,t,a,n)}};t.prototype.getLayer=function(t,e){if(this._singleCanvas&&!this._needsManuallyCompositing){t=yD}var r=this._layers[t];if(!r){r=new pD("zr_"+t,this,this.dpr);r.zlevel=t;r.__builtin__=true;if(this._layerConfig[t]){V(r,this._layerConfig[t],true)}else if(this._layerConfig[t-mD]){V(r,this._layerConfig[t-mD],true)}if(e){r.virtual=e}this.insertLayer(t,r);r.initContext()}return r};t.prototype.insertLayer=function(t,e){var r=this._layers;var i=this._zlevelList;var a=i.length;var n=this._domRoot;var o=null;var s=-1;if(r[t]){return}if(!xD(e)){return}if(a>0&&t>i[0]){for(s=0;s<a-1;s++){if(i[s]<t&&i[s+1]>t){break}}o=r[i[s]]}i.splice(s+1,0,t);r[t]=e;if(!e.virtual){if(o){var l=o.dom;if(l.nextSibling){n.insertBefore(e.dom,l.nextSibling)}else{n.appendChild(e.dom)}}else{if(n.firstChild){n.insertBefore(e.dom,n.firstChild)}else{n.appendChild(e.dom)}}}e.__painter=this};t.prototype.eachLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,this._layers[a],a)}};t.prototype.eachBuiltinLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(n.__builtin__){t.call(e,n,a)}}};t.prototype.eachOtherLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(!n.__builtin__){t.call(e,n,a)}}};t.prototype.getLayers=function(){return this._layers};t.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=false}));function e(t){if(a){if(a.__endIndex!==t){a.__dirty=true}a.__endIndex=t}}if(this._singleCanvas){for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=true;break}}}var a=null;var n=0;var o;var s;for(s=0;s<t.length;s++){var i=t[s];var l=i.zlevel;var u=void 0;if(o!==l){o=l;n=0}if(i.incremental){u=this.getLayer(l+_D,this._needsManuallyCompositing);u.incremental=true;n=1}else{u=this.getLayer(l+(n>0?mD:0),this._needsManuallyCompositing)}if(!u.__builtin__){E("ZLevel "+l+" has been used by unkown layer "+u.id)}if(u!==a){u.__used=true;if(u.__startIndex!==s){u.__dirty=true}u.__startIndex=s;if(!u.incremental){u.__drawIndex=s}else{u.__drawIndex=-1}e(s);a=u}if(i.__dirty&xr&&!i.__inHover){u.__dirty=true;if(u.incremental&&u.__drawIndex<0){u.__drawIndex=s}}}e(s);this.eachBuiltinLayer((function(t,e){if(!t.__used&&t.getElementCount()>0){t.__dirty=true;t.__startIndex=t.__endIndex=t.__drawIndex=0}if(t.__dirty&&t.__drawIndex<0){t.__drawIndex=t.__startIndex}}))};t.prototype.clear=function(){this.eachBuiltinLayer(this._clearLayer);return this};t.prototype._clearLayer=function(t){t.clear()};t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;X(this._layers,(function(t){t.setUnpainted()}))};t.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;if(!r[t]){r[t]=e}else{V(r[t],e,true)}for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+mD){var n=this._layers[a];V(n,r[t],true)}}}};t.prototype.delLayer=function(t){var e=this._layers;var r=this._zlevelList;var i=e[t];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete e[t];r.splice(W(r,t),1)};t.prototype.resize=function(t,e){if(!this._domRoot.style){if(t==null||e==null){return}this._width=t;this._height=e;this.getLayer(yD).resize(t,e)}else{var r=this._domRoot;r.style.display="none";var i=this._opts;var a=this.root;t!=null&&(i.width=t);e!=null&&(i.height=e);t=W_(a,0,i);e=W_(a,1,i);r.style.display="";if(this._width!==t||e!==this._height){r.style.width=t+"px";r.style.height=e+"px";for(var n in this._layers){if(this._layers.hasOwnProperty(n)){this._layers[n].resize(t,e)}}this.refresh(true)}this._width=t;this._height=e}return this};t.prototype.clearLayer=function(t){var e=this._layers[t];if(e){e.clear()}};t.prototype.dispose=function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};t.prototype.getRenderedCanvas=function(t){t=t||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[yD].dom}var e=new pD("image",this,t.pixelRatio||this.dpr);e.initContext();e.clear(false,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width;var a=e.dom.height;this.eachLayer((function(t){if(t.__builtin__){r.drawImage(t.dom,0,0,i,a)}else if(t.renderToCanvas){r.save();t.renderToCanvas(r);r.restore()}}))}else{var n={inHover:false,viewWidth:this._width,viewHeight:this._height};var o=this.storage.getDisplayList(true);for(var s=0,l=o.length;s<l;s++){var u=o[s];yx(r,u,n,s===l-1)}}return e.dom};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};return t}();function SD(t){t.registerPainter("canvas",bD)}var MD=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t){return Qb(null,this,{useEncodeDefaulter:true})};e.prototype.getLegendIcon=function(t){var e=new Tn;var r=O_("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,false);e.add(r);r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol");var a=this.getData().getVisual("symbolRotate");var n=i==="none"?"circle":i;var o=t.itemHeight*.8;var s=O_(n,(t.itemWidth-o)/2,(t.itemHeight-o)/2,o,o,t.itemStyle.fill);e.add(s);s.setStyle(t.itemStyle);var l=t.iconRotate==="inherit"?a:t.iconRotate||0;s.rotation=l*Math.PI/180;s.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(n.indexOf("empty")>-1){s.style.stroke=s.style.fill;s.style.fill="#fff";s.style.lineWidth=2}return e};e.type="series.line";e.dependencies=["grid","polar"];e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"},triggerLineEvent:false};return e}(nm);function ID(t,e){var r=t.mapDimensionsAll("defaultedLabel");var i=r.length;if(i===1){var a=Xg(t,e,r[0]);return a!=null?a+"":null}else if(i){var n=[];for(var o=0;o<r.length;o++){n.push(Xg(t,e,r[o]))}return n.join(" ")}}function TD(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!et(e)){return e+""}var i=[];for(var a=0;a<r.length;a++){var n=t.getDimensionIndex(r[a]);if(n>=0){i.push(e[n])}}return i.join(" ")}var DD=function(t){u(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.updateData(e,r,i,a);return n}e.prototype._createSymbol=function(t,e,r,i,a){this.removeAll();var n=O_(t,-1,-1,2,2,null,a);n.attr({z2:100,culling:true,scaleX:i[0]/2,scaleY:i[1]/2});n.drift=CD;this._symbolType=t;this.add(n)};e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)};e.prototype.getSymbolType=function(){return this._symbolType};e.prototype.getSymbolPath=function(){return this.childAt(0)};e.prototype.highlight=function(){cf(this.childAt(0))};e.prototype.downplay=function(){vf(this.childAt(0))};e.prototype.setZ=function(t,e){var r=this.childAt(0);r.zlevel=t;r.z=e};e.prototype.setDraggable=function(t,e){var r=this.childAt(0);r.draggable=t;r.cursor=!e&&t?"move":r.cursor};e.prototype.updateData=function(t,r,i,a){this.silent=false;var n=t.getItemVisual(r,"symbol")||"circle";var o=t.hostModel;var s=e.getSymbolSize(t,r);var l=n!==this._symbolType;var u=a&&a.disableAnimation;if(l){var f=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(n,t,r,s,f)}else{var h=this.childAt(0);h.silent=false;var c={scaleX:s[0]/2,scaleY:s[1]/2};u?h.attr(c):fc(h,c,o,r);gc(h)}this._updateCommon(t,r,s,i,a);if(l){var h=this.childAt(0);if(!u){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0;h.style.opacity=0;hc(h,c,o,r)}}if(u){this.childAt(0).stopAnimation("leave")}};e.prototype._updateCommon=function(t,e,r,i,a){var n=this.childAt(0);var o=t.hostModel;var s;var l;var u;var f;var h;var c;var v;var d;var p;if(i){s=i.emphasisItemStyle;l=i.blurItemStyle;u=i.selectItemStyle;f=i.focus;h=i.blurScope;v=i.labelStatesModels;d=i.hoverScale;p=i.cursorStyle;c=i.emphasisDisabled}if(!i||t.hasItemOption){var g=i&&i.itemModel?i.itemModel:t.getItemModel(e);var y=g.getModel("emphasis");s=y.getModel("itemStyle").getItemStyle();u=g.getModel(["select","itemStyle"]).getItemStyle();l=g.getModel(["blur","itemStyle"]).getItemStyle();f=y.get("focus");h=y.get("blurScope");c=y.get("disabled");v=ev(g);d=y.getShallow("scale");p=g.getShallow("cursor")}var m=t.getItemVisual(e,"symbolRotate");n.attr("rotation",(m||0)*Math.PI/180||0);var _=R_(t.getItemVisual(e,"symbolOffset"),r);if(_){n.x=_[0];n.y=_[1]}p&&n.attr("cursor",p);var x=t.getItemVisual(e,"style");var w=x.fill;if(n instanceof tu){var b=n.style;n.useStyle(F({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},x))}else{if(n.__isEmptyBrush){n.useStyle(F({},x))}else{n.useStyle(x)}n.style.decal=null;n.setColor(w,a&&a.symbolInnerColor);n.style.strokeNoScale=true}var S=t.getItemVisual(e,"liftZ");var M=this._z2;if(S!=null){if(M==null){this._z2=n.z2;n.z2+=S}}else if(M!=null){n.z2=M;this._z2=null}var I=a&&a.useNameLabel;tv(n,v,{labelFetcher:o,labelDataIndex:e,defaultText:T,inheritColor:w,defaultOpacity:x.opacity});function T(e){return I?t.getName(e):ID(t,e)}this._sizeX=r[0]/2;this._sizeY=r[1]/2;var D=n.ensureState("emphasis");D.style=s;n.ensureState("select").style=u;n.ensureState("blur").style=l;var C=d==null||d===true?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;D.scaleX=this._sizeX*C;D.scaleY=this._sizeY*C;this.setSymbolScale(1);Lf(this,f,h,c)};e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t};e.prototype.fadeOut=function(t,e,r){var i=this.childAt(0);var a=Tu(this).dataIndex;var n=r&&r.animation;this.silent=i.silent=true;if(r&&r.fadeLabel){var o=i.getTextContent();if(o){vc(o,{style:{opacity:0}},e,{dataIndex:a,removeOpt:n,cb:function(){i.removeTextContent()}})}}else{i.removeTextContent()}vc(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:a,cb:t,removeOpt:n})};e.getSymbolSize=function(t,e){return N_(t.getItemVisual(e,"symbolSize"))};return e}(Tn);function CD(t,e){this.parent.drift(t,e)}function AD(t,e,r,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(r))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function kD(t){if(t!=null&&!ot(t)){t={isIgnore:t}}return t||{}}function LD(t){var e=t.hostModel;var r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:ev(e),cursorStyle:e.get("cursor")}}var PD=function(){function t(t){this.group=new Tn;this._SymbolCtor=t||DD}t.prototype.updateData=function(t,e){this._progressiveEls=null;e=kD(e);var r=this.group;var i=t.hostModel;var a=this._data;var n=this._SymbolCtor;var o=e.disableAnimation;var s=LD(t);var l={disableAnimation:o};var u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};if(!a){r.removeAll()}t.diff(a).add((function(i){var a=u(i);if(AD(t,a,i,e)){var o=new n(t,i,s,l);o.setPosition(a);t.setItemGraphicEl(i,o);r.add(o)}})).update((function(f,h){var c=a.getItemGraphicEl(h);var v=u(f);if(!AD(t,v,f,e)){r.remove(c);return}var d=t.getItemVisual(f,"symbol")||"circle";var p=c&&c.getSymbolType&&c.getSymbolType();if(!c||p&&p!==d){r.remove(c);c=new n(t,f,s,l);c.setPosition(v)}else{c.updateData(t,f,s,l);var g={x:v[0],y:v[1]};o?c.attr(g):fc(c,g,i)}r.add(c);t.setItemGraphicEl(f,c)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut((function(){r.remove(e)}),i)})).execute();this._getSymbolPoint=u;this._data=t};t.prototype.updateLayout=function(){var t=this;var e=this._data;if(e){e.eachItemGraphicEl((function(e,r){var i=t._getSymbolPoint(r);e.setPosition(i);e.markRedraw()}))}};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=LD(t);this._data=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[];r=kD(r);function i(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var a=t.start;a<t.end;a++){var n=e.getItemLayout(a);if(AD(e,n,a,r)){var o=new this._SymbolCtor(e,a,this._seriesScope);o.traverse(i);o.setPosition(n);this.group.add(o);e.setItemGraphicEl(a,o);this._progressiveEls.push(o)}}};t.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};t.prototype.remove=function(t){var e=this.group;var r=this._data;if(r&&t){r.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),r.hostModel)}))}else{e.removeAll()}};return t}();function OD(t,e,r){var i=t.getBaseAxis();var a=t.getOtherAxis(i);var n=ND(a,r);var o=i.dim;var s=a.dim;var l=e.mapDimension(s);var u=e.mapDimension(o);var f=s==="x"||s==="radius"?1:0;var h=Z(t.dimensions,(function(t){return e.mapDimension(t)}));var c=false;var v=e.getCalculationInfo("stackResultDimension");if(qb(e,h[0])){c=true;h[0]=v}if(qb(e,h[1])){c=true;h[1]=v}return{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!c,valueDim:l,baseDim:u,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ND(t,e){var r=0;var i=t.scale.getExtent();if(e==="start"){r=i[0]}else if(e==="end"){r=i[1]}else if(nt(e)&&!isNaN(e)){r=e}else{if(i[0]>0){r=i[0]}else if(i[1]<0){r=i[1]}}return r}function RD(t,e,r,i){var a=NaN;if(t.stacked){a=r.get(r.getCalculationInfo("stackedOverDimension"),i)}if(isNaN(a)){a=t.valueStart}var n=t.baseDataOffset;var o=[];o[n]=r.get(t.baseDim,i);o[1-n]=a;return e.dataToPoint(o)}function ED(t,e){var r=[];e.diff(t).add((function(t){r.push({cmd:"+",idx:t})})).update((function(t,e){r.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){r.push({cmd:"-",idx:t})})).execute();return r}function zD(t,e,r,i,a,n,o,s){var l=ED(t,e);var u=[];var f=[];var h=[];var c=[];var v=[];var d=[];var p=[];var g=OD(a,e,o);var y=t.getLayout("points")||[];var m=e.getLayout("points")||[];for(var _=0;_<l.length;_++){var x=l[_];var w=true;var b=void 0;var S=void 0;switch(x.cmd){case"=":b=x.idx*2;S=x.idx1*2;var M=y[b];var I=y[b+1];var T=m[S];var D=m[S+1];if(isNaN(M)||isNaN(I)){M=T;I=D}u.push(M,I);f.push(T,D);h.push(r[b],r[b+1]);c.push(i[S],i[S+1]);p.push(e.getRawIndex(x.idx1));break;case"+":var C=x.idx;var A=g.dataDimsForPoint;var k=a.dataToPoint([e.get(A[0],C),e.get(A[1],C)]);S=C*2;u.push(k[0],k[1]);f.push(m[S],m[S+1]);var L=RD(g,a,e,C);h.push(L[0],L[1]);c.push(i[S],i[S+1]);p.push(e.getRawIndex(C));break;case"-":w=false}if(w){v.push(x);d.push(d.length)}}d.sort((function(t,e){return p[t]-p[e]}));var P=u.length;var O=xS(P);var N=xS(P);var R=xS(P);var E=xS(P);var z=[];for(var _=0;_<d.length;_++){var V=d[_];var B=_*2;var F=V*2;O[B]=u[F];O[B+1]=u[F+1];N[B]=f[F];N[B+1]=f[F+1];R[B]=h[F];R[B+1]=h[F+1];E[B]=c[F];E[B+1]=c[F+1];z[_]=v[V]}return{current:O,next:N,stackedOnCurrent:R,stackedOnNext:E,status:z}}var VD=Math.min;var BD=Math.max;function FD(t,e){return isNaN(t)||isNaN(e)}function GD(t,e,r,i,a,n,o,s,l){var u;var f;var h;var c;var v;var d;var p=r;var g=0;for(;g<i;g++){var y=e[p*2];var m=e[p*2+1];if(p>=a||p<0){break}if(FD(y,m)){if(l){p+=n;continue}break}if(p===r){t[n>0?"moveTo":"lineTo"](y,m);h=y;c=m}else{var _=y-u;var x=m-f;if(_*_+x*x<.5){p+=n;continue}if(o>0){var w=p+n;var b=e[w*2];var S=e[w*2+1];while(b===y&&S===m&&g<i){g++;w+=n;p+=n;b=e[w*2];S=e[w*2+1];y=e[p*2];m=e[p*2+1];_=y-u;x=m-f}var M=g+1;if(l){while(FD(b,S)&&M<i){M++;w+=n;b=e[w*2];S=e[w*2+1]}}var I=.5;var T=0;var D=0;var C=void 0;var A=void 0;if(M>=i||FD(b,S)){v=y;d=m}else{T=b-u;D=S-f;var k=y-u;var L=b-y;var P=m-f;var O=S-m;var N=void 0;var R=void 0;if(s==="x"){N=Math.abs(k);R=Math.abs(L);var E=T>0?1:-1;v=y-E*N*o;d=m;C=y+E*R*o;A=m}else if(s==="y"){N=Math.abs(P);R=Math.abs(O);var z=D>0?1:-1;v=y;d=m-z*N*o;C=y;A=m+z*R*o}else{N=Math.sqrt(k*k+P*P);R=Math.sqrt(L*L+O*O);I=R/(R+N);v=y-T*o*(1-I);d=m-D*o*(1-I);C=y+T*o*I;A=m+D*o*I;C=VD(C,BD(b,y));A=VD(A,BD(S,m));C=BD(C,VD(b,y));A=BD(A,VD(S,m));T=C-y;D=A-m;v=y-T*N/R;d=m-D*N/R;v=VD(v,BD(u,y));d=VD(d,BD(f,m));v=BD(v,VD(u,y));d=BD(d,VD(f,m));T=y-v;D=m-d;C=y+T*R/N;A=m+D*R/N}}t.bezierCurveTo(h,c,v,d,y,m);h=C;c=A}else{t.lineTo(y,m)}}u=y;f=m;p+=n}return g}var WD=function(){function t(){this.smooth=0;this.smoothConstraint=true}return t}();var HD=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polyline";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new WD};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;var a=r.length/2;if(e.connectNulls){for(;a>0;a--){if(!FD(r[a*2-2],r[a*2-1])){break}}for(;i<a;i++){if(!FD(r[i*2],r[i*2+1])){break}}}while(i<a){i+=GD(t,r,i,a,a,1,e.smooth,e.smoothMonotone,e.connectNulls)+1}};e.prototype.getPointOn=function(t,e){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var r=this.path;var i=r.data;var a=Sl.CMD;var n;var o;var s=e==="x";var l=[];for(var u=0;u<i.length;){var f=i[u++];var h=void 0;var c=void 0;var v=void 0;var d=void 0;var p=void 0;var g=void 0;var y=void 0;switch(f){case a.M:n=i[u++];o=i[u++];break;case a.L:h=i[u++];c=i[u++];y=s?(t-n)/(h-n):(t-o)/(c-o);if(y<=1&&y>=0){var m=s?(c-o)*y+o:(h-n)*y+n;return s?[t,m]:[m,t]}n=h;o=c;break;case a.C:h=i[u++];c=i[u++];v=i[u++];d=i[u++];p=i[u++];g=i[u++];var _=s?Hr(n,h,v,p,t,l):Hr(o,c,d,g,t,l);if(_>0){for(var x=0;x<_;x++){var w=l[x];if(w<=1&&w>=0){var m=s?Gr(o,c,d,g,w):Gr(n,h,v,p,w);return s?[t,m]:[m,t]}}}n=p;o=g;break}}};return e}(jl);var YD=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WD);var UD=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polygon";return r}e.prototype.getDefaultShape=function(){return new YD};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.stackedOnPoints;var a=0;var n=r.length/2;var o=e.smoothMonotone;if(e.connectNulls){for(;n>0;n--){if(!FD(r[n*2-2],r[n*2-1])){break}}for(;a<n;a++){if(!FD(r[a*2],r[a*2+1])){break}}}while(a<n){var s=GD(t,r,a,n,n,1,e.smooth,o,e.connectNulls);GD(t,i,a+s-1,s,n,-1,e.stackedOnSmooth,o,e.connectNulls);a+=s+1;t.closePath()}};return e}(jl);function XD(t,e,r,i,a){var n=t.getArea();var o=n.x;var s=n.y;var l=n.width;var u=n.height;var f=r.get(["lineStyle","width"])||2;o-=f/2;s-=f/2;l+=f;u+=f;o=Math.floor(o);l=Math.round(l);var h=new lu({shape:{x:o,y:s,width:l,height:u}});if(e){var c=t.getBaseAxis();var v=c.isHorizontal();var d=c.inverse;if(v){if(d){h.shape.x+=l}h.shape.width=0}else{if(!d){h.shape.y+=u}h.shape.height=0}var p=rt(a)?function(t){a(t,h)}:null;hc(h,{shape:{width:l,height:u,x:o,y:s}},r,null,i,p)}return h}function ZD(t,e,r){var i=t.getArea();var a=Bn(i.r0,1);var n=Bn(i.r,1);var o=new Ph({shape:{cx:Bn(t.cx,1),cy:Bn(t.cy,1),r0:a,r:n,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";if(s){o.shape.endAngle=i.startAngle}else{o.shape.r=a}hc(o,{shape:{endAngle:i.endAngle,r:n}},r)}return o}function jD(t,e,r,i,a){if(!t){return null}else if(t.type==="polar"){return ZD(t,e,r)}else if(t.type==="cartesian2d"){return XD(t,e,r,i,a)}return null}function qD(t,e){return t.type===e}function KD(t,e){if(t.length!==e.length){return}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return}}return true}function $D(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;for(var n=0;n<t.length;){var o=t[n++];var s=t[n++];if(!isNaN(o)){e=Math.min(o,e);i=Math.max(o,i)}if(!isNaN(s)){r=Math.min(s,r);a=Math.max(s,a)}}return[[e,r],[i,a]]}function JD(t,e){var r=$D(t),i=r[0],a=r[1];var n=$D(e),o=n[0],s=n[1];return Math.max(Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function QD(t){return nt(t)?t:t?.5:0}function tC(t,e,r){if(!r.valueDim){return[]}var i=e.count();var a=xS(i*2);for(var n=0;n<i;n++){var o=RD(r,t,e,n);a[n*2]=o[0];a[n*2+1]=o[1]}return a}function eC(t,e,r,i){var a=e.getBaseAxis();var n=a.dim==="x"||a.dim==="radius"?0:1;var o=[];var s=0;var l=[];var u=[];var f=[];var h=[];if(i){for(s=0;s<t.length;s+=2){if(!isNaN(t[s])&&!isNaN(t[s+1])){h.push(t[s],t[s+1])}}t=h}for(s=0;s<t.length-2;s+=2){f[0]=t[s+2];f[1]=t[s+3];u[0]=t[s];u[1]=t[s+1];o.push(u[0],u[1]);switch(r){case"end":l[n]=f[n];l[1-n]=u[1-n];o.push(l[0],l[1]);break;case"middle":var c=(u[n]+f[n])/2;var v=[];l[n]=v[n]=c;l[1-n]=u[1-n];v[1-n]=f[1-n];o.push(l[0],l[1]);o.push(v[0],v[1]);break;default:l[n]=u[n];l[1-n]=f[1-n];o.push(l[0],l[1])}}o.push(t[s++],t[s++]);return o}function rC(t,e){var r=[];var i=t.length;var a;var n;function o(t,e,r){var i=t.coord;var a=(r-i)/(e.coord-i);var n=Ii(a,[t.color,e.color]);return{coord:r,color:n}}for(var s=0;s<i;s++){var l=t[s];var u=l.coord;if(u<0){a=l}else if(u>e){if(n){r.push(o(n,l,e))}else if(a){r.push(o(a,l,0),o(a,l,e))}break}else{if(a){r.push(o(a,l,0));a=null}r.push(l);n=l}}return r}function iC(t,e,r){var i=t.getVisual("visualMeta");if(!i||!i.length||!t.count()){return}if(e.type!=="cartesian2d"){return}var a;var n;for(var o=i.length-1;o>=0;o--){var s=t.getDimensionInfo(i[o].dimension);a=s&&s.coordDim;if(a==="x"||a==="y"){n=i[o];break}}if(!n){return}var l=e.getAxis(a);var u=Z(n.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}}));var f=u.length;var h=n.outerColors.slice();if(f&&u[0].coord>u[f-1].coord){u.reverse();h.reverse()}var c=rC(u,a==="x"?r.getWidth():r.getHeight());var v=c.length;if(!v&&f){return u[0].coord<0?h[1]?h[1]:u[f-1].color:h[0]?h[0]:u[0].color}var d=10;var p=c[0].coord-d;var g=c[v-1].coord+d;var y=g-p;if(y<.001){return"transparent"}X(c,(function(t){t.offset=(t.coord-p)/y}));c.push({offset:v?c[v-1].offset:.5,color:h[1]||"transparent"});c.unshift({offset:v?c[0].offset:.5,color:h[0]||"transparent"});var m=new Jh(0,0,0,0,c,true);m[a]=p;m[a+"2"]=g;return m}function aC(t,e,r){var i=t.get("showAllSymbol");var a=i==="auto";if(i&&!a){return}var n=r.getAxesByScale("ordinal")[0];if(!n){return}if(a&&nC(n,e)){return}var o=e.mapDimension(n.dim);var s={};X(n.getViewLabels(),(function(t){var e=n.scale.getRawOrdinalNumber(t.tickValue);s[e]=1}));return function(t){return!s.hasOwnProperty(e.get(o,t))}}function nC(t,e){var r=t.getExtent();var i=Math.abs(r[1]-r[0])/t.scale.count();isNaN(i)&&(i=0);var a=e.count();var n=Math.max(1,Math.round(a/5));for(var o=0;o<a;o+=n){if(DD.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>i){return false}}return true}function oC(t,e){return isNaN(t)||isNaN(e)}function sC(t){var e=t.length/2;for(;e>0;e--){if(!oC(t[e*2-2],t[e*2-1])){break}}return e-1}function lC(t,e){return[t[e*2],t[e*2+1]]}function uC(t,e,r){var i=t.length/2;var a=r==="x"?0:1;var n;var o;var s=0;var l=-1;for(var u=0;u<i;u++){o=t[u*2+a];if(isNaN(o)||isNaN(t[u*2+1-a])){continue}if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u;n=o}return{range:[s,l],t:(e-n)/(o-n)}}function fC(t){if(t.get(["endLabel","show"])){return true}for(var e=0;e<Ru.length;e++){if(t.get([Ru[e],"endLabel","show"])){return true}}return false}function hC(t,e,r,i){if(qD(e,"cartesian2d")){var a=i.getModel("endLabel");var n=a.get("valueAnimation");var o=i.getData();var s={lastFrameIndex:0};var l=fC(i)?function(r,i){t._endLabelOnDuring(r,i,o,s,n,a,e)}:null;var u=e.getBaseAxis().isHorizontal();var f=XD(e,r,i,(function(){var e=t._endLabel;if(e&&r){if(s.originalX!=null){e.attr({x:s.originalX,y:s.originalY})}}}),l);if(!i.get("clip",true)){var h=f.shape;var c=Math.max(h.width,h.height);if(u){h.y-=c;h.height+=c*2}else{h.x-=c;h.width+=c*2}}if(l){l(1,f)}return f}else{return ZD(e,r,i)}}function cC(t,e){var r=e.getBaseAxis();var i=r.isHorizontal();var a=r.inverse;var n=i?a?"right":"left":"center";var o=i?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||n,verticalAlign:t.get("verticalAlign")||o}}}var vC=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(){var t=new Tn;var e=new PD;this.group.add(e.group);this._symbolDraw=e;this._lineGroup=t};e.prototype.render=function(t,e,r){var i=this;var a=t.coordinateSystem;var n=this.group;var o=t.getData();var s=t.getModel("lineStyle");var l=t.getModel("areaStyle");var u=o.getLayout("points")||[];var f=a.type==="polar";var h=this._coordSys;var c=this._symbolDraw;var v=this._polyline;var d=this._polygon;var p=this._lineGroup;var g=t.get("animation");var y=!l.isEmpty();var m=l.get("origin");var _=OD(a,o,m);var x=y&&tC(a,o,_);var w=t.get("showSymbol");var b=t.get("connectNulls");var S=w&&!f&&aC(t,o,a);var M=this._data;M&&M.eachItemGraphicEl((function(t,e){if(t.__temp){n.remove(t);M.setItemGraphicEl(e,null)}}));if(!w){c.remove()}n.add(p);var I=!f?t.get("step"):false;var T;if(a&&a.getArea&&t.get("clip",true)){T=a.getArea();if(T.width!=null){T.x-=.1;T.y-=.1;T.width+=.2;T.height+=.2}else if(T.r0){T.r0-=.5;T.r+=.5}}this._clipShapeForSymbol=T;var D=iC(o,a,r)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&h.type===a.type&&I===this._step)){w&&c.updateData(o,{isIgnore:S,clipShape:T,disableAnimation:true,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}});g&&this._initSymbolLabelAnimation(o,a,T);if(I){u=eC(u,a,I,b);if(x){x=eC(x,a,I,b)}}v=this._newPolyline(u);if(y){d=this._newPolygon(u,x)}else if(d){p.remove(d);d=this._polygon=null}if(!f){this._initOrUpdateEndLabel(t,a,Ad(D))}p.setClipPath(hC(this,a,true,t))}else{if(y&&!d){d=this._newPolygon(u,x)}else if(d&&!y){p.remove(d);d=this._polygon=null}if(!f){this._initOrUpdateEndLabel(t,a,Ad(D))}var C=p.getClipPath();if(C){var A=hC(this,a,false,t);hc(C,{shape:A.shape},t)}else{p.setClipPath(hC(this,a,true,t))}w&&c.updateData(o,{isIgnore:S,clipShape:T,disableAnimation:true,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}});if(!KD(this._stackedOnPoints,x)||!KD(this._points,u)){if(g){this._doUpdateAnimation(o,x,a,r,I,m,b)}else{if(I){u=eC(u,a,I,b);if(x){x=eC(x,a,I,b)}}v.setShape({points:u});d&&d.setShape({points:u,stackedOnPoints:x})}}}var k=t.getModel("emphasis");var L=k.get("focus");var P=k.get("blurScope");var O=k.get("disabled");v.useStyle(G(s.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"}));Rf(v,t,"lineStyle");if(v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var N=v.getState("emphasis").style;N.lineWidth=+v.style.lineWidth+1}Tu(v).seriesIndex=t.seriesIndex;Lf(v,L,P,O);var R=QD(t.get("smooth"));var E=t.get("smoothMonotone");v.setShape({smooth:R,smoothMonotone:E,connectNulls:b});if(d){var z=o.getCalculationInfo("stackedOnSeries");var V=0;d.useStyle(G(l.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal}));if(z){V=QD(z.get("smooth"))}d.setShape({smooth:R,stackedOnSmooth:V,smoothMonotone:E,connectNulls:b});Rf(d,t,"areaStyle");Tu(d).seriesIndex=t.seriesIndex;Lf(d,L,P,O)}var B=function(t){i._changePolyState(t)};o.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=B)}));this._polyline.onHoverStateChange=B;this._data=o;this._coordSys=a;this._stackedOnPoints=x;this._points=u;this._step=I;this._valueOrigin=m;if(t.get("triggerLineEvent")){this.packEventData(t,v);d&&this.packEventData(t,d)}};e.prototype.packEventData=function(t,e){Tu(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}};e.prototype.highlight=function(t,e,r,i){var a=t.getData();var n=Vo(a,i);this._changePolyState("emphasis");if(!(n instanceof Array)&&n!=null&&n>=0){var o=a.getLayout("points");var s=a.getItemGraphicEl(n);if(!s){var l=o[n*2];var u=o[n*2+1];if(isNaN(l)||isNaN(u)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u)){return}var f=t.get("zlevel")||0;var h=t.get("z")||0;s=new DD(a,n);s.x=l;s.y=u;s.setZ(f,h);var c=s.getSymbolPath().getTextContent();if(c){c.zlevel=f;c.z=h;c.z2=this._polyline.z2+1}s.__temp=true;a.setItemGraphicEl(n,s);s.stopSymbolAnimation(true);this.group.add(s)}s.highlight()}else{mm.prototype.highlight.call(this,t,e,r,i)}};e.prototype.downplay=function(t,e,r,i){var a=t.getData();var n=Vo(a,i);this._changePolyState("normal");if(n!=null&&n>=0){var o=a.getItemGraphicEl(n);if(o){if(o.__temp){a.setItemGraphicEl(n,null);this.group.remove(o)}else{o.downplay()}}}else{mm.prototype.downplay.call(this,t,e,r,i)}};e.prototype._changePolyState=function(t){var e=this._polygon;rf(this._polyline,t);e&&rf(e,t)};e.prototype._newPolyline=function(t){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new HD({shape:{points:t},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(e);this._polyline=e;return e};e.prototype._newPolygon=function(t,e){var r=this._polygon;if(r){this._lineGroup.remove(r)}r=new UD({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2});this._lineGroup.add(r);this._polygon=r;return r};e.prototype._initSymbolLabelAnimation=function(t,e,r){var i;var a;var n=e.getBaseAxis();var o=n.inverse;if(e.type==="cartesian2d"){i=n.isHorizontal();a=false}else if(e.type==="polar"){i=n.dim==="angle";a=true}var s=t.hostModel;var l=s.get("animationDuration");if(rt(l)){l=l(null)}var u=s.get("animationDelay")||0;var f=rt(u)?u(null):u;t.eachItemGraphicEl((function(t,n){var s=t;if(s){var h=[t.x,t.y];var c=void 0;var v=void 0;var d=void 0;if(r){if(a){var p=r;var g=e.pointToCoord(h);if(i){c=p.startAngle;v=p.endAngle;d=-g[1]/180*Math.PI}else{c=p.r0;v=p.r;d=g[0]}}else{var y=r;if(i){c=y.x;v=y.x+y.width;d=t.x}else{c=y.y+y.height;v=y.y;d=t.y}}}var m=v===c?0:(d-c)/(v-c);if(o){m=1-m}var _=rt(u)?u(n):l*m+f;var x=s.getSymbolPath();var w=x.getTextContent();s.attr({scaleX:0,scaleY:0});s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:true,delay:_});if(w){w.animateFrom({style:{opacity:0}},{duration:300,delay:_})}x.disableLabelAnimation=true}}))};e.prototype._initOrUpdateEndLabel=function(t,e,r){var i=t.getModel("endLabel");if(fC(t)){var a=t.getData();var n=this._polyline;var o=a.getLayout("points");if(!o){n.removeTextContent();this._endLabel=null;return}var s=this._endLabel;if(!s){s=this._endLabel=new cu({z2:200});s.ignoreClip=true;n.setTextContent(this._endLabel);n.disableLabelAnimation=true}var l=sC(o);if(l>=0){tv(n,ev(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,r){return r!=null?TD(a,r):ID(a,t)},enableTextSetter:true},cC(i,e));n.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};e.prototype._endLabelOnDuring=function(t,e,r,i,a,n,o){var s=this._endLabel;var l=this._polyline;if(s){if(t<1&&i.originalX==null){i.originalX=s.x;i.originalY=s.y}var u=r.getLayout("points");var f=r.hostModel;var h=f.get("connectNulls");var c=n.get("precision");var v=n.get("distance")||0;var d=o.getBaseAxis();var p=d.isHorizontal();var g=d.inverse;var y=e.shape;var m=g?p?y.x:y.y+y.height:p?y.x+y.width:y.y;var _=(p?v:0)*(g?-1:1);var x=(p?0:-v)*(g?-1:1);var w=p?"x":"y";var b=uC(u,m,w);var S=b.range;var M=S[1]-S[0];var I=void 0;if(M>=1){if(M>1&&!h){var T=lC(u,S[0]);s.attr({x:T[0]+_,y:T[1]+x});a&&(I=f.getRawValue(S[0]))}else{var T=l.getPointOn(m,w);T&&s.attr({x:T[0]+_,y:T[1]+x});var D=f.getRawValue(S[0]);var C=f.getRawValue(S[1]);a&&(I=Ko(r,c,D,C,b.t))}i.lastFrameIndex=S[0]}else{var A=t===1||i.lastFrameIndex>0?S[0]:0;var T=lC(u,A);a&&(I=f.getRawValue(A));s.attr({x:T[0]+_,y:T[1]+x})}if(a){hv(s).setLabelText(I)}}};e.prototype._doUpdateAnimation=function(t,e,r,i,a,n,o){var s=this._polyline;var l=this._polygon;var u=t.hostModel;var f=zD(this._data,t,this._stackedOnPoints,e,this._coordSys,r,this._valueOrigin);var h=f.current;var c=f.stackedOnCurrent;var v=f.next;var d=f.stackedOnNext;if(a){h=eC(f.current,r,a,o);c=eC(f.stackedOnCurrent,r,a,o);v=eC(f.next,r,a,o);d=eC(f.stackedOnNext,r,a,o)}if(JD(h,v)>3e3||l&&JD(c,d)>3e3){s.stopAnimation();s.setShape({points:v});if(l){l.stopAnimation();l.setShape({points:v,stackedOnPoints:d})}return}s.shape.__points=f.current;s.shape.points=h;var p={shape:{points:v}};if(f.current!==h){p.shape.__points=f.next}s.stopAnimation();fc(s,p,u);if(l){l.setShape({points:h,stackedOnPoints:c});l.stopAnimation();fc(l,{shape:{stackedOnPoints:d}},u);if(s.shape.points!==l.shape.points){l.shape.points=s.shape.points}}var g=[];var y=f.status;for(var m=0;m<y.length;m++){var _=y[m].cmd;if(_==="="){var x=t.getItemGraphicEl(y[m].idx1);if(x){g.push({el:x,ptIdx:m})}}}if(s.animators&&s.animators.length){s.animators[0].during((function(){l&&l.dirtyShape();var t=s.shape.__points;for(var e=0;e<g.length;e++){var r=g[e].el;var i=g[e].ptIdx*2;r.x=t[i];r.y=t[i+1];r.markRedraw()}}))}};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl((function(t,i){if(t.__temp){e.remove(t);r.setItemGraphicEl(i,null)}}));this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};e.type="line";return e}(mm);function dC(t,e){return{seriesType:t,plan:pm(),reset:function(t){var r=t.getData();var i=t.coordinateSystem;var a=t.pipelineContext;var n=e||a.large;if(!i){return}var o=Z(i.dimensions,(function(t){return r.mapDimension(t)})).slice(0,2);var s=o.length;var l=r.getCalculationInfo("stackResultDimension");if(qb(r,o[0])){o[0]=l}if(qb(r,o[1])){o[1]=l}var u=r.getStore();var f=r.getDimensionIndex(o[0]);var h=r.getDimensionIndex(o[1]);return s&&{progress:function(t,e){var r=t.end-t.start;var a=n&&xS(r*s);var o=[];var l=[];for(var c=t.start,v=0;c<t.end;c++){var d=void 0;if(s===1){var p=u.get(f,c);d=i.dataToPoint(p,null,l)}else{o[0]=u.get(f,c);o[1]=u.get(h,c);d=i.dataToPoint(o,null,l)}if(n){a[v++]=d[0];a[v++]=d[1]}else{e.setItemLayout(c,d.slice())}}n&&e.setLayout("points",a)}}}}}var pC={average:function(t){var e=0;var r=0;for(var i=0;i<t.length;i++){if(!isNaN(t[i])){e+=t[i];r++}}return r===0?NaN:e/r},sum:function(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]||0}return e},max:function(t){var e=-Infinity;for(var r=0;r<t.length;r++){t[r]>e&&(e=t[r])}return isFinite(e)?e:NaN},min:function(t){var e=Infinity;for(var r=0;r<t.length;r++){t[r]<e&&(e=t[r])}return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};var gC=function(t){return Math.round(t.length/2)};function yC(t){return{seriesType:t,reset:function(t,e,r){var i=t.getData();var a=t.get("sampling");var n=t.coordinateSystem;var o=i.count();if(o>10&&n.type==="cartesian2d"&&a){var s=n.getBaseAxis();var l=n.getOtherAxis(s);var u=s.getExtent();var f=r.getDevicePixelRatio();var h=Math.abs(u[1]-u[0])*(f||1);var c=Math.round(o/h);if(isFinite(c)&&c>1){if(a==="lttb"){t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/c))}var v=void 0;if(it(a)){v=pC[a]}else if(rt(a)){v=a}if(v){t.setData(i.downSample(i.mapDimension(l.dim),1/c,v,gC))}}}}}}function mC(t){t.registerChartView(vC);t.registerSeriesModel(MD);t.registerLayout(dC("line",true));t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData();var r=t.getModel("lineStyle").getLineStyle();if(r&&!r.stroke){r.stroke=e.getVisual("style").fill}e.setVisual("legendLineStyle",r)}});t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,yC("line"))}var _C=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return Qb(null,this,{useEncodeDefaulter:true})};e.prototype.getMarkerPosition=function(t,e,r){var i=this.coordinateSystem;if(i&&i.clampData){var a=i.dataToPoint(i.clampData(t));if(r){X(i.getAxes(),(function(r,n){if(r.type==="category"){var o=r.getTicksCoords();var s=i.clampData(t)[n];if(e&&(e[n]==="x1"||e[n]==="y1")){s+=1}s>o.length-1&&(s=o.length-1);s<0&&(s=0);o[s]&&(a[n]=r.toGlobalCoord(o[s].coord))}}))}else{var n=this.getData();var o=n.getLayout("offset");var s=n.getLayout("size");var l=i.getBaseAxis().isHorizontal()?0:1;a[l]+=o+s/2}return a}return[NaN,NaN]};e.type="series.__base_bar__";e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return e}(nm);nm.registerClass(_C);var xC=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(){return Qb(null,this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold");var e=this.get("largeThreshold");if(e>t){t=e}return t};e.prototype.brushSelector=function(t,e,r){return r.rect(e.getItemLayout(t))};e.type="series.bar";e.dependencies=["grid","polar"];e.defaultOption=Av(_C.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return e}(_C);var wC=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var bC=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="sausage";return r}e.prototype.getDefaultShape=function(){return new wC};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r0||0,0);var n=Math.max(e.r,0);var o=(n-a)*.5;var s=a+o;var l=e.startAngle;var u=e.endAngle;var f=e.clockwise;var h=Math.PI*2;var c=f?u-l<h:l-u<h;if(!c){l=u-(f?h:-h)}var v=Math.cos(l);var d=Math.sin(l);var p=Math.cos(u);var g=Math.sin(u);if(c){t.moveTo(v*a+r,d*a+i);t.arc(v*s+r,d*s+i,o,-Math.PI+l,l,!f)}else{t.moveTo(v*n+r,d*n+i)}t.arc(r,i,n,l,u,!f);t.arc(p*s+r,g*s+i,o,u-Math.PI*2,u-Math.PI,!f);if(a!==0){t.arc(r,i,a,u,l,f)}};return e}(jl);function SC(t,e){e=e||{};var r=e.isRoundCap;return function(e,i,a){var n=i.position;if(!n||n instanceof Array){return cn(e,i,a)}var o=t(n);var s=i.distance!=null?i.distance:5;var l=this.shape;var u=l.cx;var f=l.cy;var h=l.r;var c=l.r0;var v=(h+c)/2;var d=l.startAngle;var p=l.endAngle;var g=(d+p)/2;var y=r?Math.abs(h-c)/2:0;var m=Math.cos;var _=Math.sin;var x=u+h*m(d);var w=f+h*_(d);var b="left";var S="top";switch(o){case"startArc":x=u+(c-s)*m(g);w=f+(c-s)*_(g);b="center";S="top";break;case"insideStartArc":x=u+(c+s)*m(g);w=f+(c+s)*_(g);b="center";S="bottom";break;case"startAngle":x=u+v*m(d)+IC(d,s+y,false);w=f+v*_(d)+TC(d,s+y,false);b="right";S="middle";break;case"insideStartAngle":x=u+v*m(d)+IC(d,-s+y,false);w=f+v*_(d)+TC(d,-s+y,false);b="left";S="middle";break;case"middle":x=u+v*m(g);w=f+v*_(g);b="center";S="middle";break;case"endArc":x=u+(h+s)*m(g);w=f+(h+s)*_(g);b="center";S="bottom";break;case"insideEndArc":x=u+(h-s)*m(g);w=f+(h-s)*_(g);b="center";S="top";break;case"endAngle":x=u+v*m(p)+IC(p,s+y,true);w=f+v*_(p)+TC(p,s+y,true);b="left";S="middle";break;case"insideEndAngle":x=u+v*m(p)+IC(p,-s+y,true);w=f+v*_(p)+TC(p,-s+y,true);b="right";S="middle";break;default:return cn(e,i,a)}e=e||{};e.x=x;e.y=w;e.align=b;e.verticalAlign=S;return e}}function MC(t,e,r,i){if(nt(i)){t.setTextConfig({rotation:i});return}else if(et(e)){t.setTextConfig({rotation:0});return}var a=t.shape;var n=a.clockwise?a.startAngle:a.endAngle;var o=a.clockwise?a.endAngle:a.startAngle;var s=(n+o)/2;var l;var u=r(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:t.setTextConfig({rotation:0});return}var f=Math.PI*1.5-l;if(u==="middle"&&f>Math.PI/2&&f<Math.PI*1.5){f-=Math.PI}t.setTextConfig({rotation:f})}function IC(t,e,r){return e*Math.sin(t)*(r?-1:1)}function TC(t,e,r){return e*Math.cos(t)*(r?1:-1)}var DC=Math.max;var CC=Math.min;function AC(t,e){var r=t.getArea&&t.getArea();if(qD(t,"cartesian2d")){var i=t.getBaseAxis();if(i.type!=="category"||!i.onBand){var a=e.getLayout("bandWidth");if(i.isHorizontal()){r.x-=a;r.width+=a*2}else{r.y-=a;r.height+=a*2}}}return r}var kC=function(t){u(e,t);function e(){var r=t.call(this)||this;r.type=e.type;r._isFirstFrame=true;return r}e.prototype.render=function(t,e,r,i){this._model=t;this._removeOnRenderedListener(r);this._updateDrawMode(t);var a=t.get("coordinateSystem");if(a==="cartesian2d"||a==="polar"){this._progressiveEls=null;this._isLargeDraw?this._renderLarge(t,e,r):this._renderNormal(t,e,r,i)}};e.prototype.incrementalPrepareRender=function(t){this._clear();this._updateDrawMode(t);this._updateLargeClip(t)};e.prototype.incrementalRender=function(t,e){this._progressiveEls=[];this._incrementalRenderLarge(t,e)};e.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t,e,r,i){var a=this.group;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.getBaseAxis();var u;if(s.type==="cartesian2d"){u=l.isHorizontal()}else if(s.type==="polar"){u=l.dim==="angle"}var f=t.isAnimationEnabled()?t:null;var h=OC(t,s);if(h){this._enableRealtimeSort(h,n,r)}var c=t.get("clip",true)||h;var v=AC(s,n);a.removeClipPath();var d=t.get("roundCap",true);var p=t.get("showBackground",true);var g=t.getModel("backgroundStyle");var y=g.get("borderRadius")||0;var m=[];var _=this._backgroundEls;var x=i&&i.isInitSort;var w=i&&i.type==="changeAxisOrder";function b(t){var e=BC[s.type](n,t);var r=KC(s,u,e);r.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){r.setShape("r",y)}m[t]=r;return r}n.diff(o).add((function(e){var r=n.getItemModel(e);var i=BC[s.type](n,e,r);if(p){b(e)}if(!n.hasValue(e)||!VC[s.type](i)){return}var o=false;if(c){o=LC[s.type](v,i)}var g=PC[s.type](t,n,e,i,u,f,l.model,false,d);if(h){g.forceLabelAnimation=true}WC(g,n,e,r,i,t,u,s.type==="polar");if(x){g.attr({shape:i})}else if(h){NC(h,f,g,i,e,u,false,false)}else{hc(g,{shape:i},t,e)}n.setItemGraphicEl(e,g);a.add(g);g.ignore=o})).update((function(e,r){var i=n.getItemModel(e);var S=BC[s.type](n,e,i);if(p){var M=void 0;if(_.length===0){M=b(r)}else{M=_[r];M.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){M.setShape("r",y)}m[e]=M}var I=BC[s.type](n,e);var T=qC(u,I,s);fc(M,{shape:T},f,e)}var D=o.getItemGraphicEl(r);if(!n.hasValue(e)||!VC[s.type](S)){a.remove(D);return}var C=false;if(c){C=LC[s.type](v,S);if(C){a.remove(D)}}if(!D){D=PC[s.type](t,n,e,S,u,f,l.model,!!D,d)}else{gc(D)}if(h){D.forceLabelAnimation=true}if(w){var A=D.getTextContent();if(A){var k=hv(A);if(k.prevValue!=null){k.prevValue=k.value}}}else{WC(D,n,e,i,S,t,u,s.type==="polar")}if(x){D.attr({shape:S})}else if(h){NC(h,f,D,S,e,u,true,w)}else{fc(D,{shape:S},t,e,null)}n.setItemGraphicEl(e,D);D.ignore=C;a.add(D)})).remove((function(e){var r=o.getItemGraphicEl(e);r&&pc(r,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Tn);S.removeAll();for(var M=0;M<m.length;++M){S.add(m[M])}a.add(S);this._backgroundEls=m;this._data=n};e.prototype._renderLarge=function(t,e,r){this._clear();XC(t,this.group);this._updateLargeClip(t)};e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground();XC(e,this.group,this._progressiveEls,true)};e.prototype._updateLargeClip=function(t){var e=t.get("clip",true)&&jD(t.coordinateSystem,false,t);var r=this.group;if(e){r.setClipPath(e)}else{r.removeClipPath()}};e.prototype._enableRealtimeSort=function(t,e,r){var i=this;if(!e.count()){return}var a=t.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(e,t,r);this._isFirstFrame=false}else{var n=function(t){var r=e.getItemGraphicEl(t);var i=r&&r.shape;return i&&Math.abs(a.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,n,a,r)};r.getZr().on("rendered",this._onRendered)}};e.prototype._dataSort=function(t,e,r){var i=[];t.each(t.mapDimension(e.dim),(function(t,e){var a=r(e);a=a==null?NaN:a;i.push({dataIndex:e,mappedValue:a,ordinalNumber:t})}));i.sort((function(t,e){return e.mappedValue-t.mappedValue}));return{ordinalNumbers:Z(i,(function(t){return t.ordinalNumber}))}};e.prototype._isOrderChangedWithinSameData=function(t,e,r){var i=r.scale;var a=t.mapDimension(r.dim);var n=Number.MAX_VALUE;for(var o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(a,i.getRawOrdinalNumber(o));var u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>n){return true}n=u}return false};e.prototype._isOrderDifferentInView=function(t,e){var r=e.scale;var i=r.getExtent();var a=Math.max(0,i[0]);var n=Math.min(i[1],r.getOrdinalMeta().categories.length-1);for(;a<=n;++a){if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a)){return true}}};e.prototype._updateSortWithinSameData=function(t,e,r,i){if(!this._isOrderChangedWithinSameData(t,e,r)){return}var a=this._dataSort(t,r,e);if(this._isOrderDifferentInView(a,r)){this._removeOnRenderedListener(i);i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a})}};e.prototype._dispatchInitSort=function(t,e,r){var i=e.baseAxis;var a=this._dataSort(t,i,(function(r){return t.get(t.mapDimension(e.otherAxis.dim),r)}));r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:true,axisId:i.index,sortInfo:a})};e.prototype.remove=function(t,e){this._clear(this._model);this._removeOnRenderedListener(e)};e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)};e.prototype._removeOnRenderedListener=function(t){if(this._onRendered){t.getZr().off("rendered",this._onRendered);this._onRendered=null}};e.prototype._clear=function(t){var e=this.group;var r=this._data;if(t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];r.eachItemGraphicEl((function(e){pc(e,t,Tu(e).dataIndex)}))}else{e.removeAll()}this._data=null;this._isFirstFrame=true};e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};e.type="bar";return e}(mm);var LC={cartesian2d:function(t,e){var r=e.width<0?-1:1;var i=e.height<0?-1:1;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}var a=t.x+t.width;var n=t.y+t.height;var o=DC(e.x,t.x);var s=CC(e.x+e.width,a);var l=DC(e.y,t.y);var u=CC(e.y+e.height,n);var f=s<o;var h=u<l;e.x=f&&o>a?s:o;e.y=h&&l>n?u:l;e.width=f?0:s-o;e.height=h?0:u-l;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}return f||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}var a=CC(e.r,t.r);var n=DC(e.r0,t.r0);e.r=a;e.r0=n;var o=a-n<0;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}return o}};var PC={cartesian2d:function(t,e,r,i,a,n,o,s,l){var u=new lu({shape:F({},i),z2:1});u.__dataIndex=r;u.name="item";if(n){var f=u.shape;var h=a?"height":"width";f[h]=0}return u},polar:function(t,e,r,i,a,n,o,s,l){var u=!a&&l?bC:Ph;var f=new u({shape:i,z2:1});f.name="item";var h=GC(a);f.calculateTextPosition=SC(h,{isRoundCap:u===bC});if(n){var c=f.shape;var v=a?"r":"endAngle";var d={};c[v]=a?0:i.startAngle;d[v]=i[v];(s?fc:hc)(f,{shape:d},n)}return f}};function OC(t,e){var r=t.get("realtimeSort",true);var i=e.getBaseAxis();if(r&&i.type==="category"&&e.type==="cartesian2d"){return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}}function NC(t,e,r,i,a,n,o,s){var l;var u;if(n){u={x:i.x,width:i.width};l={y:i.y,height:i.height}}else{u={y:i.y,height:i.height};l={x:i.x,width:i.width}}if(!s){(o?fc:hc)(r,{shape:l},e,a,null)}var f=e?t.baseAxis.model:null;(o?fc:hc)(r,{shape:u},f,a)}function RC(t,e){for(var r=0;r<e.length;r++){if(!isFinite(t[e[r]])){return true}}return false}var EC=["x","y","width","height"];var zC=["cx","cy","r","startAngle","endAngle"];var VC={cartesian2d:function(t){return!RC(t,EC)},polar:function(t){return!RC(t,zC)}};var BC={cartesian2d:function(t,e,r){var i=t.getItemLayout(e);var a=r?HC(r,i):0;var n=i.width>0?1:-1;var o=i.height>0?1:-1;return{x:i.x+n*a/2,y:i.y+o*a/2,width:i.width-n*a,height:i.height-o*a}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function FC(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function GC(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function WC(t,e,r,i,a,n,o,s){var l=e.getItemVisual(r,"style");if(!s){t.setShape("r",i.get(["itemStyle","borderRadius"])||0)}t.useStyle(l);var u=i.getShallow("cursor");u&&t.attr("cursor",u);var f=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left";var h=ev(i);tv(t,h,{labelFetcher:n,labelDataIndex:r,defaultText:ID(n.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var c=t.getTextContent();if(s&&c){var v=i.get(["label","position"]);t.textConfig.inside=v==="middle"?true:null;MC(t,v==="outside"?f:v,GC(o),i.get(["label","rotate"]))}cv(c,h,n.getRawValue(r),(function(t){return TD(e,t)}));var d=i.getModel(["emphasis"]);Lf(t,d.get("focus"),d.get("blurScope"),d.get("disabled"));Rf(t,i);if(FC(a)){t.style.fill="none";t.style.stroke="none";X(t.states,(function(t){if(t.style){t.style.fill=t.style.stroke="none"}}))}}function HC(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none"){return 0}var i=t.get(["itemStyle","borderWidth"])||0;var a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width);var n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,a,n)}var YC=function(){function t(){}return t}();var UC=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeBar";return r}e.prototype.getDefaultShape=function(){return new YC};e.prototype.buildPath=function(t,e){var r=e.points;var i=this.baseDimIdx;var a=1-this.baseDimIdx;var n=[];var o=[];var s=this.barWidth;for(var l=0;l<r.length;l+=3){o[i]=s;o[a]=r[l+2];n[i]=r[l+i];n[a]=r[l+a];t.rect(n[0],n[1],o[0],o[1])}};return e}(jl);function XC(t,e,r,i){var a=t.getData();var n=a.getLayout("valueAxisHorizontal")?1:0;var o=a.getLayout("largeDataIndices");var s=a.getLayout("size");var l=t.getModel("backgroundStyle");var u=a.getLayout("largeBackgroundPoints");if(u){var f=new UC({shape:{points:u},incremental:!!i,silent:true,z2:0});f.baseDimIdx=n;f.largeDataIndices=o;f.barWidth=s;f.useStyle(l.getItemStyle());e.add(f);r&&r.push(f)}var h=new UC({shape:{points:a.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:true,z2:1});h.baseDimIdx=n;h.largeDataIndices=o;h.barWidth=s;e.add(h);h.useStyle(a.getVisual("style"));Tu(h).seriesIndex=t.seriesIndex;if(!t.get("silent")){h.on("mousedown",ZC);h.on("mousemove",ZC)}r&&r.push(h)}var ZC=Dm((function(t){var e=this;var r=jC(e,t.offsetX,t.offsetY);Tu(e).dataIndex=r>=0?r:null}),30,false);function jC(t,e,r){var i=t.baseDimIdx;var a=1-i;var n=t.shape.points;var o=t.largeDataIndices;var s=[];var l=[];var u=t.barWidth;for(var f=0,h=n.length/3;f<h;f++){var c=f*3;l[i]=u;l[a]=n[c+2];s[i]=n[c+i];s[a]=n[c+a];if(l[a]<0){s[a]+=l[a];l[a]=-l[a]}if(e>=s[0]&&e<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1]){return o[f]}}return-1}function qC(t,e,r){if(qD(r,"cartesian2d")){var i=e;var a=r.getArea();return{x:t?i.x:a.x,y:t?a.y:i.y,width:t?i.width:a.width,height:t?a.height:i.height}}else{var a=r.getArea();var n=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:n.r0,r:t?a.r:n.r,startAngle:t?n.startAngle:0,endAngle:t?n.endAngle:Math.PI*2}}}function KC(t,e,r){var i=t.type==="polar"?Ph:lu;return new i({shape:qC(e,r,t),silent:true,z2:0})}function $C(t){t.registerChartView(kC);t.registerSeriesModel(xC);t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,tt(kS,"bar"));t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,LS("bar"));t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,yC("bar"));t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},(function(e){if(t.sortInfo){e.axis.setCategorySortInfo(t.sortInfo)}}))}))}var JC=Math.PI*2;var QC=Math.PI/180;function tA(t,e){return Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function eA(t,e){var r=tA(t,e);var i=t.get("center");var a=t.get("radius");if(!et(a)){a=[0,a]}var n=Vn(r.width,e.getWidth());var o=Vn(r.height,e.getHeight());var s=Math.min(n,o);var l=Vn(a[0],s/2);var u=Vn(a[1],s/2);var f;var h;var c=t.coordinateSystem;if(c){var v=c.dataToPoint(i);f=v[0]||0;h=v[1]||0}else{if(!et(i)){i=[i,i]}f=Vn(i[0],n)+r.x;h=Vn(i[1],o)+r.y}return{cx:f,cy:h,r0:l,r:u}}function rA(t,e,r){e.eachSeriesByType(t,(function(t){var e=t.getData();var i=e.mapDimension("value");var a=tA(t,r);var n=eA(t,r),o=n.cx,s=n.cy,l=n.r,u=n.r0;var f=-t.get("startAngle")*QC;var h=t.get("minAngle")*QC;var c=0;e.each(i,(function(t){!isNaN(t)&&c++}));var v=e.getSum(i);var d=Math.PI/(v||c)*2;var p=t.get("clockwise");var g=t.get("roseType");var y=t.get("stillShowZeroSum");var m=e.getDataExtent(i);m[0]=0;var _=JC;var x=0;var w=f;var b=p?1:-1;e.setLayout({viewRect:a,r:l});e.each(i,(function(t,r){var i;if(isNaN(t)){e.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:p,cx:o,cy:s,r0:u,r:g?NaN:l});return}if(g!=="area"){i=v===0&&y?d:t*d}else{i=JC/c}if(i<h){i=h;_-=h}else{x+=t}var a=w+b*i;e.setItemLayout(r,{angle:i,startAngle:w,endAngle:a,clockwise:p,cx:o,cy:s,r0:u,r:g?zn(t,m,[u,l]):l});w=a}));if(_<JC&&c){if(_<=.001){var S=JC/c;e.each(i,(function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);i.angle=S;i.startAngle=f+b*r*S;i.endAngle=f+b*(r+1)*S}}))}else{d=_/x;w=f;e.each(i,(function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);var a=i.angle===h?h:t*d;i.startAngle=w;i.endAngle=w+b*a;w+=b*a}}))}}}))}function iA(t){return{seriesType:t,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!r||!r.length){return}var i=t.getData();i.filterSelf((function(t){var e=i.getName(t);for(var a=0;a<r.length;a++){if(!r[a].isSelected(e)){return false}}return true}))}}}var aA=Math.PI/180;function nA(t,e,r,i,a,n,o,s,l,u){if(t.length<2){return}function f(t){var n=t.rB;var o=n*n;for(var s=0;s<t.list.length;s++){var l=t.list[s];var u=Math.abs(l.label.y-r);var f=i+l.len;var h=f*f;var c=Math.sqrt((1-Math.abs(u*u/o))*h);var v=e+(c+l.len2)*a;var d=v-l.label.x;var p=l.targetTextWidth-d*a;sA(l,p,true);l.label.x=v}}function h(t){var n={list:[],maxY:0};var o={list:[],maxY:0};for(var s=0;s<t.length;s++){if(t[s].labelAlignTo!=="none"){continue}var l=t[s];var u=l.label.y>r?o:n;var h=Math.abs(l.label.y-r);if(h>=u.maxY){var c=l.label.x-e-l.len2*a;var v=i+l.len;var d=Math.abs(c)<v?Math.sqrt(h*h/(1-c*c/v/v)):v;u.rB=d;u.maxY=h}u.list.push(l)}f(n);f(o)}var c=t.length;for(var v=0;v<c;v++){if(t[v].position==="outer"&&t[v].labelAlignTo==="labelLine"){var d=t[v].label.x-u;t[v].linePoints[1][0]+=d;t[v].label.x=u}}if(AI(t,l,l+o)){h(t)}}function oA(t,e,r,i,a,n,o,s){var l=[];var u=[];var f=Number.MAX_VALUE;var h=-Number.MAX_VALUE;for(var c=0;c<t.length;c++){var v=t[c].label;if(lA(t[c])){continue}if(v.x<e){f=Math.min(f,v.x);l.push(t[c])}else{h=Math.max(h,v.x);u.push(t[c])}}for(var c=0;c<t.length;c++){var d=t[c];if(!lA(d)&&d.linePoints){if(d.labelStyleWidth!=null){continue}var v=d.label;var p=d.linePoints;var g=void 0;if(d.labelAlignTo==="edge"){if(v.x<e){g=p[2][0]-d.labelDistance-o-d.edgeDistance}else{g=o+a-d.edgeDistance-p[2][0]-d.labelDistance}}else if(d.labelAlignTo==="labelLine"){if(v.x<e){g=f-o-d.bleedMargin}else{g=o+a-h-d.bleedMargin}}else{if(v.x<e){g=v.x-o-d.bleedMargin}else{g=o+a-v.x-d.bleedMargin}}d.targetTextWidth=g;sA(d,g)}}nA(u,e,r,i,1,a,n,o,s,h);nA(l,e,r,i,-1,a,n,o,s,f);for(var c=0;c<t.length;c++){var d=t[c];if(!lA(d)&&d.linePoints){var v=d.label;var p=d.linePoints;var y=d.labelAlignTo==="edge";var m=v.style.padding;var _=m?m[1]+m[3]:0;var x=v.style.backgroundColor?0:_;var w=d.rect.width+x;var b=p[1][0]-p[2][0];if(y){if(v.x<e){p[2][0]=o+d.edgeDistance+w+d.labelDistance}else{p[2][0]=o+a-d.edgeDistance-w-d.labelDistance}}else{if(v.x<e){p[2][0]=v.x+d.labelDistance}else{p[2][0]=v.x-d.labelDistance}p[1][0]=p[2][0]+b}p[1][1]=p[2][1]=v.y}}}function sA(t,e,r){if(r===void 0){r=false}if(t.labelStyleWidth!=null){return}var i=t.label;var a=i.style;var n=t.rect;var o=a.backgroundColor;var s=a.padding;var l=s?s[1]+s[3]:0;var u=a.overflow;var f=n.width+(o?0:l);if(e<f||r){var h=n.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null);i.setStyle("width",e-l);var c=i.getBoundingRect();i.setStyle("width",Math.ceil(c.width));i.setStyle("backgroundColor",o)}else{var v=e-l;var d=e<f?v:r?v>t.unconstrainedWidth?null:v:null;i.setStyle("width",d)}var p=i.getBoundingRect();n.width=p.width;var g=(i.style.margin||0)+2.1;n.height=p.height+g;n.y-=(n.height-h)/2}}function lA(t){return t.position==="center"}function uA(t){var e=t.getData();var r=[];var i;var a;var n=false;var o=(t.get("minShowLabelAngle")||0)*aA;var s=e.getLayout("viewRect");var l=e.getLayout("r");var u=s.width;var f=s.x;var h=s.y;var c=s.height;function v(t){t.ignore=true}function d(t){if(!t.ignore){return true}for(var e in t.states){if(t.states[e].ignore===false){return true}}return false}e.each((function(t){var s=e.getItemGraphicEl(t);var h=s.shape;var c=s.getTextContent();var p=s.getTextGuideLine();var g=e.getItemModel(t);var y=g.getModel("label");var m=y.get("position")||g.get(["emphasis","label","position"]);var _=y.get("distanceToLabelLine");var x=y.get("alignTo");var w=Vn(y.get("edgeDistance"),u);var b=y.get("bleedMargin");var S=g.getModel("labelLine");var M=S.get("length");M=Vn(M,u);var I=S.get("length2");I=Vn(I,u);if(Math.abs(h.endAngle-h.startAngle)<o){X(c.states,v);c.ignore=true;if(p){X(p.states,v);p.ignore=true}return}if(!d(c)){return}var T=(h.startAngle+h.endAngle)/2;var D=Math.cos(T);var C=Math.sin(T);var A;var k;var L;var P;i=h.cx;a=h.cy;var O=m==="inside"||m==="inner";if(m==="center"){A=h.cx;k=h.cy;P="center"}else{var N=(O?(h.r+h.r0)/2*D:h.r*D)+i;var R=(O?(h.r+h.r0)/2*C:h.r*C)+a;A=N+D*3;k=R+C*3;if(!O){var E=N+D*(M+l-h.r);var z=R+C*(M+l-h.r);var V=E+(D<0?-1:1)*I;var B=z;if(x==="edge"){A=D<0?f+w:f+u-w}else{A=V+(D<0?-_:_)}k=B;L=[[N,R],[E,z],[V,B]]}P=O?"center":x==="edge"?D>0?"right":"left":D>0?"left":"right"}var F=Math.PI;var G=0;var W=y.get("rotate");if(nt(W)){G=W*(F/180)}else if(m==="center"){G=0}else if(W==="radial"||W===true){var H=D<0?-T+F:-T;G=H}else if(W==="tangential"&&m!=="outside"&&m!=="outer"){var Y=Math.atan2(D,C);if(Y<0){Y=F*2+Y}var U=C>0;if(U){Y=F+Y}G=Y-F}n=!!G;c.x=A;c.y=k;c.rotation=G;c.setStyle({verticalAlign:"middle"});if(!O){var Z=c.getBoundingRect().clone();Z.applyTransform(c.getComputedTransform());var j=(c.style.margin||0)+2.1;Z.y-=j/2;Z.height+=j;r.push({label:c,labelLine:p,position:m,len:M,len2:I,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new He(D,C),linePoints:L,textAlign:P,labelDistance:_,labelAlignTo:x,edgeDistance:w,bleedMargin:b,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:c.style.width})}else{c.setStyle({align:P});var q=c.states.select;if(q){q.x+=c.x;q.y+=c.y}}s.setTextConfig({inside:O})}));if(!n&&t.get("avoidLabelOverlap")){oA(r,i,a,l,u,c,f,h)}for(var p=0;p<r.length;p++){var g=r[p];var y=g.label;var m=g.labelLine;var _=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign});if(_){X(y.states,v);y.ignore=true}var x=y.states.select;if(x){x.x+=y.x;x.y+=y.y}}if(m){var w=g.linePoints;if(_||!w){X(m.states,v);m.ignore=true}else{xI(w,g.minTurnAngle);wI(w,g.surfaceNormal,g.maxSurfaceAngle);m.setShape({points:w});y.__hostTarget.textGuideLineConfig={anchor:new He(w[0][0],w[0][1])}}}}}function fA(t,e,r){var i=t.get("borderRadius");if(i==null){return r?{cornerRadius:0}:null}if(!et(i)){i=[i,i,i,i]}var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Z(i,(function(t){return hn(t,a)}))}}var hA=function(t){u(e,t);function e(e,r,i){var a=t.call(this)||this;a.z2=2;var n=new cu;a.setTextContent(n);a.updateData(e,r,i,true);return a}e.prototype.updateData=function(t,e,r,i){var a=this;var n=t.hostModel;var o=t.getItemModel(e);var s=o.getModel("emphasis");var l=t.getItemLayout(e);var u=F(fA(o.getModel("itemStyle"),l,true),l);if(isNaN(u.startAngle)){a.setShape(u);return}if(i){a.setShape(u);var f=n.getShallow("animationType");if(n.ecModel.ssr){hc(a,{scaleX:0,scaleY:0},n,{dataIndex:e,isFrom:true});a.originX=u.cx;a.originY=u.cy}else if(f==="scale"){a.shape.r=l.r0;hc(a,{shape:{r:l.r}},n,e)}else{if(r!=null){a.setShape({startAngle:r,endAngle:r});hc(a,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,e)}else{a.shape.endAngle=l.startAngle;fc(a,{shape:{endAngle:l.endAngle}},n,e)}}}else{gc(a);fc(a,{shape:u},n,e)}a.useStyle(t.getItemVisual(e,"style"));Rf(a,o);var h=(l.startAngle+l.endAngle)/2;var c=n.get("selectedOffset");var v=Math.cos(h)*c;var d=Math.sin(h)*c;var p=o.getShallow("cursor");p&&a.attr("cursor",p);this._updateLabel(n,t,e);a.ensureState("emphasis").shape=F({r:l.r+(s.get("scale")?s.get("scaleSize")||0:0)},fA(s.getModel("itemStyle"),l));F(a.ensureState("select"),{x:v,y:d,shape:fA(o.getModel(["select","itemStyle"]),l)});F(a.ensureState("blur"),{shape:fA(o.getModel(["blur","itemStyle"]),l)});var g=a.getTextGuideLine();var y=a.getTextContent();g&&F(g.ensureState("select"),{x:v,y:d});F(y.ensureState("select"),{x:v,y:d});Lf(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t,e,r){var i=this;var a=e.getItemModel(r);var n=a.getModel("labelLine");var o=e.getItemVisual(r,"style");var s=o&&o.fill;var l=o&&o.opacity;tv(i,ev(a),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(r,"normal")||e.getName(r)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null});u.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer"){i.removeTextGuideLine()}else{var h=this.getTextGuideLine();if(!h){h=new Fh;this.setTextGuideLine(h)}MI(this,II(a),{stroke:s,opacity:gt(n.get(["lineStyle","opacity"]),l,1)})}};return e}(Ph);var cA=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.ignoreLabelLineUpdate=true;return e}e.prototype.render=function(t,e,r,i){var a=t.getData();var n=this._data;var o=this.group;var s;if(!n&&a.count()>0){var l=a.getItemLayout(0);for(var u=1;isNaN(l&&l.startAngle)&&u<a.count();++u){l=a.getItemLayout(u)}if(l){s=l.startAngle}}if(this._emptyCircleSector){o.remove(this._emptyCircleSector)}if(a.count()===0&&t.get("showEmptyCircle")){var f=new Ph({shape:eA(t,r)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle());this._emptyCircleSector=f;o.add(f)}a.diff(n).add((function(t){var e=new hA(a,t,s);a.setItemGraphicEl(t,e);o.add(e)})).update((function(t,e){var r=n.getItemGraphicEl(e);r.updateData(a,t,s);r.off("click");o.add(r);a.setItemGraphicEl(t,r)})).remove((function(e){var r=n.getItemGraphicEl(e);pc(r,t,e)})).execute();uA(t);if(t.get("animationTypeUpdate")!=="expansion"){this._data=a}};e.prototype.dispose=function(){};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="pie";return e}(mm);function vA(t,e,r){e=et(e)&&{coordDimensions:e}||F({encodeDefine:t.getEncode()},e);var i=t.getSource();var a=Bb(i,e).dimensions;var n=new Vb(a,t);n.initData(i,r);return n}var dA=function(){function t(t,e){this._getDataWithEncodedVisual=t;this._getRawData=e}t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)};t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0};t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)};t.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)};return t}();var pA=Bo();var gA=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new dA(Q(this.getData,this),Q(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)};e.prototype.getInitialData=function(){return vA(this,{coordDimensions:["value"],encodeDefaulter:tt(hp,this)})};e.prototype.getDataParams=function(e){var r=this.getData();var i=pA(r);var a=i.seats;if(!a){var n=[];r.each(r.mapDimension("value"),(function(t){n.push(t)}));a=i.seats=Yn(n,r.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,e);o.percent=a[e]||0;o.$vars.push("percent");return o};e.prototype._defaultLabelLine=function(t){mo(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.type="series.pie";e.defaultOption={z:2,legendHoverLink:true,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:true,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return e}(nm);function yA(t){return{seriesType:t,reset:function(t,e){var r=t.getData();r.filterSelf((function(t){var e=r.mapDimension("value");var i=r.get(e,t);if(nt(i)&&!isNaN(i)&&i<0){return false}return true}))}}}function mA(t){t.registerChartView(cA);t.registerSeriesModel(gA);y_("pie",t.registerAction);t.registerLayout(tt(rA,"pie"));t.registerProcessor(iA("pie"));t.registerProcessor(yA("pie"))}var _A=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return Qb(null,this,{useEncodeDefaulter:true})};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?5e3:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?1e4:this.get("progressiveThreshold")}return t};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""};e.type="series.scatter";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};return e}(nm);var xA=4;var wA=function(){function t(){}return t}();var bA=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}e.prototype.getDefaultShape=function(){return new wA};e.prototype.reset=function(){this.notClear=false;this._off=0};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.size;var a=this.symbolProxy;var n=a.shape;var o=t.getContext?t.getContext():t;var s=o&&i[0]<xA;var l=this.softClipShape;var u;if(s){this._ctx=o;return}this._ctx=null;for(u=this._off;u<r.length;){var f=r[u++];var h=r[u++];if(isNaN(f)||isNaN(h)){continue}if(l&&!l.contain(f,h)){continue}n.x=f-i[0]/2;n.y=h-i[1]/2;n.width=i[0];n.height=i[1];a.buildPath(t,n,true)}if(this.incremental){this._off=u;this.notClear=true}};e.prototype.afterBrush=function(){var t=this.shape;var e=t.points;var r=t.size;var i=this._ctx;var a=this.softClipShape;var n;if(!i){return}for(n=this._off;n<e.length;){var o=e[n++];var s=e[n++];if(isNaN(o)||isNaN(s)){continue}if(a&&!a.contain(o,s)){continue}i.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1])}if(this.incremental){this._off=n;this.notClear=true}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.points;var a=r.size;var n=Math.max(a[0],4);var o=Math.max(a[1],4);for(var s=i.length/2-1;s>=0;s--){var l=s*2;var u=i[l]-n/2;var f=i[l+1]-o/2;if(t>=u&&e>=f&&t<=u+n&&e<=f+o){return s}}return-1};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();t=r[0];e=r[1];if(i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}this.hoverDataIdx=-1;return false};e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){var e=this.shape;var r=e.points;var i=e.size;var a=i[0];var n=i[1];var o=Infinity;var s=Infinity;var l=-Infinity;var u=-Infinity;for(var f=0;f<r.length;){var h=r[f++];var c=r[f++];o=Math.min(h,o);l=Math.max(h,l);s=Math.min(c,s);u=Math.max(c,u)}t=this._rect=new Je(o-a/2,s-n/2,l-o+a,u-s+n)}return t};return e}(jl);var SA=function(){function t(){this.group=new Tn}t.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")});this._setCommon(r,t,e)};t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(t.startIndex!=null){var r=(t.endIndex-t.startIndex)*2;var i=t.startIndex*4*2;e=new Float32Array(e.buffer,i,r)}t.setShape("points",e);t.reset()}))};t.prototype.incrementalPrepareUpdate=function(t){this._clear()};t.prototype.incrementalUpdate=function(t,e,r){var i=this._newAdded[0];var a=e.getLayout("points");var n=i&&i.shape.points;if(n&&n.length<2e4){var o=n.length;var s=new Float32Array(o+a.length);s.set(n);s.set(a,o);i.endIndex=t.end;i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start;l.endIndex=t.end;l.incremental=true;l.setShape({points:a});this._setCommon(l,e,r)}};t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])};t.prototype._create=function(){var t=new bA({cursor:"default"});t.ignoreCoarsePointer=true;this.group.add(t);this._newAdded.push(t);return t};t.prototype._setCommon=function(t,e,r){var i=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]);t.softClipShape=r.clipShape||null;t.symbolProxy=O_(e.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;var n=t.shape.size[0]<xA;t.useStyle(i.getModel("itemStyle").getItemStyle(n?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("style");var s=o&&o.fill;if(s){t.setColor(s)}var l=Tu(t);l.seriesIndex=i.seriesIndex;t.on("mousemove",(function(e){l.dataIndex=null;var r=t.hoverDataIdx;if(r>=0){l.dataIndex=r+(t.startIndex||0)}}))};t.prototype.remove=function(){this._clear()};t.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return t}();var MA=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.updateData(i,{clipShape:this._getClipShape(t)});this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.incrementalPrepareUpdate(i);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)});this._finished=t.end===e.getData().count()};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();if(!this._finished||i.count()>1e4){return{update:true}}else{var a=dC("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout(i)}};e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)};e.prototype._getClipShape=function(t){var e=t.coordinateSystem;var r=e&&e.getArea&&e.getArea();return t.get("clip",true)?r:null};e.prototype._updateSymbolDraw=function(t,e){var r=this._symbolDraw;var i=e.pipelineContext;var a=i.large;if(!r||a!==this._isLargeDraw){r&&r.remove();r=this._symbolDraw=a?new SA:new PD;this._isLargeDraw=a;this.group.removeAll()}this.group.add(r.group);return r};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};e.prototype.dispose=function(){};e.type="scatter";return e}(mm);var IA=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.type="grid";e.dependencies=["xAxis","yAxis"];e.layoutMode="box";e.defaultOption={show:false,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return e}(Zd);var TA=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ho).models[0]};e.type="cartesian2dAxis";return e}(Zd);Y(TA,xM);var DA={show:true,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var CA=V({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},DA);var AA=V({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},DA);var kA=V({splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},AA);var LA=G({logBase:10},AA);var PA={category:CA,value:AA,time:kA,log:LA};var OA={value:1,category:1,time:1,log:1};function NA(t,e,r,i){X(OA,(function(a,n){var o=V(V({},PA[n],true),i,true);var s=function(t){u(r,t);function r(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e+"Axis."+n;return r}r.prototype.mergeDefaultAndTheme=function(t,e){var r=Wd(this);var i=r?Yd(t):{};var a=e.getTheme();V(t,a.get(n+"Axis"));V(t,this.getDefaultOption());t.type=RA(t);if(r){Hd(t,i,r)}};r.prototype.optionUpdated=function(){var t=this.option;if(t.type==="category"){this.__ordinalMeta=aS.createByAxisModel(this)}};r.prototype.getCategories=function(t){var e=this.option;if(e.type==="category"){if(t){return e.data}return this.__ordinalMeta.categories}};r.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};r.type=e+"Axis."+n;r.defaultOption=o;return r}(r);t.registerComponentModel(s)}));t.registerSubTypeDefaulter(e+"Axis",RA)}function RA(t){return t.type||(t.data?"category":"value")}var EA=function(){function t(t){this.type="cartesian";this._dimList=[];this._axes={};this.name=t||""}t.prototype.getAxis=function(t){return this._axes[t]};t.prototype.getAxes=function(){return Z(this._dimList,(function(t){return this._axes[t]}),this)};t.prototype.getAxesByScale=function(t){t=t.toLowerCase();return q(this.getAxes(),(function(e){return e.scale.type===t}))};t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t;this._dimList.push(e)};return t}();var zA=["x","y"];function VA(t){return t.type==="interval"||t.type==="time"}var BA=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="cartesian2d";e.dimensions=zA;return e}e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale;var e=this.getAxis("y").scale;if(!VA(t)||!VA(e)){return}var r=t.getExtent();var i=e.getExtent();var a=this.dataToPoint([r[0],i[0]]);var n=this.dataToPoint([r[1],i[1]]);var o=r[1]-r[0];var s=i[1]-i[0];if(!o||!s){return}var l=(n[0]-a[0])/o;var u=(n[1]-a[1])/s;var f=a[0]-r[0]*l;var h=a[1]-i[0]*u;var c=this._transform=[l,0,0,u,f,h];this._invTransform=Ge([],c)};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};e.prototype.containPoint=function(t){var e=this.getAxis("x");var r=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))};e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])};e.prototype.containZone=function(t,e){var r=this.dataToPoint(t);var i=this.dataToPoint(e);var a=this.getArea();var n=new Je(r[0],r[1],i[0]-r[0],i[1]-r[1]);return a.intersect(n)};e.prototype.dataToPoint=function(t,e,r){r=r||[];var i=t[0];var a=t[1];if(this._transform&&i!=null&&isFinite(i)&&a!=null&&isFinite(a)){return Qt(r,t,this._transform)}var n=this.getAxis("x");var o=this.getAxis("y");r[0]=n.toGlobalCoord(n.dataToCoord(i,e));r[1]=o.toGlobalCoord(o.dataToCoord(a,e));return r};e.prototype.clampData=function(t,e){var r=this.getAxis("x").scale;var i=this.getAxis("y").scale;var a=r.getExtent();var n=i.getExtent();var o=r.parse(t[0]);var s=i.parse(t[1]);e=e||[];e[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1]));e[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1]));return e};e.prototype.pointToData=function(t,e){var r=[];if(this._invTransform){return Qt(r,t,this._invTransform)}var i=this.getAxis("x");var a=this.getAxis("y");r[0]=i.coordToData(i.toLocalCoord(t[0]),e);r[1]=a.coordToData(a.toLocalCoord(t[1]),e);return r};e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")};e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent();var e=this.getAxis("y").getGlobalExtent();var r=Math.min(t[0],t[1]);var i=Math.min(e[0],e[1]);var a=Math.max(t[0],t[1])-r;var n=Math.max(e[0],e[1])-i;return new Je(r,i,a,n)};return e}(EA);var FA=function(t){u(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.index=0;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.getGlobalExtent=function(t){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);t&&e[0]>e[1]&&e.reverse();return e};e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),e)};e.prototype.setCategorySortInfo=function(t){if(this.type!=="category"){return false}this.model.option.categorySortInfo=t;this.scale.setSortInfo(t)};return e}(QM);function GA(t,e,r){r=r||{};var i=t.coordinateSystem;var a=e.axis;var n={};var o=a.getAxesOnZeroOf()[0];var s=a.position;var l=o?"onZero":s;var u=a.dim;var f=i.getRect();var h=[f.x,f.x+f.width,f.y,f.y+f.height];var c={left:0,right:1,top:0,bottom:1,onZero:2};var v=e.get("offset")||0;var d=u==="x"?[h[2]-v,h[3]+v]:[h[0]-v,h[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}n.position=[u==="y"?d[c[l]]:h[0],u==="x"?d[c[l]]:h[3]];n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[s];n.labelOffset=o?d[c[s]]-d[c.onZero]:0;if(e.get(["axisTick","inside"])){n.tickDirection=-n.tickDirection}if(dt(r.labelInside,e.get(["axisLabel","inside"]))){n.labelDirection=-n.labelDirection}var y=e.get(["axisLabel","rotate"]);n.labelRotate=l==="top"?-y:y;n.z2=1;return n}function WA(t){return t.get("coordinateSystem")==="cartesian2d"}function HA(t){var e={xAxisModel:null,yAxisModel:null};X(e,(function(r,i){var a=i.replace(/Model$/,"");var n=t.getReferringComponents(a,Ho).models[0];e[i]=n}));return e}var YA=Math.log;function UA(t,e,r){var i=yS.prototype;var a=i.getTicks.call(r);var n=i.getTicks.call(r,true);var o=a.length-1;var s=i.getInterval.call(r);var l=sM(t,e);var u=l.extent;var f=l.fixMin;var h=l.fixMax;if(t.type==="log"){var c=YA(t.base);u=[YA(u[0])/c,YA(u[1])/c]}t.setExtent(u[0],u[1]);t.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:h});var v=i.getExtent.call(t);if(f){u[0]=v[0]}if(h){u[1]=v[1]}var d=i.getInterval.call(t);var p=u[0];var g=u[1];if(f&&h){d=(g-p)/o}else if(f){g=u[0]+d*o;while(g<u[1]&&isFinite(g)&&isFinite(u[1])){d=lS(d);g=u[0]+d*o}}else if(h){p=u[1]-d*o;while(p>u[0]&&isFinite(p)&&isFinite(u[0])){d=lS(d);p=u[1]-d*o}}else{var y=t.getTicks().length-1;if(y>o){d=lS(d)}var m=d*o;g=Math.ceil(u[1]/d)*d;p=Bn(g-m);if(p<0&&u[0]>=0){p=0;g=Bn(m)}else if(g>0&&u[1]<=0){g=0;p=-Bn(m)}}var _=(a[0].value-n[0].value)/s;var x=(a[o].value-n[o].value)/s;i.setExtent.call(t,p+d*_,g+d*x);i.setInterval.call(t,d);if(_||x){i.setNiceExtent.call(t,p+d,g-d)}}var XA=function(){function t(t,e,r){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=zA;this._initCartesian(t,e,r);this.model=t}t.prototype.getRect=function(){return this._rect};t.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function i(t){var e;var r=$(t);var i=r.length;if(!i){return}var a=[];for(var n=i-1;n>=0;n--){var o=+r[n];var s=t[o];var l=s.model;var u=s.scale;if(oS(u)&&l.get("alignTicks")&&l.get("interval")==null){a.push(s)}else{uM(u,l);if(oS(u)){e=s}}}if(a.length){if(!e){e=a.pop();uM(e.scale,e.model)}X(a,(function(t){UA(t.scale,t.model,e.scale)}))}}i(r.x);i(r.y);var a={};X(r.x,(function(t){jA(r,"y",t,a)}));X(r.y,(function(t){jA(r,"x",t,a)}));this.resize(this.model,e)};t.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams();var a=!r&&t.get("containLabel");var n=Bd(i,{width:e.getWidth(),height:e.getHeight()});this._rect=n;var o=this._axesList;s();if(a){X(o,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=dM(t);if(e){var r=t.isHorizontal()?"height":"width";var i=t.model.get(["axisLabel","margin"]);n[r]-=e[r]+i;if(t.position==="top"){n.y+=e.height+i}else if(t.position==="left"){n.x+=e.width+i}}}}));s()}X(this._coordsList,(function(t){t.calcAffineTransform()}));function s(){X(o,(function(t){var e=t.isHorizontal();var r=e?[0,n.width]:[0,n.height];var i=t.inverse?1:0;t.setExtent(r[i],r[1-i]);KA(t,e?n.x:n.y)}))}};t.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null){return r[e||0]}};t.prototype.getAxes=function(){return this._axesList.slice()};t.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}if(ot(t)){e=t.yAxisIndex;t=t.xAxisIndex}for(var i=0,a=this._coordsList;i<a.length;i++){if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e){return a[i]}}};t.prototype.getCartesians=function(){return this._coordsList.slice()};t.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null};t.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null};t.prototype._findConvertTarget=function(t){var e=t.seriesModel;var r=t.xAxisModel||e&&e.getReferringComponents("xAxis",Ho).models[0];var i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Ho).models[0];var a=t.gridModel;var n=this._coordsList;var o;var s;if(e){o=e.coordinateSystem;W(n,o)<0&&(o=null)}else if(r&&i){o=this.getCartesian(r.componentIndex,i.componentIndex)}else if(r){s=this.getAxis("x",r.componentIndex)}else if(i){s=this.getAxis("y",i.componentIndex)}else if(a){var l=a.coordinateSystem;if(l===this){o=this._coordsList[0]}}return{cartesian:o,axis:s}};t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e){return e.containPoint(t)}};t.prototype._initCartesian=function(t,e,r){var i=this;var a=this;var n={left:false,right:false,top:false,bottom:false};var o={x:{},y:{}};var s={x:0,y:0};e.eachComponent("xAxis",l("x"),this);e.eachComponent("yAxis",l("y"),this);if(!s.x||!s.y){this._axesMap={};this._axesList=[];return}this._axesMap=o;X(o.x,(function(e,r){X(o.y,(function(a,n){var o="x"+r+"y"+n;var s=new BA(o);s.master=i;s.model=t;i._coordsMap[o]=s;i._coordsList.push(s);s.addAxis(e);s.addAxis(a)}))}));function l(e){return function(r,i){if(!ZA(r,t)){return}var l=r.get("position");if(e==="x"){if(l!=="top"&&l!=="bottom"){l=n.bottom?"top":"bottom"}}else{if(l!=="left"&&l!=="right"){l=n.left?"right":"left"}}n[l]=true;var u=new FA(e,fM(r),[0,0],r.get("type"),l);var f=u.type==="category";u.onBand=f&&r.get("boundaryGap");u.inverse=r.get("inverse");r.axis=u;u.model=r;u.grid=a;u.index=i;a._axesList.push(u);o[e][i]=u;s[e]++}}};t.prototype._updateScale=function(t,e){X(this._axesList,(function(t){t.scale.setExtent(Infinity,-Infinity);if(t.type==="category"){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}}));t.eachSeries((function(t){if(WA(t)){var i=HA(t);var a=i.xAxisModel;var n=i.yAxisModel;if(!ZA(a,e)||!ZA(n,e)){return}var o=this.getCartesian(a.componentIndex,n.componentIndex);var s=t.getData();var l=o.getAxis("x");var u=o.getAxis("y");r(s,l);r(s,u)}}),this);function r(t,e){X(mM(t,e.dim),(function(r){e.scale.unionExtentFromData(t,r)}))}};t.prototype.getTooltipAxes=function(t){var e=[];var r=[];X(this.getCartesians(),(function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis();var n=i.getOtherAxis(a);W(e,a)<0&&e.push(a);W(r,n)<0&&r.push(n)}));return{baseAxes:e,otherAxes:r}};t.create=function(e,r){var i=[];e.eachComponent("grid",(function(a,n){var o=new t(a,e,r);o.name="grid_"+n;o.resize(a,r,true);a.coordinateSystem=o;i.push(o)}));e.eachSeries((function(t){if(!WA(t)){return}var e=HA(t);var r=e.xAxisModel;var i=e.yAxisModel;var a=r.getCoordSysModel();var n=a.coordinateSystem;t.coordinateSystem=n.getCartesian(r.componentIndex,i.componentIndex)}));return i};t.dimensions=zA;return t}();function ZA(t,e){return t.getCoordSysModel()===e}function jA(t,e,r,i){r.getAxesOnZeroOf=function(){return n?[n]:[]};var a=t[e];var n;var o=r.model;var s=o.get(["axisLine","onZero"]);var l=o.get(["axisLine","onZeroAxisIndex"]);if(!s){return}if(l!=null){if(qA(a[l])){n=a[l]}}else{for(var u in a){if(a.hasOwnProperty(u)&&qA(a[u])&&!i[f(a[u])]){n=a[u];break}}}if(n){i[f(n)]=true}function f(t){return t.dim+"_"+t.index}}function qA(t){return t&&t.type!=="category"&&t.type!=="time"&&hM(t)}function KA(t,e){var r=t.getExtent();var i=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=t.dim==="x"?function(t){return t-e}:function(t){return i-t+e}}var $A=Math.PI;var JA=function(){function t(t,e){this.group=new Tn;this.opt=e;this.axisModel=t;G(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var r=new Tn({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform();this._transformGroup=r}t.prototype.hasBuilder=function(t){return!!QA[t]};t.prototype.add=function(t){QA[t](this.opt,this.axisModel,this.group,this._transformGroup)};t.prototype.getGroup=function(){return this.group};t.innerTextLayout=function(t,e,r){var i=Zn(e-t);var a;var n;if(jn(i)){n=r>0?"top":"bottom";a="center"}else if(jn(i-$A)){n=r>0?"bottom":"top";a="center"}else{n="middle";if(i>0&&i<$A){a=r>0?"right":"left"}else{a=r>0?"left":"right"}}return{rotation:i,textAlign:a,textVerticalAlign:n}};t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};e[t.mainType+"Index"]=t.componentIndex;return e};t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};return t}();var QA={axisLine:function(t,e,r,i){var a=e.get(["axisLine","show"]);if(a==="auto"&&t.handleAutoShown){a=t.handleAutoShown("axisLine")}if(!a){return}var n=e.axis.getExtent();var o=i.transform;var s=[n[0],0];var l=[n[1],0];var u=s[0]>l[0];if(o){Qt(s,s,o);Qt(l,l,o)}var f=F({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle());var h=new Hh({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:true,z2:1});Lc(h.shape,h.style.lineWidth);h.anid="line";r.add(h);var c=e.get(["axisLine","symbol"]);if(c!=null){var v=e.get(["axisLine","symbolSize"]);if(it(c)){c=[c,c]}if(it(v)||nt(v)){v=[v,v]}var d=R_(e.get(["axisLine","symbolOffset"])||0,v);var p=v[0];var g=v[1];X([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,i){if(c[i]!=="none"&&c[i]!=null){var a=O_(c[i],-p/2,-g/2,p,g,f.stroke,true);var n=e.r+e.offset;var o=u?l:s;a.attr({rotation:e.rotate,x:o[0]+n*Math.cos(t.rotation),y:o[1]-n*Math.sin(t.rotation),silent:true,z2:11});r.add(a)}}))}},axisTickLabel:function(t,e,r,i){var a=ok(r,i,e,t);var n=lk(r,i,e,t);ek(e,n,a);sk(r,i,e,t.tickDirection);if(e.get(["axisLabel","hideOverlap"])){var o=TI(Z(n,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));kI(o)}},axisName:function(t,e,r,i){var a=dt(t.axisName,e.get("name"));if(!a){return}var n=e.get("nameLocation");var o=t.nameDirection;var s=e.getModel("nameTextStyle");var l=e.get("nameGap")||0;var u=e.axis.getExtent();var f=u[0]>u[1]?-1:1;var h=[n==="start"?u[0]-f*l:n==="end"?u[1]+f*l:(u[0]+u[1])/2,ak(n)?t.labelOffset+o*l:0];var c;var v=e.get("nameRotate");if(v!=null){v=v*$A/180}var d;if(ak(n)){c=JA.innerTextLayout(t.rotation,v!=null?v:t.rotation,o)}else{c=tk(t.rotation,n,v||0,u);d=t.axisNameAvailableWidth;if(d!=null){d=Math.abs(d/Math.sin(c.rotation));!isFinite(d)&&(d=null)}}var p=s.getFont();var g=e.get("nameTruncate",true)||{};var y=g.ellipsis;var m=dt(t.nameTruncateMaxWidth,g.maxWidth,d);var _=new cu({x:h[0],y:h[1],rotation:c.rotation,silent:JA.isLabelSilent(e),style:rv(s,{text:a,font:p,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||c.textAlign,verticalAlign:s.get("verticalAlign")||c.textVerticalAlign}),z2:1});Zc({el:_,componentModel:e,itemName:a});_.__fullText=a;_.anid="name";if(e.get("triggerEvent")){var x=JA.makeAxisEventDataBase(e);x.targetType="axisName";x.name=a;Tu(_).eventData=x}i.add(_);_.updateTransform();r.add(_);_.decomposeTransform()}};function tk(t,e,r,i){var a=Zn(r-t);var n;var o;var s=i[0]>i[1];var l=e==="start"&&!s||e!=="start"&&s;if(jn(a-$A/2)){o=l?"bottom":"top";n="center"}else if(jn(a-$A*1.5)){o=l?"top":"bottom";n="center"}else{o="middle";if(a<$A*1.5&&a>$A/2){n=l?"left":"right"}else{n=l?"right":"left"}}return{rotation:a,textAlign:n,textVerticalAlign:o}}function ek(t,e,r){if(yM(t.axis)){return}var i=t.get(["axisLabel","showMinLabel"]);var a=t.get(["axisLabel","showMaxLabel"]);e=e||[];r=r||[];var n=e[0];var o=e[1];var s=e[e.length-1];var l=e[e.length-2];var u=r[0];var f=r[1];var h=r[r.length-1];var c=r[r.length-2];if(i===false){rk(n);rk(u)}else if(ik(n,o)){if(i){rk(o);rk(f)}else{rk(n);rk(u)}}if(a===false){rk(s);rk(h)}else if(ik(l,s)){if(a){rk(l);rk(c)}else{rk(s);rk(h)}}}function rk(t){t&&(t.ignore=true)}function ik(t,e){var r=t&&t.getBoundingRect().clone();var i=e&&e.getBoundingRect().clone();if(!r||!i){return}var a=Re([]);Be(a,a,-t.rotation);r.applyTransform(ze([],a,t.getLocalTransform()));i.applyTransform(ze([],a,e.getLocalTransform()));return r.intersect(i)}function ak(t){return t==="middle"||t==="center"}function nk(t,e,r,i,a){var n=[];var o=[];var s=[];for(var l=0;l<t.length;l++){var u=t[l].coord;o[0]=u;o[1]=0;s[0]=u;s[1]=r;if(e){Qt(o,o,e);Qt(s,s,e)}var f=new Hh({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:true,silent:true});Lc(f.shape,f.style.lineWidth);f.anid=a+"_"+t[l].tickValue;n.push(f)}return n}function ok(t,e,r,i){var a=r.axis;var n=r.getModel("axisTick");var o=n.get("show");if(o==="auto"&&i.handleAutoShown){o=i.handleAutoShown("axisTick")}if(!o||a.scale.isBlank()){return}var s=n.getModel("lineStyle");var l=i.tickDirection*n.get("length");var u=a.getTicksCoords();var f=nk(u,e.transform,l,G(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks");for(var h=0;h<f.length;h++){t.add(f[h])}return f}function sk(t,e,r,i){var a=r.axis;var n=r.getModel("minorTick");if(!n.get("show")||a.scale.isBlank()){return}var o=a.getMinorTicksCoords();if(!o.length){return}var s=n.getModel("lineStyle");var l=i*n.get("length");var u=G(s.getLineStyle(),G(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}));for(var f=0;f<o.length;f++){var h=nk(o[f],e.transform,l,u,"minorticks_"+f);for(var c=0;c<h.length;c++){t.add(h[c])}}}function lk(t,e,r,i){var a=r.axis;var n=dt(i.axisLabelShow,r.get(["axisLabel","show"]));if(!n||a.scale.isBlank()){return}var o=r.getModel("axisLabel");var s=o.get("margin");var l=a.getViewLabels();var u=(dt(i.labelRotate,o.get("rotate"))||0)*$A/180;var f=JA.innerTextLayout(i.rotation,u,i.labelDirection);var h=r.getCategories&&r.getCategories(true);var c=[];var v=JA.isLabelSilent(r);var d=r.get("triggerEvent");X(l,(function(n,l){var u=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(n.tickValue):n.tickValue;var p=n.formattedLabel;var g=n.rawLabel;var y=o;if(h&&h[u]){var m=h[u];if(ot(m)&&m.textStyle){y=new Mv(m.textStyle,o,r.ecModel)}}var _=y.getTextColor()||r.get(["axisLine","lineStyle","color"]);var x=a.dataToCoord(u);var w=new cu({x:x,y:i.labelOffset+i.labelDirection*s,rotation:f.rotation,silent:v,z2:10+(n.level||0),style:rv(y,{text:p,align:y.getShallow("align",true)||f.textAlign,verticalAlign:y.getShallow("verticalAlign",true)||y.getShallow("baseline",true)||f.textVerticalAlign,fill:rt(_)?_(a.type==="category"?g:a.type==="value"?u+"":u,l):_})});w.anid="label_"+u;if(d){var b=JA.makeAxisEventDataBase(r);b.targetType="axisLabel";b.value=g;b.tickIndex=l;if(a.type==="category"){b.dataIndex=u}Tu(w).eventData=b}e.add(w);w.updateTransform();c.push(w);t.add(w);w.decomposeTransform()}));return c}function uk(t,e){var r={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};fk(r,t,e);r.seriesInvolved&&ck(r,t);return r}function fk(t,e,r){var i=e.getComponent("tooltip");var a=e.getComponent("axisPointer");var n=a.get("link",true)||[];var o=[];X(r.getCoordinateSystems(),(function(r){if(!r.axisPointerEnabled){return}var s=_k(r.model);var l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=r;var u=r.model;var f=u.getModel("tooltip",i);X(r.getAxes(),tt(d,false,null));if(r.getTooltipAxes&&i&&f.get("show")){var h=f.get("trigger")==="axis";var c=f.get(["axisPointer","type"])==="cross";var v=r.getTooltipAxes(f.get(["axisPointer","axis"]));if(h||c){X(v.baseAxes,tt(d,c?"cross":true,h))}if(c){X(v.otherAxes,tt(d,"cross",false))}}function d(i,s,u){var h=u.model.getModel("axisPointer",a);var c=h.get("show");if(!c||c==="auto"&&!i&&!mk(h)){return}if(s==null){s=h.get("triggerTooltip")}h=i?hk(u,f,a,e,i,s):h;var v=h.get("snap");var d=_k(u.model);var p=s||v||u.type==="category";var g=t.axesInfo[d]={key:d,axis:u,coordSys:r,axisPointerModel:h,triggerTooltip:s,involveSeries:p,snap:v,useHandle:mk(h),seriesModels:[],linkGroup:null};l[d]=g;t.seriesInvolved=t.seriesInvolved||p;var y=vk(n,u);if(y!=null){var m=o[y]||(o[y]={axesInfo:{}});m.axesInfo[d]=g;m.mapper=n[y].mapper;g.linkGroup=m}}}))}function hk(t,e,r,i,a,n){var o=e.getModel("axisPointer");var s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var l={};X(s,(function(t){l[t]=z(o.get(t))}));l.snap=t.type!=="category"&&!!n;if(o.get("type")==="cross"){l.type="line"}var u=l.label||(l.label={});u.show==null&&(u.show=false);if(a==="cross"){var f=o.get(["label","show"]);u.show=f!=null?f:true;if(!n){var h=l.lineStyle=o.get("crossStyle");h&&G(u,h.textStyle)}}return t.model.getModel("axisPointer",new Mv(l,r,i))}function ck(t,e){e.eachSeries((function(e){var r=e.coordinateSystem;var i=e.get(["tooltip","trigger"],true);var a=e.get(["tooltip","show"],true);if(!r||i==="none"||i===false||i==="item"||a===false||e.get(["axisPointer","show"],true)===false){return}X(t.coordSysAxesInfo[_k(r.model)],(function(t){var i=t.axis;if(r.getAxis(i.dim)===i){t.seriesModels.push(e);t.seriesDataCount==null&&(t.seriesDataCount=0);t.seriesDataCount+=e.getData().count()}}))}))}function vk(t,e){var r=e.model;var i=e.dim;for(var a=0;a<t.length;a++){var n=t[a]||{};if(dk(n[i+"AxisId"],r.id)||dk(n[i+"AxisIndex"],r.componentIndex)||dk(n[i+"AxisName"],r.name)){return a}}}function dk(t,e){return t==="all"||et(t)&&W(t,e)>=0||t===e}function pk(t){var e=gk(t);if(!e){return}var r=e.axisPointerModel;var i=e.axis.scale;var a=r.option;var n=r.get("status");var o=r.get("value");if(o!=null){o=i.parse(o)}var s=mk(r);if(n==null){a.status=s?"show":"hide"}var l=i.getExtent().slice();l[0]>l[1]&&l.reverse();if(o==null||o>l[1]){o=l[1]}if(o<l[0]){o=l[0]}a.value=o;if(s){a.status=e.axis.scale.isBlank()?"hide":"show"}}function gk(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[_k(t)]}function yk(t){var e=gk(t);return e&&e.axisPointerModel}function mk(t){return!!t.get(["handle","show"])}function _k(t){return t.type+"||"+t.id}var xk={};var wk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(e,r,i,a){this.axisPointerClass&&pk(e);t.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(e,i,true)};e.prototype.updateAxisPointer=function(t,e,r,i){this._doUpdateAxisPointerClass(t,r,false)};e.prototype.remove=function(t,e){var r=this._axisPointer;r&&r.remove(e)};e.prototype.dispose=function(e,r){this._disposeAxisPointer(r);t.prototype.dispose.apply(this,arguments)};e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(!a){return}var n=yk(t);n?(this._axisPointer||(this._axisPointer=new a)).render(t,n,r,i):this._disposeAxisPointer(r)};e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t);this._axisPointer=null};e.registerAxisPointerClass=function(t,e){xk[t]=e};e.getAxisPointerClass=function(t){return t&&xk[t]};e.type="axis";return e}(dm);var bk=Bo();function Sk(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitArea");var o=n.getModel("areaStyle");var s=o.get("color");var l=i.coordinateSystem.getRect();var u=a.getTicksCoords({tickModel:n,clamp:true});if(!u.length){return}var f=s.length;var h=bk(t).splitAreaColors;var c=Ct();var v=0;if(h){for(var d=0;d<u.length;d++){var p=h.get(u[d].tickValue);if(p!=null){v=(p+(f-1)*d)%f;break}}}var g=a.toGlobalCoord(u[0].coord);var y=o.getAreaStyle();s=et(s)?s:[s];for(var d=1;d<u.length;d++){var m=a.toGlobalCoord(u[d].coord);var _=void 0;var x=void 0;var w=void 0;var b=void 0;if(a.isHorizontal()){_=g;x=l.y;w=m-_;b=l.height;g=_+w}else{_=l.x;x=g;w=l.width;b=m-x;g=x+b}var S=u[d-1].tickValue;S!=null&&c.set(S,v);e.add(new lu({anid:S!=null?"area_"+S:null,shape:{x:_,y:x,width:w,height:b},style:G({fill:s[v]},y),autoBatch:true,silent:true}));v=(v+1)%f}bk(t).splitAreaColors=c}function Mk(t){bk(t).splitAreaColors=null}var Ik=["axisLine","axisTickLabel","axisName"];var Tk=["splitArea","splitLine","minorSplitLine"];var Dk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="CartesianAxisPointer";return r}e.prototype.render=function(e,r,i,a){this.group.removeAll();var n=this._axisGroup;this._axisGroup=new Tn;this.group.add(this._axisGroup);if(!e.get("show")){return}var o=e.getCoordSysModel();var s=GA(o,e);var l=new JA(e,F({handleAutoShown:function(t){var r=o.coordinateSystem.getCartesians();for(var i=0;i<r.length;i++){if(oS(r[i].getOtherAxis(e.axis).scale)){return true}}return false}},s));X(Ik,l.add,l);this._axisGroup.add(l.getGroup());X(Tk,(function(t){if(e.get([t,"show"])){Ck[t](this,this._axisGroup,e,o)}}),this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;if(!u){Bc(n,this._axisGroup,e)}t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){Mk(this)};e.type="cartesianAxis";return e}(wk);var Ck={splitLine:function(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");s=et(s)?s:[s];var l=i.coordinateSystem.getRect();var u=a.isHorizontal();var f=0;var h=a.getTicksCoords({tickModel:n});var c=[];var v=[];var d=o.getLineStyle();for(var p=0;p<h.length;p++){var g=a.toGlobalCoord(h[p].coord);if(u){c[0]=g;c[1]=l.y;v[0]=g;v[1]=l.y+l.height}else{c[0]=l.x;c[1]=g;v[0]=l.x+l.width;v[1]=g}var y=f++%s.length;var m=h[p].tickValue;var _=new Hh({anid:m!=null?"line_"+h[p].tickValue:null,autoBatch:true,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:G({stroke:s[y]},d),silent:true});Lc(_.shape,d.lineWidth);e.add(_)}},minorSplitLine:function(t,e,r,i){var a=r.axis;var n=r.getModel("minorSplitLine");var o=n.getModel("lineStyle");var s=i.coordinateSystem.getRect();var l=a.isHorizontal();var u=a.getMinorTicksCoords();if(!u.length){return}var f=[];var h=[];var c=o.getLineStyle();for(var v=0;v<u.length;v++){for(var d=0;d<u[v].length;d++){var p=a.toGlobalCoord(u[v][d].coord);if(l){f[0]=p;f[1]=s.y;h[0]=p;h[1]=s.y+s.height}else{f[0]=s.x;f[1]=p;h[0]=s.x+s.width;h[1]=p}var g=new Hh({anid:"minor_line_"+u[v][d].tickValue,autoBatch:true,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:c,silent:true});Lc(g.shape,c.lineWidth);e.add(g)}}},splitArea:function(t,e,r,i){Sk(t,e,r,i)}};var Ak=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="xAxis";return e}(Dk);var kk=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type=Ak.type;return e}e.type="yAxis";return e}(Dk);var Lk=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="grid";return e}e.prototype.render=function(t,e){this.group.removeAll();if(t.get("show")){this.group.add(new lu({shape:t.coordinateSystem.getRect(),style:G({fill:t.get("backgroundColor")},t.getItemStyle()),silent:true,z2:-1}))}};e.type="grid";return e}(dm);var Pk={offset:0};function Ok(t){t.registerComponentView(Lk);t.registerComponentModel(IA);t.registerCoordinateSystem("cartesian2d",XA);NA(t,"x",TA,Pk);NA(t,"y",TA,Pk);t.registerComponentView(Ak);t.registerComponentView(kk);t.registerPreprocessor((function(t){if(t.xAxis&&t.yAxis&&!t.grid){t.grid={}}}))}function Nk(t){sb(Ok);t.registerSeriesModel(_A);t.registerChartView(MA);t.registerLayout(dC("scatter"))}function Rk(t){t.eachSeriesByType("radar",(function(t){var e=t.getData();var r=[];var i=t.coordinateSystem;if(!i){return}var a=i.getIndicatorAxes();X(a,(function(t,n){e.each(e.mapDimension(a[n].dim),(function(t,e){r[e]=r[e]||[];var a=i.dataToPoint(t,n);r[e][n]=Ek(a)?a:zk(i)}))}));e.each((function(t){var a=K(r[t],(function(t){return Ek(t)}))||zk(i);r[t].push(a.slice());e.setItemLayout(t,r[t])}))}))}function Ek(t){return!isNaN(t[0])&&!isNaN(t[1])}function zk(t){return[t.cx,t.cy]}function Vk(t){var e=t.polar;if(e){if(!et(e)){e=[e]}var r=[];X(e,(function(e,i){if(e.indicator){if(e.type&&!e.shape){e.shape=e.type}t.radar=t.radar||[];if(!et(t.radar)){t.radar=[t.radar]}t.radar.push(e)}else{r.push(e)}}));t.polar=r}X(t.series,(function(t){if(t&&t.type==="radar"&&t.polarIndex){t.radarIndex=t.polarIndex}}))}var Bk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.coordinateSystem;var a=this.group;var n=t.getData();var o=this._data;function s(t,e){var r=t.getItemVisual(e,"symbol")||"circle";if(r==="none"){return}var i=N_(t.getItemVisual(e,"symbolSize"));var a=O_(r,-1,-1,2,2);var n=t.getItemVisual(e,"symbolRotate")||0;a.attr({style:{strokeNoScale:true},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:n*Math.PI/180||0});return a}function l(e,r,i,a,n,o){i.removeAll();for(var l=0;l<r.length-1;l++){var u=s(a,n);if(u){u.__dimIdx=l;if(e[l]){u.setPosition(e[l]);Kc[o?"initProps":"updateProps"](u,{x:r[l][0],y:r[l][1]},t,n)}else{u.setPosition(r[l])}i.add(u)}}}function u(t){return Z(t,(function(t){return[i.cx,i.cy]}))}n.diff(o).add((function(e){var r=n.getItemLayout(e);if(!r){return}var i=new Vh;var a=new Fh;var o={shape:{points:r}};i.shape.points=u(r);a.shape.points=u(r);hc(i,o,t,e);hc(a,o,t,e);var s=new Tn;var f=new Tn;s.add(a);s.add(i);s.add(f);l(a.shape.points,r,f,n,e,true);n.setItemGraphicEl(e,s)})).update((function(e,r){var i=o.getItemGraphicEl(r);var a=i.childAt(0);var s=i.childAt(1);var u=i.childAt(2);var f={shape:{points:n.getItemLayout(e)}};if(!f.shape.points){return}l(a.shape.points,f.shape.points,u,n,e,false);gc(s);gc(a);fc(a,f,t);fc(s,f,t);n.setItemGraphicEl(e,i)})).remove((function(t){a.remove(o.getItemGraphicEl(t))})).execute();n.eachItemGraphicEl((function(t,e){var r=n.getItemModel(e);var i=t.childAt(0);var o=t.childAt(1);var s=t.childAt(2);var l=n.getItemVisual(e,"style");var u=l.fill;a.add(t);i.useStyle(G(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u}));Rf(i,r,"lineStyle");Rf(o,r,"areaStyle");var f=r.getModel("areaStyle");var h=f.isEmpty()&&f.parentModel.isEmpty();o.ignore=h;X(["emphasis","select","blur"],(function(t){var e=r.getModel([t,"areaStyle"]);var i=e.isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=i&&h}));o.useStyle(G(f.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var c=r.getModel("emphasis");var v=c.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof tu){var i=t.style;t.useStyle(F({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else{t.useStyle(l);t.setColor(u);t.style.strokeNoScale=true}var a=t.ensureState("emphasis");a.style=z(v);var o=n.getStore().get(n.getDimensionIndex(t.__dimIdx),e);(o==null||isNaN(o))&&(o="");tv(t,ev(r),{labelFetcher:n.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:l.opacity})}));Lf(t,c.get("focus"),c.get("blurScope"),c.get("disabled"))}));this._data=n};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.type="radar";return e}(mm);var Fk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new dA(Q(this.getData,this),Q(this.getRawData,this))};e.prototype.getInitialData=function(t,e){return vA(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.coordinateSystem;var n=a.getIndicatorAxes();var o=this.getData().getName(t);var s=o===""?this.name:o;var l=$y(this,t);return Vy("section",{header:s,sortBlocks:true,blocks:Z(n,(function(e){var r=i.get(i.mapDimension(e.dim),t);return Vy("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:r,sortParam:r})}))})};e.prototype.getTooltipPosition=function(t){if(t!=null){var e=this.getData();var r=this.coordinateSystem;var i=e.getValues(Z(r.dimensions,(function(t){return e.mapDimension(t)})),t);for(var a=0,n=i.length;a<n;a++){if(!isNaN(i[a])){var o=r.getIndicatorAxes();return r.coordToPoint(o[a].dataToCoord(i[a]),a)}}}};e.type="series.radar";e.dependencies=["radar"];e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};return e}(nm);var Gk=PA.value;function Wk(t,e){return G({show:e},t)}var Hk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){var t=this.get("boundaryGap");var e=this.get("splitNumber");var r=this.get("scale");var i=this.get("axisLine");var a=this.get("axisTick");var n=this.get("axisLabel");var o=this.get("axisName");var s=this.get(["axisName","show"]);var l=this.get(["axisName","formatter"]);var u=this.get("axisNameGap");var f=this.get("triggerEvent");var h=Z(this.get("indicator")||[],(function(h){if(h.max!=null&&h.max>0&&!h.min){h.min=0}else if(h.min!=null&&h.min<0&&!h.max){h.max=0}var c=o;if(h.color!=null){c=G({color:h.color},o)}var v=V(z(h),{boundaryGap:t,splitNumber:e,scale:r,axisLine:i,axisTick:a,axisLabel:n,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:c,triggerEvent:f},false);if(it(l)){var d=v.name;v.name=l.replace("{value}",d!=null?d:"")}else if(rt(l)){v.name=l(v.name,v)}var p=new Mv(v,null,this.ecModel);Y(p,xM.prototype);p.mainType="radar";p.componentIndex=this.componentIndex;return p}),this);this._indicatorModels=h};e.prototype.getIndicatorModels=function(){return this._indicatorModels};e.type="radar";e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:V({lineStyle:{color:"#bbb"}},Gk.axisLine),axisLabel:Wk(Gk.axisLabel,false),axisTick:Wk(Gk.axisTick,false),splitLine:Wk(Gk.splitLine,true),splitArea:Wk(Gk.splitArea,true),indicator:[]};return e}(Zd);var Yk=["axisLine","axisTickLabel","axisName"];var Uk=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();this._buildAxes(t);this._buildSplitLineAndArea(t)};e.prototype._buildAxes=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();var i=Z(r,(function(t){var r=t.model.get("showName")?t.name:"";var i=new JA(t.model,{axisName:r,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i}));X(i,(function(t){X(Yk,t.add,t);this.group.add(t.getGroup())}),this)};e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();if(!r.length){return}var i=t.get("shape");var a=t.getModel("splitLine");var n=t.getModel("splitArea");var o=a.getModel("lineStyle");var s=n.getModel("areaStyle");var l=a.get("show");var u=n.get("show");var f=o.get("color");var h=s.get("color");var c=et(f)?f:[f];var v=et(h)?h:[h];var d=[];var p=[];function g(t,e,r){var i=r%e.length;t[i]=t[i]||[];return i}if(i==="circle"){var y=r[0].getTicksCoords();var m=e.cx;var _=e.cy;for(var x=0;x<y.length;x++){if(l){var w=g(d,c,x);d[w].push(new vh({shape:{cx:m,cy:_,r:y[x].coord}}))}if(u&&x<y.length-1){var w=g(p,v,x);p[w].push(new Nh({shape:{cx:m,cy:_,r0:y[x].coord,r:y[x+1].coord}}))}}}else{var b;var S=Z(r,(function(t,r){var i=t.getTicksCoords();b=b==null?i.length-1:Math.min(i.length-1,b);return Z(i,(function(t){return e.coordToPoint(t.coord,r)}))}));var M=[];for(var x=0;x<=b;x++){var I=[];for(var T=0;T<r.length;T++){I.push(S[T][x])}if(I[0]){I.push(I[0].slice())}if(l){var w=g(d,c,x);d[w].push(new Fh({shape:{points:I}}))}if(u&&M){var w=g(p,v,x-1);p[w].push(new Vh({shape:{points:I.concat(M)}}))}M=I.slice().reverse()}}var D=o.getLineStyle();var C=s.getAreaStyle();X(p,(function(t,e){this.group.add(Ac(t,{style:G({stroke:"none",fill:v[e%v.length]},C),silent:true}))}),this);X(d,(function(t,e){this.group.add(Ac(t,{style:G({fill:"none",stroke:c[e%c.length]},D),silent:true}))}),this)};e.type="radar";return e}(dm);var Xk=function(t){u(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.type="value";a.angle=0;a.name="";return a}return e}(QM);var Zk=function(){function t(t,e,r){this.dimensions=[];this._model=t;this._indicatorAxes=Z(t.getIndicatorModels(),(function(t,e){var r="indicator_"+e;var i=new Xk(r,new yS);i.name=t.get("name");i.model=t;t.axis=i;this.dimensions.push(r);return i}),this);this.resize(t,r)}t.prototype.getIndicatorAxes=function(){return this._indicatorAxes};t.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)};t.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e];var i=r.angle;var a=this.cx+t*Math.cos(i);var n=this.cy-t*Math.sin(i);return[a,n]};t.prototype.pointToData=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=Math.sqrt(e*e+r*r);e/=i;r/=i;var a=Math.atan2(-r,e);var n=Infinity;var o;var s=-1;for(var l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l];var f=Math.abs(a-u.angle);if(f<n){o=u;s=l;n=f}}return[s,+(o&&o.coordToData(i))]};t.prototype.resize=function(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a)/2;this.cx=Vn(r[0],i);this.cy=Vn(r[1],a);this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");if(it(o)||nt(o)){o=[0,o]}this.r0=Vn(o[0],n);this.r=Vn(o[1],n);X(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var r=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r));t.angle=r}),this)};t.prototype.update=function(t,e){var r=this._indicatorAxes;var i=this._model;X(r,(function(t){t.scale.setExtent(Infinity,-Infinity)}));t.eachSeriesByType("radar",(function(e,a){if(e.get("coordinateSystem")!=="radar"||t.getComponent("radar",e.get("radarIndex"))!==i){return}var n=e.getData();X(r,(function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))}))}),this);var a=i.get("splitNumber");var n=new yS;n.setExtent(0,a);n.setInterval(1);X(r,(function(t,e){UA(t.scale,t.model,n)}))};t.prototype.convertToPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.convertFromPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.create=function(e,r){var i=[];e.eachComponent("radar",(function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n}));e.eachSeriesByType("radar",(function(t){if(t.get("coordinateSystem")==="radar"){t.coordinateSystem=i[t.get("radarIndex")||0]}}));return i};t.dimensions=[];return t}();function jk(t){t.registerCoordinateSystem("radar",Zk);t.registerComponentModel(Hk);t.registerComponentView(Uk);t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")}));e.setVisual("legendIcon","roundRect")}})}function qk(t){sb(jk);t.registerChartView(Bk);t.registerSeriesModel(Fk);t.registerLayout(Rk);t.registerProcessor(iA("radar"));t.registerPreprocessor(Vk)}var Kk="\0_ec_interaction_mutex";function $k(t,e,r){var i=tL(t);i[e]=r}function Jk(t,e,r){var i=tL(t);var a=i[e];if(a===r){i[e]=null}}function Qk(t,e){return!!tL(t)[e]}function tL(t){return t[Kk]||(t[Kk]={})}Kw({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ot);var eL=function(t){u(e,t);function e(e){var r=t.call(this)||this;r._zr=e;var i=Q(r._mousedownHandler,r);var a=Q(r._mousemoveHandler,r);var n=Q(r._mouseupHandler,r);var o=Q(r._mousewheelHandler,r);var s=Q(r._pinchHandler,r);r.enable=function(t,r){this.disable();this._opt=G(z(r)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(t==null){t=true}if(t===true||t==="move"||t==="pan"){e.on("mousedown",i);e.on("mousemove",a);e.on("mouseup",n)}if(t===true||t==="scale"||t==="zoom"){e.on("mousewheel",o);e.on("pinch",s)}};r.disable=function(){e.off("mousedown",i);e.off("mousemove",a);e.off("mouseup",n);e.off("mousewheel",o);e.off("pinch",s)};return r}e.prototype.isDragging=function(){return this._dragging};e.prototype.isPinching=function(){return this._pinching};e.prototype.setPointerChecker=function(t){this.pointerChecker=t};e.prototype.dispose=function(){this.disable()};e.prototype._mousedownHandler=function(t){if(Ae(t)){return}var e=t.target;while(e){if(e.draggable){return}e=e.__hostTarget||e.parent}var r=t.offsetX;var i=t.offsetY;if(this.pointerChecker&&this.pointerChecker(t,r,i)){this._x=r;this._y=i;this._dragging=true}};e.prototype._mousemoveHandler=function(t){if(!this._dragging||!aL("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||Qk(this._zr,"globalPan")){return}var e=t.offsetX;var r=t.offsetY;var i=this._x;var a=this._y;var n=e-i;var o=r-a;this._x=e;this._y=r;this._opt.preventDefaultMouseMove&&Ce(t.event);iL(this,"pan","moveOnMouseMove",t,{dx:n,dy:o,oldX:i,oldY:a,newX:e,newY:r,isAvailableBehavior:null})};e.prototype._mouseupHandler=function(t){if(!Ae(t)){this._dragging=false}};e.prototype._mousewheelHandler=function(t){var e=aL("zoomOnMouseWheel",t,this._opt);var r=aL("moveOnMouseWheel",t,this._opt);var i=t.wheelDelta;var a=Math.abs(i);var n=t.offsetX;var o=t.offsetY;if(i===0||!e&&!r){return}if(e){var s=a>3?1.4:a>1?1.2:1.1;var l=i>0?s:1/s;rL(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:n,originY:o,isAvailableBehavior:null})}if(r){var u=Math.abs(i);var f=(i>0?1:-1)*(u>3?.4:u>1?.15:.05);rL(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:n,originY:o,isAvailableBehavior:null})}};e.prototype._pinchHandler=function(t){if(Qk(this._zr,"globalPan")){return}var e=t.pinchScale>1?1.1:1/1.1;rL(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})};return e}(ae);function rL(t,e,r,i,a){if(t.pointerChecker&&t.pointerChecker(i,a.originX,a.originY)){Ce(i.event);iL(t,e,r,i,a)}}function iL(t,e,r,i,a){a.isAvailableBehavior=Q(aL,null,r,i);t.trigger(e,a)}function aL(t,e,r){var i=r[t];return!t||i&&(!it(i)||e.event[i+"Key"])}function nL(t,e,r){var i=t.target;i.x+=e;i.y+=r;i.dirty()}function oL(t,e,r,i){var a=t.target;var n=t.zoomLimit;var o=t.zoom=t.zoom||1;o*=e;if(n){var s=n.min||0;var l=n.max||Infinity;o=Math.max(Math.min(l,o),s)}var u=o/t.zoom;t.zoom=o;a.x-=(r-a.x)*(u-1);a.y-=(i-a.y)*(u-1);a.scaleX*=u;a.scaleY*=u;a.dirty()}var sL={axisPointer:1,tooltip:1,brush:1};function lL(t,e,r){var i=e.getComponentByElement(t.topTarget);var a=i&&i.coordinateSystem;return i&&i!==r&&!sL.hasOwnProperty(i.mainType)&&a&&a.model!==r}function uL(t){if(it(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;if(r.nodeType===9){r=r.firstChild}while(r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1){r=r.nextSibling}return r}var fL;var hL={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"};var cL=$(hL);var vL={"alignment-baseline":"textBaseline","stop-color":"stopColor"};var dL=$(vL);var pL=function(){function t(){this._defs={};this._root=null}t.prototype.parse=function(t,e){e=e||{};var r=uL(t);this._defsUsePending=[];var i=new Tn;this._root=i;var a=[];var n=r.getAttribute("viewBox")||"";var o=parseFloat(r.getAttribute("width")||e.width);var s=parseFloat(r.getAttribute("height")||e.height);isNaN(o)&&(o=null);isNaN(s)&&(s=null);wL(r,i,null,true,false);var l=r.firstChild;while(l){this._parseNode(l,i,a,null,false,false);l=l.nextSibling}IL(this._defs,this._defsUsePending);this._defsUsePending=[];var u;var f;if(n){var h=DL(n);if(h.length>=4){u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])}}}if(u&&o!=null&&s!=null){f=NL(u,{x:0,y:0,width:o,height:s});if(!e.ignoreViewBox){var c=i;i=new Tn;i.add(c);c.scaleX=c.scaleY=f.scale;c.x=f.x;c.y=f.y}}if(!e.ignoreRootClip&&o!=null&&s!=null){i.setClipPath(new lu({shape:{x:0,y:0,width:o,height:s}}))}return{root:i,width:o,height:s,viewBoxRect:u,viewBoxTransform:f,named:a}};t.prototype._parseNode=function(t,e,r,i,a,n){var o=t.nodeName.toLowerCase();var s;var l=i;if(o==="defs"){a=true}if(o==="text"){n=true}if(o==="defs"||o==="switch"){s=e}else{if(!a){var u=fL[o];if(u&&Pt(fL,o)){s=u.call(this,t,e);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:s};r.push(h);if(o==="g"){l=h}}else if(i){r.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:s})}e.add(s)}}var c=gL[o];if(c&&Pt(gL,o)){var v=c.call(this,t);var d=t.getAttribute("id");if(d){this._defs[d]=v}}}if(s&&s.isGroup){var p=t.firstChild;while(p){if(p.nodeType===1){this._parseNode(p,s,r,l,a,n)}else if(p.nodeType===3&&n){this._parseText(p,s)}p=p.nextSibling}}};t.prototype._parseText=function(t,e){var r=new Kl({style:{text:t.textContent},silent:true,x:this._textX||0,y:this._textY||0});_L(e,r);wL(t,r,this._defsUsePending,false,false);bL(r,e);var i=r.style;var a=i.fontSize;if(a&&a<9){i.fontSize=9;r.scaleX*=a/9;r.scaleY*=a/9}var n=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=n;var o=r.getBoundingRect();this._textX+=o.width;e.add(r);return r};t.internalField=function(){fL={g:function(t,e){var r=new Tn;_L(e,r);wL(t,r,this._defsUsePending,false,false);return r},rect:function(t,e){var r=new lu;_L(e,r);wL(t,r,this._defsUsePending,false,false);r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")});r.silent=true;return r},circle:function(t,e){var r=new vh;_L(e,r);wL(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")});r.silent=true;return r},line:function(t,e){var r=new Hh;_L(e,r);wL(t,r,this._defsUsePending,false,false);r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")});r.silent=true;return r},ellipse:function(t,e){var r=new ph;_L(e,r);wL(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")});r.silent=true;return r},polygon:function(t,e){var r=t.getAttribute("points");var i;if(r){i=xL(r)}var a=new Vh({shape:{points:i||[]},silent:true});_L(e,a);wL(t,a,this._defsUsePending,false,false);return a},polyline:function(t,e){var r=t.getAttribute("points");var i;if(r){i=xL(r)}var a=new Fh({shape:{points:i||[]},silent:true});_L(e,a);wL(t,a,this._defsUsePending,false,false);return a},image:function(t,e){var r=new tu;_L(e,r);wL(t,r,this._defsUsePending,false,false);r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")});r.silent=true;return r},text:function(t,e){var r=t.getAttribute("x")||"0";var i=t.getAttribute("y")||"0";var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a);this._textY=parseFloat(i)+parseFloat(n);var o=new Tn;_L(e,o);wL(t,o,this._defsUsePending,false,true);return o},tspan:function(t,e){var r=t.getAttribute("x");var i=t.getAttribute("y");if(r!=null){this._textX=parseFloat(r)}if(i!=null){this._textY=parseFloat(i)}var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";var o=new Tn;_L(e,o);wL(t,o,this._defsUsePending,false,true);this._textX+=parseFloat(a);this._textY+=parseFloat(n);return o},path:function(t,e){var r=t.getAttribute("d")||"";var i=lh(r);_L(e,i);wL(t,i,this._defsUsePending,false,false);i.silent=true;return i}}}();return t}();var gL={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10);var r=parseInt(t.getAttribute("y1")||"0",10);var i=parseInt(t.getAttribute("x2")||"10",10);var a=parseInt(t.getAttribute("y2")||"0",10);var n=new Jh(e,r,i,a);yL(t,n);mL(t,n);return n},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10);var r=parseInt(t.getAttribute("cy")||"0",10);var i=parseInt(t.getAttribute("r")||"0",10);var a=new Qh(e,r,i);yL(t,a);mL(t,a);return a}};function yL(t,e){var r=t.getAttribute("gradientUnits");if(r==="userSpaceOnUse"){e.global=true}}function mL(t,e){var r=t.firstChild;while(r){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var i=r.getAttribute("offset");var a=void 0;if(i&&i.indexOf("%")>0){a=parseInt(i,10)/100}else if(i){a=parseFloat(i)}else{a=0}var n={};PL(r,n,n);var o=n.stopColor||r.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:a,color:o})}r=r.nextSibling}}function _L(t,e){if(t&&t.__inheritedStyle){if(!e.__inheritedStyle){e.__inheritedStyle={}}G(e.__inheritedStyle,t.__inheritedStyle)}}function xL(t){var e=DL(t);var r=[];for(var i=0;i<e.length;i+=2){var a=parseFloat(e[i]);var n=parseFloat(e[i+1]);r.push([a,n])}return r}function wL(t,e,r,i,a){var n=e;var o=n.__inheritedStyle=n.__inheritedStyle||{};var s={};if(t.nodeType===1){kL(t,e);PL(t,o,s);if(!i){OL(t,o,s)}}n.style=n.style||{};if(o.fill!=null){n.style.fill=ML(n,"fill",o.fill,r)}if(o.stroke!=null){n.style.stroke=ML(n,"stroke",o.stroke,r)}X(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){if(o[t]!=null){n.style[t]=parseFloat(o[t])}}));X(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){if(o[t]!=null){n.style[t]=o[t]}}));if(a){n.__selfStyle=s}if(o.lineDash){n.style.lineDash=Z(DL(o.lineDash),(function(t){return parseFloat(t)}))}if(o.visibility==="hidden"||o.visibility==="collapse"){n.invisible=true}if(o.display==="none"){n.ignore=true}}function bL(t,e){var r=e.__selfStyle;if(r){var i=r.textBaseline;var a=i;if(!i||i==="auto"){a="alphabetic"}else if(i==="baseline"){a="alphabetic"}else if(i==="before-edge"||i==="text-before-edge"){a="top"}else if(i==="after-edge"||i==="text-after-edge"){a="bottom"}else if(i==="central"||i==="mathematical"){a="middle"}t.style.textBaseline=a}var n=e.__inheritedStyle;if(n){var o=n.textAlign;var s=o;if(o){if(o==="middle"){s="center"}t.style.textAlign=s}}}var SL=/^url\(\s*#(.*?)\)/;function ML(t,e,r,i){var a=r&&r.match(SL);if(a){var n=xt(a[1]);i.push([t,e,n]);return}if(r==="none"){r=null}return r}function IL(t,e){for(var r=0;r<e.length;r++){var i=e[r];i[0].style[i[1]]=t[i[2]]}}var TL=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function DL(t){return t.match(TL)||[]}var CL=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;var AL=Math.PI/180;function kL(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=[];var a=null;r.replace(CL,(function(t,e,r){i.push(e,r);return""}));for(var n=i.length-1;n>0;n-=2){var o=i[n];var s=i[n-1];var l=DL(o);a=a||Ne();switch(s){case"translate":Ve(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Fe(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Be(a,a,-parseFloat(l[0])*AL);break;case"skewX":var u=Math.tan(parseFloat(l[0])*AL);ze(a,[1,0,u,1,0,0],a);break;case"skewY":var f=Math.tan(parseFloat(l[0])*AL);ze(a,[1,f,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]);a[1]=parseFloat(l[1]);a[2]=parseFloat(l[2]);a[3]=parseFloat(l[3]);a[4]=parseFloat(l[4]);a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var LL=/([^\s:;]+)\s*:\s*([^:;]+)/g;function PL(t,e,r){var i=t.getAttribute("style");if(!i){return}LL.lastIndex=0;var a;while((a=LL.exec(i))!=null){var n=a[1];var o=Pt(hL,n)?hL[n]:null;if(o){e[o]=a[2]}var s=Pt(vL,n)?vL[n]:null;if(s){r[s]=a[2]}}}function OL(t,e,r){for(var i=0;i<cL.length;i++){var a=cL[i];var n=t.getAttribute(a);if(n!=null){e[hL[a]]=n}}for(var i=0;i<dL.length;i++){var a=dL[i];var n=t.getAttribute(a);if(n!=null){r[vL[a]]=n}}}function NL(t,e){var r=e.width/t.width;var i=e.height/t.height;var a=Math.min(r,i);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function RL(t,e){var r=new pL;return r.parse(t,e)}var EL=Ct(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var zL=function(){function t(t,e){this.type="geoSVG";this._usedGraphicMap=Ct();this._freedGraphics=[];this._mapName=t;this._parsedXML=uL(e)}t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(t);this._boundingRect=this._firstGraphic.boundingRect.clone();var e=BL(t.named),r=e.regions,i=e.regionsMap;this._regions=r;this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};t.prototype._buildGraphic=function(t){var e;var r;try{e=t&&RL(t,{ignoreViewBox:true,ignoreRootClip:true})||{};r=e.root;_t(r!=null)}catch(Th){throw new Error("Invalid svg format\n"+Th.message)}var i=new Tn;i.add(r);i.isGeoSVGGraphicRoot=true;var a=e.width;var n=e.height;var o=e.viewBoxRect;var s=this._boundingRect;if(!s){var l=void 0;var u=void 0;var f=void 0;var h=void 0;if(a!=null){l=0;f=a}else if(o){l=o.x;f=o.width}if(n!=null){u=0;h=n}else if(o){u=o.y;h=o.height}if(l==null||u==null){var c=r.getBoundingRect();if(l==null){l=c.x;f=c.width}if(u==null){u=c.y;h=c.height}}s=this._boundingRect=new Je(l,u,f,h)}if(o){var v=NL(o,s);r.scaleX=r.scaleY=v.scale;r.x=v.x;r.y=v.y}i.setClipPath(new lu({shape:s.plain()}));var d=[];X(e.named,(function(t){if(EL.get(t.svgNodeTagLower)!=null){d.push(t);VL(t.el)}}));return{root:i,boundingRect:s,named:d}};t.prototype.useGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){return r}r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);e.set(t,r);return r};t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){e.removeKey(t);this._freedGraphics.push(r)}};return t}();function VL(t){t.silent=false;if(t.isGroup){t.traverse((function(t){t.silent=false}))}}function BL(t){var e=[];var r=Ct();X(t,(function(t){if(t.namedFrom!=null){return}var i=new PM(t.name,t.el);e.push(i);r.set(t.name,i)}));return{regions:e,regionsMap:r}}var FL=[126,25];var GL="";var WL=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var HL=0;HL<WL.length;HL++){for(var YL=0;YL<WL[HL].length;YL++){WL[HL][YL][0]/=10.5;WL[HL][YL][1]/=-10.5/.75;WL[HL][YL][0]+=FL[0];WL[HL][YL][1]+=FL[1]}}function UL(t,e){if(t==="china"){for(var r=0;r<e.length;r++){if(e[r].name===GL){return}}e.push(new LM(GL,Z(WL,(function(t){return{type:"polygon",exterior:t}})),FL))}}var XL={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function ZL(t,e){if(t==="china"){var r=XL[e.name];if(r){var i=e.getCenter();i[0]+=r[0]/10.5;i[1]+=-r[1]/(10.5/.75);e.setCenter(i)}}}var jL=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function qL(t,e){if(t==="china"&&e.name===""){e.geometries.push({type:"polygon",exterior:jL[0]})}}var KL="name";var $L=function(){function t(t,e,r){this.type="geoJSON";this._parsedMap=Ct();this._mapName=t;this._specialAreas=r;this._geoJSON=QL(e)}t.prototype.load=function(t,e){e=e||KL;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:JL(i)})}var a=Ct();var n=[];X(r.regions,(function(e){var r=e.name;if(t&&Pt(t,r)){e=e.cloneShallow(r=t[r])}n.push(e);a.set(r,e)}));return{regions:n,boundingRect:r.boundingRect||new Je(0,0,0,0),regionsMap:a}};t.prototype._parseToRegions=function(t){var e=this._mapName;var r=this._geoJSON;var i;try{i=r?EM(r,t):[]}catch(Th){throw new Error("Invalid geoJson format\n"+Th.message)}UL(e,i);X(i,(function(t){var r=t.name;ZL(e,t);qL(e,t);var i=this._specialAreas&&this._specialAreas[r];if(i){t.transformTo(i.left,i.top,i.width,i.height)}}),this);return i};t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return t}();function JL(t){var e;for(var r=0;r<t.length;r++){var i=t[r].getBoundingRect();e=e||i.clone();e.union(i)}return e}function QL(t){return!it(t)?t:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()}var tP=Ct();var eP={registerMap:function(t,e,r){if(e.svg){var i=new zL(t,e.svg);tP.set(t,i)}else{var a=e.geoJson||e.geoJSON;if(a&&!e.features){r=e.specialAreas}else{a=e}var i=new $L(t,a,r);tP.set(t,i)}},getGeoResource:function(t){return tP.get(t)},getMapForUser:function(t){var e=tP.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,r){var i=tP.get(t);if(!i){return}return i.load(e,r)}};var rP=["rect","circle","line","ellipse","polygon","polyline","path"];var iP=Ct(rP);var aP=Ct(rP.concat(["g"]));var nP=Ct(rP.concat(["g"]));var oP=Bo();function sP(t){var e=t.getItemStyle();var r=t.get("areaColor");if(r!=null){e.fill=r}return e}function lP(t){var e=t.style;if(e){e.stroke=e.stroke||e.fill;e.fill=null}}var uP=function(){function t(t){var e=new Tn;this.uid=Tv("ec_map_draw");this._controller=new eL(t.getZr());this._controllerHost={target:e};this.group=e;e.add(this._regionsGroup=new Tn);e.add(this._svgGroup=new Tn)}t.prototype.draw=function(t,e,r,i,a){var n=t.mainType==="geo";var o=t.getData&&t.getData();n&&e.eachComponent({mainType:"series",subType:"map"},(function(e){if(!o&&e.getHostGeoModel()===t){o=e.getData()}}));var s=t.coordinateSystem;var l=this._regionsGroup;var u=this.group;var f=s.getTransformInfo();var h=f.raw;var c=f.roam;var v=!l.childAt(0)||a;if(v){u.x=c.x;u.y=c.y;u.scaleX=c.scaleX;u.scaleY=c.scaleY;u.dirty()}else{fc(u,c,t)}var d=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0;var p={api:r,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:d,isGeo:n,transformInfoRaw:h};if(s.resourceType==="geoJSON"){this._buildGeoJSON(p)}else if(s.resourceType==="geoSVG"){this._buildSVG(p)}this._updateController(t,e,r);this._updateMapSelectHandler(t,l,r,i)};t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Ct();var r=Ct();var i=this._regionsGroup;var a=t.transformInfoRaw;var n=t.mapOrGeoModel;var o=t.data;var s=t.geo.projection;var l=s&&s.stream;function u(t,e){if(e){t=e(t)}return t&&[t[0]*a.scaleX+a.x,t[1]*a.scaleY+a.y]}function f(t){var e=[];var r=!l&&s&&s.project;for(var i=0;i<t.length;++i){var a=u(t[i],r);a&&e.push(a)}return e}function h(t){return{shape:{points:f(t)}}}i.removeAll();X(t.geo.regions,(function(a){var f=a.name;var c=e.get(f);var v=r.get(f)||{},d=v.dataIdx,p=v.regionModel;if(!c){c=e.set(f,new Tn);i.add(c);d=o?o.indexOfName(f):null;p=t.isGeo?n.getRegionModel(f):o?o.getItemModel(d):null;r.set(f,{dataIdx:d,regionModel:p})}var g=[];var y=[];X(a.geometries,(function(t){if(t.type==="polygon"){var e=[t.exterior].concat(t.interiors||[]);if(l){e=pP(e,l)}X(e,(function(t){g.push(new Vh(h(t)))}))}else{var r=t.points;if(l){r=pP(r,l,true)}X(r,(function(t){y.push(new Fh(h(t)))}))}}));var m=u(a.getCenter(),s&&s.project);function _(e,r){if(!e.length){return}var i=new Kh({culling:true,segmentIgnoreThreshold:1,shape:{paths:e}});c.add(i);fP(t,i,d,p);hP(t,i,f,p,n,d,m);if(r){lP(i);X(i.states,lP)}}_(g);_(y,true)}));e.each((function(e,i){var a=r.get(i),o=a.dataIdx,s=a.regionModel;cP(t,e,i,s,n,o);vP(t,e,i,s,n);dP(t,e,i,s,n)}),this)};t.prototype._buildSVG=function(t){var e=t.geo.map;var r=t.transformInfoRaw;this._svgGroup.x=r.x;this._svgGroup.y=r.y;this._svgGroup.scaleX=r.scaleX;this._svgGroup.scaleY=r.scaleY;if(this._svgResourceChanged(e)){this._freeSVG();this._useSVG(e)}var i=this._svgDispatcherMap=Ct();var a=false;X(this._svgGraphicRecord.named,(function(e){var r=e.name;var n=t.mapOrGeoModel;var o=t.data;var s=e.svgNodeTagLower;var l=e.el;var u=o?o.indexOfName(r):null;var f=n.getRegionModel(r);if(iP.get(s)!=null&&l instanceof Fs){fP(t,l,u,f)}if(l instanceof Fs){l.culling=true}l.z2EmphasisLift=0;if(!e.namedFrom){if(nP.get(s)!=null){hP(t,l,r,f,n,u,null)}cP(t,l,r,f,n,u);vP(t,l,r,f,n);if(aP.get(s)!=null){var h=dP(t,l,r,f,n);if(h==="self"){a=true}var c=i.get(r)||i.set(r,[]);c.push(l)}}}),this);this._enableBlurEntireSVG(a,t)};t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var i=r.opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){uf(t);var e=t.ensureState("blur").style||{};if(e.opacity==null&&i!=null){e.opacity=i}t.ensureState("emphasis")}}))}};t.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};t.prototype.findHighDownDispatchers=function(t,e){if(t==null){return[]}var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(r.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]}};t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t};t.prototype._useSVG=function(t){var e=eP.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root);this._svgGraphicRecord=r;this._svgMapName=t}};t.prototype._freeSVG=function(){var t=this._svgMapName;if(t==null){return}var e=eP.getGeoResource(t);if(e&&e.type==="geoSVG"){e.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};t.prototype._updateController=function(t,e,r){var i=t.coordinateSystem;var a=this._controller;var n=this._controllerHost;n.zoomLimit=t.get("scaleLimit");n.zoom=i.getZoom();a.enable(t.get("roam")||false);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};e[o+"Id"]=t.id;return e}a.off("pan").on("pan",(function(t){this._mouseDownFlag=false;nL(n,t.dx,t.dy);r.dispatchAction(F(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this);a.off("zoom").on("zoom",(function(t){this._mouseDownFlag=false;oL(n,t.scale,t.originX,t.originY);r.dispatchAction(F(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this);a.setPointerChecker((function(e,a,n){return i.containPoint([a,n])&&!lL(e,r,t)}))};t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();if(e){e.ignore=oP(e).ignore}}))};t.prototype._updateMapSelectHandler=function(t,e,r,i){var a=this;e.off("mousedown");e.off("click");if(t.get("selectedMode")){e.on("mousedown",(function(){a._mouseDownFlag=true}));e.on("click",(function(t){if(!a._mouseDownFlag){return}a._mouseDownFlag=false}))}};return t}();function fP(t,e,r,i){var a=i.getModel("itemStyle");var n=i.getModel(["emphasis","itemStyle"]);var o=i.getModel(["blur","itemStyle"]);var s=i.getModel(["select","itemStyle"]);var l=sP(a);var u=sP(n);var f=sP(s);var h=sP(o);var c=t.data;if(c){var v=c.getItemVisual(r,"style");var d=c.getItemVisual(r,"decal");if(t.isVisualEncodedByVisualMap&&v.fill){l.fill=v.fill}if(d){l.decal=Sx(d,t.api)}}e.setStyle(l);e.style.strokeNoScale=true;e.ensureState("emphasis").style=u;e.ensureState("select").style=f;e.ensureState("blur").style=h;uf(e)}function hP(t,e,r,i,a,n,o){var s=t.data;var l=t.isGeo;var u=s&&isNaN(s.get(s.mapDimension("value"),n));var f=s&&s.getItemLayout(n);if(l||u||f&&f.showLabel){var h=!l?n:r;var c=void 0;if(!s||n>=0){c=a}var v=o?{normal:{align:"center",verticalAlign:"middle"}}:null;tv(e,ev(i),{labelFetcher:c,labelDataIndex:h,defaultText:r},v);var d=e.getTextContent();if(d){oP(d).ignore=d.ignore;if(e.textConfig&&o){var p=e.getBoundingRect().clone();e.textConfig.layoutRect=p;e.textConfig.position=[(o[0]-p.x)/p.width*100+"%",(o[1]-p.y)/p.height*100+"%"]}}e.disableLabelAnimation=true}else{e.removeTextContent();e.removeTextConfig();e.disableLabelAnimation=null}}function cP(t,e,r,i,a,n){if(t.data){t.data.setItemGraphicEl(n,e)}else{Tu(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:r,region:i&&i.option||{}}}}function vP(t,e,r,i,a){if(!t.data){Zc({el:e,componentModel:a,itemName:r,itemTooltipOption:i.get("tooltip")})}}function dP(t,e,r,i,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var n=i.getModel("emphasis");var o=n.get("focus");Lf(e,o,n.get("blurScope"),n.get("disabled"));if(t.isGeo){Vf(e,a,r)}return o}function pP(t,e,r){var i=[];var a;function n(){a=[]}function o(){if(a.length){i.push(a);a=[]}}var s=e({polygonStart:n,polygonEnd:o,lineStart:n,lineEnd:o,point:function(t,e){if(isFinite(t)&&isFinite(e)){a.push([t,e])}},sphere:function(){}});!r&&s.polygonStart();X(t,(function(t){s.lineStart();for(var e=0;e<t.length;e++){s.point(t[e][0],t[e][1])}s.lineEnd()}));!r&&s.polygonEnd();return i}var gP=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){if(i&&i.type==="mapToggleSelect"&&i.from===this.uid){return}var a=this.group;a.removeAll();if(t.getHostGeoModel()){return}if(this._mapDraw&&i&&i.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===t.id)){if(t.needsDrawMap){var n=this._mapDraw||new uP(r);a.add(n.group);n.draw(t,e,r,this,i);this._mapDraw=n}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var n=this._mapDraw;n&&a.add(n.group)}t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,r)};e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};e.prototype._renderSymbols=function(t,e,r){var i=t.originalData;var a=this.group;i.each(i.mapDimension("value"),(function(e,r){if(isNaN(e)){return}var n=i.getItemLayout(r);if(!n||!n.point){return}var o=n.point;var s=n.offset;var l=new vh({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+s*9,cy:o[1],r:3},silent:true,z2:8+(!s?zu+1:0)});if(!s){var u=t.mainSeries.getData();var f=i.getName(r);var h=u.indexOfName(f);var c=i.getItemModel(r);var v=c.getModel("label");var d=u.getItemGraphicEl(h);tv(l,ev(c),{labelFetcher:{getFormattedLabel:function(e,r){return t.getFormattedLabel(h,r)}},defaultText:f});l.disableLabelAnimation=true;if(!v.get("position")){l.setTextConfig({position:"bottom"})}d.onHoverStateChange=function(t){rf(l,t)}}a.add(l)}))};e.type="map";return e}(mm);var yP=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.needsDrawMap=false;r.seriesGroup=[];r.getTooltipPosition=function(t){if(t!=null){var e=this.getData().getName(t);var r=this.coordinateSystem;var i=r.getRegion(e);return i&&r.dataToPoint(i.getCenter())}};return r}e.prototype.getInitialData=function(t){var e=vA(this,{coordDimensions:["value"],encodeDefaulter:tt(hp,this)});var r=Ct();var i=[];for(var a=0,n=e.count();a<n;a++){var o=e.getName(a);r.set(o,true)}var s=eP.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);X(s.regions,(function(t){var e=t.name;if(!r.get(e)){i.push(e)}}));e.appendValues([],i);return e};e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null};e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)};e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);var o=this.seriesGroup;var s=[];for(var l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(n);var f=i.mapDimension("value");if(!isNaN(o[l].originalData.get(f,u))){s.push(o[l].name)}}return Vy("section",{header:s.join(", "),noHeader:!s.length,blocks:[Vy("nameValue",{name:n,value:a})]})};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect";var r=O_(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);r.setStyle(t.itemStyle);r.style.stroke="none";if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r};e.type="series.map";e.dependencies=["geo"];e.layoutMode="box";e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return e}(nm);function mP(t,e){var r={};X(t,(function(t){t.each(t.mapDimension("value"),(function(e,i){var a="ec-"+t.getName(i);r[a]=r[a]||[];if(!isNaN(e)){r[a].push(e)}}))}));return t[0].map(t[0].mapDimension("value"),(function(i,a){var n="ec-"+t[0].getName(a);var o=0;var s=Infinity;var l=-Infinity;var u=r[n].length;for(var f=0;f<u;f++){s=Math.min(s,r[n][f]);l=Math.max(l,r[n][f]);o+=r[n][f]}var h;if(e==="min"){h=s}else if(e==="max"){h=l}else if(e==="average"){h=o/u}else{h=o}return u===0?NaN:h}))}function _P(t){var e={};t.eachSeriesByType("map",(function(t){var r=t.getHostGeoModel();var i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}));X(e,(function(t,e){var r=mP(Z(t,(function(t){return t.getData()})),t[0].get("mapValueCalculation"));for(var i=0;i<t.length;i++){t[i].originalData=t[i].getData()}for(var i=0;i<t.length;i++){t[i].seriesGroup=t;t[i].needsDrawMap=i===0&&!t[i].getHostGeoModel();t[i].setData(r.cloneShallow());t[i].mainSeries=t[0]}}))}function xP(t){var e={};t.eachSeriesByType("map",(function(r){var i=r.getMapType();if(r.getHostGeoModel()||e[i]){return}var a={};X(r.seriesGroup,(function(e){var r=e.coordinateSystem;var i=e.originalData;if(e.get("showLegendSymbol")&&t.getComponent("legend")){i.each(i.mapDimension("value"),(function(t,e){var n=i.getName(e);var o=r.getRegion(n);if(!o||isNaN(t)){return}var s=a[n]||0;var l=r.dataToPoint(o.getCenter());a[n]=s+1;i.setItemLayout(e,{point:l,offset:s})}))}}));var n=r.getData();n.each((function(t){var e=n.getName(t);var r=n.getItemLayout(t)||{};r.showLabel=!a[e];n.setItemLayout(t,r)}));e[i]=true}))}var wP=Qt;var bP=function(t){u(e,t);function e(e){var r=t.call(this)||this;r.type="view";r.dimensions=["x","y"];r._roamTransformable=new tn;r._rawTransformable=new tn;r.name=e;return r}e.prototype.setBoundingRect=function(t,e,r,i){this._rect=new Je(t,e,r,i);return this._rect};e.prototype.getBoundingRect=function(){return this._rect};e.prototype.setViewRect=function(t,e,r,i){this._transformTo(t,e,r,i);this._viewRect=new Je(t,e,r,i)};e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._rawTransformable;n.transform=a.calculateTransform(new Je(t,e,r,i));var o=n.parent;n.parent=null;n.decomposeTransform();n.parent=o;this._updateTransform()};e.prototype.setCenter=function(t,e){if(!t){return}this._center=[Vn(t[0],e.getWidth()),Vn(t[1],e.getHeight())];this._updateCenterAndZoom()};e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;if(e){if(e.max!=null){t=Math.min(e.max,t)}if(e.min!=null){t=Math.max(e.min,t)}}this._zoom=t;this._updateCenterAndZoom()};e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();var e=t.x+t.width/2;var r=t.y+t.height/2;return[e,r]};e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};e.prototype.getZoom=function(){return this._zoom||1};e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform();var e=this._roamTransformable;var r=this.getDefaultCenter();var i=this.getCenter();var a=this.getZoom();i=Qt([],i,t);r=Qt([],r,t);e.originX=i[0];e.originY=i[1];e.x=r[0]-i[0];e.y=r[1]-i[1];e.scaleX=e.scaleY=a;this._updateTransform()};e.prototype._updateTransform=function(){var t=this._roamTransformable;var e=this._rawTransformable;e.parent=t;t.updateTransform();e.updateTransform();Ee(this.transform||(this.transform=[]),e.transform||Ne());this._rawTransform=e.getLocalTransform();this.invTransform=this.invTransform||[];Ge(this.invTransform,this.transform);this.decomposeTransform()};e.prototype.getTransformInfo=function(){var t=this._rawTransformable;var e=this._roamTransformable;var r=new tn;r.transform=e.transform;r.decomposeTransform();return{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}};e.prototype.getViewRect=function(){return this._viewRect};e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();t.applyTransform(this.transform);return t};e.prototype.dataToPoint=function(t,e,r){var i=e?this._rawTransform:this.transform;r=r||[];return i?wP(r,t,i):Vt(r,t)};e.prototype.pointToData=function(t){var e=this.invTransform;return e?wP([],t,e):[t[0],t[1]]};e.prototype.convertToPixel=function(t,e,r){var i=SP(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=SP(e);return i===this?i.pointToData(r):null};e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])};e.dimensions=["x","y"];return e}(tn);function SP(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var MP={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var IP=["lng","lat"];var TP=function(t){u(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.dimensions=IP;a.type="geo";a._nameCoordMap=Ct();a.map=r;var n=i.projection;var o=eP.load(r,i.nameMap,i.nameProperty);var s=eP.getGeoResource(r);var l=a.resourceType=s?s.type:null;var u=a.regions=o.regions;var f=MP[s.type];a._regionsMap=o.regionsMap;a.regions=o.regions;a.projection=n;var h;if(n){for(var c=0;c<u.length;c++){var v=u[c].getBoundingRect(n);h=h||v.clone();h.union(v)}}else{h=o.boundingRect}a.setBoundingRect(h.x,h.y,h.width,h.height);a.aspectScale=n?1:pt(i.aspectScale,f.aspectScale);a._invertLongitute=n?false:f.invertLongitute;return a}e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._invertLongitute;a=a.clone();if(n){a.y=-a.y-a.height}var o=this._rawTransformable;o.transform=a.calculateTransform(new Je(t,e,r,i));var s=o.parent;o.parent=null;o.decomposeTransform();o.parent=s;if(n){o.scaleY=-o.scaleY}this._updateTransform()};e.prototype.getRegion=function(t){return this._regionsMap.get(t)};e.prototype.getRegionByCoord=function(t){var e=this.regions;for(var r=0;r<e.length;r++){var i=e[r];if(i.type==="geoJSON"&&i.contain(t)){return e[r]}}};e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)};e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()};e.prototype.dataToPoint=function(t,e,r){if(it(t)){t=this.getGeoCoord(t)}if(t){var i=this.projection;if(i){t=i.project(t)}return t&&this.projectedToPoint(t,e,r)}};e.prototype.pointToData=function(t){var e=this.projection;if(e){t=e.unproject(t)}return t&&this.pointToProjected(t)};e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)};e.prototype.projectedToPoint=function(e,r,i){return t.prototype.dataToPoint.call(this,e,r,i)};e.prototype.convertToPixel=function(t,e,r){var i=DP(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=DP(e);return i===this?i.pointToData(r):null};return e}(bP);Y(TP,bP);function DP(t){var e=t.geoModel;var r=t.seriesModel;return e?e.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",Ho).models[0]||{}).coordinateSystem:null}function CP(t,e){var r=t.get("boundingCoords");if(r!=null){var i=r[0];var a=r[1];if(!(isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])));else{var n=this.projection;if(n){var o=i[0];var s=i[1];var l=a[0];var u=a[1];i=[Infinity,Infinity];a=[-Infinity,-Infinity];var f=function(t,e,r,o){var s=r-t;var l=o-e;for(var u=0;u<=100;u++){var f=u/100;var h=n.project([t+s*f,e+l*f]);te(i,i,h);ee(a,a,h)}};f(o,s,l,s);f(l,s,l,u);f(l,u,o,u);f(o,u,l,s)}this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}}var h=this.getBoundingRect();var c=t.get("layoutCenter");var v=t.get("layoutSize");var d=e.getWidth();var p=e.getHeight();var g=h.width/h.height*this.aspectScale;var y=false;var m;var _;if(c&&v){m=[Vn(c[0],d),Vn(c[1],p)];_=Vn(v,Math.min(d,p));if(!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(_)){y=true}}var x;if(y){x={};if(g>1){x.width=_;x.height=_/g}else{x.height=_;x.width=_*g}x.y=m[1]-x.height/2;x.x=m[0]-x.width/2}else{var w=t.getBoxLayoutParams();w.aspect=g;x=Bd(w,{width:d,height:p})}this.setViewRect(x.x,x.y,x.width,x.height);this.setCenter(t.get("center"),e);this.setZoom(t.get("zoom"))}function AP(t,e){X(e.get("geoCoord"),(function(e,r){t.addGeoCoord(r,e)}))}var kP=function(){function t(){this.dimensions=IP}t.prototype.create=function(t,e){var r=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,a){var n=t.get("map");var o=new TP(n+a,n,F({nameMap:t.get("nameMap")},i(t)));o.zoomLimit=t.get("scaleLimit");r.push(o);t.coordinateSystem=o;o.model=t;o.resize=CP;o.resize(t,e)}));t.eachSeries((function(t){var e=t.get("coordinateSystem");if(e==="geo"){var i=t.get("geoIndex")||0;t.coordinateSystem=r[i]}}));var a={};t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();a[e]=a[e]||[];a[e].push(t)}}));X(a,(function(t,a){var n=Z(t,(function(t){return t.get("nameMap")}));var o=new TP(a,a,F({nameMap:B(n)},i(t[0])));o.zoomLimit=dt.apply(null,Z(t,(function(t){return t.get("scaleLimit")})));r.push(o);o.resize=CP;o.resize(t[0],e);X(t,(function(t){t.coordinateSystem=o;AP(o,t)}))}));return r};t.prototype.getFilledRegions=function(t,e,r,i){var a=(t||[]).slice();var n=Ct();for(var o=0;o<a.length;o++){n.set(a[o].name,a[o])}var s=eP.load(e,r,i);X(s.regions,(function(t){var e=t.name;!n.get(e)&&a.push({name:e})}));return a};return t}();var LP=new kP;var PP=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e,r){var i=eP.getGeoResource(t.map);if(i&&i.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};if(!("color"in a)){a.color="#eee"}}this.mergeDefaultAndTheme(t,r);mo(t,"label",["show"])};e.prototype.optionUpdated=function(){var t=this;var e=this.option;e.regions=LP.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var r={};this._optionModelMap=j(e.regions||[],(function(e,i){var a=i.name;if(a){e.set(a,new Mv(i,t,t.ecModel));if(i.selected){r[a]=true}}return e}),Ct());if(!e.selectedMap){e.selectedMap=r}};e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Mv(null,this,this.ecModel)};e.prototype.getFormattedLabel=function(t,e){var r=this.getRegionModel(t);var i=e==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]);var a={name:t};if(rt(i)){a.status=e;return i(a)}else if(it(i)){return i.replace("{a}",t!=null?t:"")}};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.select=function(t){var e=this.option;var r=e.selectedMode;if(!r){return}if(r!=="multiple"){e.selectedMap=null}var i=e.selectedMap||(e.selectedMap={});i[t]=true};e.prototype.unSelect=function(t){var e=this.option.selectedMap;if(e){e[t]=false}};e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)};e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!!(e&&e[t])};e.type="geo";e.layoutMode="box";e.defaultOption={z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return e}(Zd);function OP(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function NP(t,e,r,i){var a=t.getZoom();var n=t.getCenter();var o=e.zoom;var s=t.projectedToPoint?t.projectedToPoint(n):t.dataToPoint(n);if(e.dx!=null&&e.dy!=null){s[0]-=e.dx;s[1]-=e.dy;t.setCenter(OP(t,s),i)}if(o!=null){if(r){var l=r.min||0;var u=r.max||Infinity;o=Math.max(Math.min(a*o,u),l)/a}t.scaleX*=o;t.scaleY*=o;var f=(e.originX-t.x)*(o-1);var h=(e.originY-t.y)*(o-1);t.x-=f;t.y-=h;t.updateTransform();t.setCenter(OP(t,s),i);t.setZoom(o*a)}return{center:t.getCenter(),zoom:t.getZoom()}}var RP=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.focusBlurEnabled=true;return r}e.prototype.init=function(t,e){this._api=e};e.prototype.render=function(t,e,r,i){this._model=t;if(!t.get("show")){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;return}if(!this._mapDraw){this._mapDraw=new uP(r)}var a=this._mapDraw;a.draw(t,e,r,this,i);a.group.on("click",this._handleRegionClick,this);a.group.silent=t.get("silent");this.group.add(a.group);this.updateSelectStatus(t,e,r)};e.prototype._handleRegionClick=function(t){var e;x_(t.target,(function(t){return(e=Tu(t).eventData)!=null}),true);if(e){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})}};e.prototype.updateSelectStatus=function(t,e,r){var i=this;this._mapDraw.group.traverse((function(t){var e=Tu(t).eventData;if(e){i._model.isSelected(e.name)?r.enterSelect(t):r.leaveSelect(t);return true}}))};e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};e.type="geo";return e}(dm);function EP(t,e,r){eP.registerMap(t,e,r)}function zP(t){t.registerCoordinateSystem("geo",LP);t.registerComponentModel(PP);t.registerComponentView(RP);t.registerImpl("registerMap",EP);t.registerImpl("getMap",(function(t){return eP.getMapForUser(t)}));function e(e,r){r.update="geo:updateSelectStatus";t.registerAction(r,(function(t,r){var i={};var a=[];r.eachComponent({mainType:"geo",query:t},(function(r){r[e](t.name);var n=r.coordinateSystem;X(n.regions,(function(t){i[t.name]=r.isSelected(t.name)||false}));var o=[];X(i,(function(t,e){i[e]&&o.push(e)}));a.push({geoIndex:r.componentIndex,name:o})}));return{selected:i,allSelected:a,name:t.name}}))}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});e("select",{type:"geoSelect",event:"geoselected"});e("unSelect",{type:"geoUnSelect",event:"geounselected"});t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,r){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){var a=e.coordinateSystem;if(a.type!=="geo"){return}var n=NP(a,t,e.get("scaleLimit"),r);e.setCenter&&e.setCenter(n.center);e.setZoom&&e.setZoom(n.zoom);if(i==="series"){X(e.seriesGroup,(function(t){t.setCenter(n.center);t.setZoom(n.zoom)}))}}))}))}function VP(t){sb(zP);t.registerChartView(gP);t.registerSeriesModel(yP);t.registerLayout(xP);t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,_P);y_("map",t.registerAction)}function BP(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var r=[e];var i;var a;while(i=r.pop()){a=i.children;if(i.isExpand&&a.length){var n=a.length;for(var o=n-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null};r.push(s)}}}}function FP(t,e){var r=t.isExpand?t.children:[];var i=t.parentNode.children;var a=t.hierNode.i?i[t.hierNode.i-1]:null;if(r.length){UP(t);var n=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a);t.hierNode.modifier=t.hierNode.prelim-n}else{t.hierNode.prelim=n}}else if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a)}t.parentNode.hierNode.defaultAncestor=XP(t,a,t.parentNode.hierNode.defaultAncestor||i[0],e)}function GP(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},true);t.hierNode.modifier+=t.parentNode.hierNode.modifier}function WP(t){return arguments.length?t:$P}function HP(t,e){t-=Math.PI/2;return{x:e*Math.cos(t),y:e*Math.sin(t)}}function YP(t,e){return Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function UP(t){var e=t.children;var r=e.length;var i=0;var a=0;while(--r>=0){var n=e[r];n.hierNode.prelim+=i;n.hierNode.modifier+=i;a+=n.hierNode.change;i+=n.hierNode.shift+a}}function XP(t,e,r,i){if(e){var a=t;var n=t;var o=n.parentNode.children[0];var s=e;var l=a.hierNode.modifier;var u=n.hierNode.modifier;var f=o.hierNode.modifier;var h=s.hierNode.modifier;while(s=ZP(s),n=jP(n),s&&n){a=ZP(a);o=jP(o);a.hierNode.ancestor=t;var c=s.hierNode.prelim+h-n.hierNode.prelim-u+i(s,n);if(c>0){KP(qP(s,t,r),t,c);u+=c;l+=c}h+=s.hierNode.modifier;u+=n.hierNode.modifier;l+=a.hierNode.modifier;f+=o.hierNode.modifier}if(s&&!ZP(a)){a.hierNode.thread=s;a.hierNode.modifier+=h-l}if(n&&!jP(o)){o.hierNode.thread=n;o.hierNode.modifier+=u-f;r=t}}return r}function ZP(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function jP(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function qP(t,e,r){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:r}function KP(t,e,r){var i=r/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i;e.hierNode.shift+=r;e.hierNode.modifier+=r;e.hierNode.prelim+=r;t.hierNode.change+=i}function $P(t,e){return t.parentNode===e.parentNode?1:2}var JP=function(){function t(){this.parentPoint=[];this.childPoints=[]}return t}();var QP=function(t){u(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new JP};e.prototype.buildPath=function(t,e){var r=e.childPoints;var i=r.length;var a=e.parentPoint;var n=r[0];var o=r[i-1];if(i===1){t.moveTo(a[0],a[1]);t.lineTo(n[0],n[1]);return}var s=e.orient;var l=s==="TB"||s==="BT"?0:1;var u=1-l;var f=Vn(e.forkPosition,1);var h=[];h[l]=a[l];h[u]=a[u]+(o[u]-a[u])*f;t.moveTo(a[0],a[1]);t.lineTo(h[0],h[1]);t.moveTo(n[0],n[1]);h[l]=n[l];t.lineTo(h[0],h[1]);h[l]=o[l];t.lineTo(h[0],h[1]);t.lineTo(o[0],o[1]);for(var c=1;c<i-1;c++){var v=r[c];t.moveTo(v[0],v[1]);h[l]=v[l];t.lineTo(h[0],h[1])}};return e}(jl);var tO=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._mainGroup=new Tn;return r}e.prototype.init=function(t,e){this._controller=new eL(e.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};e.prototype.render=function(t,e,r){var i=t.getData();var a=t.layoutInfo;var n=this._mainGroup;var o=t.get("layout");if(o==="radial"){n.x=a.x+a.width/2;n.y=a.y+a.height/2}else{n.x=a.x;n.y=a.y}this._updateViewCoordSys(t,r);this._updateController(t,e,r);var s=this._data;i.diff(s).add((function(e){if(eO(i,e)){rO(i,e,null,n,t)}})).update((function(e,r){var a=s.getItemGraphicEl(r);if(!eO(i,e)){a&&oO(s,r,a,n,t);return}rO(i,e,a,n,t)})).remove((function(e){var r=s.getItemGraphicEl(e);if(r){oO(s,e,r,n,t)}})).execute();this._nodeScaleRatio=t.get("nodeScaleRatio");this._updateNodeAndLinkScale(t);if(t.get("expandAndCollapse")===true){i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))}))}this._data=i};e.prototype._updateViewCoordSys=function(t,e){var r=t.getData();var i=[];r.each((function(t){var e=r.getItemLayout(t);if(e&&!isNaN(e.x)&&!isNaN(e.y)){i.push([+e.x,+e.y])}}));var a=[];var n=[];Js(i,a,n);var o=this._min;var s=this._max;if(n[0]-a[0]===0){a[0]=o?o[0]:a[0]-1;n[0]=s?s[0]:n[0]+1}if(n[1]-a[1]===0){a[1]=o?o[1]:a[1]-1;n[1]=s?s[1]:n[1]+1}var l=t.coordinateSystem=new bP;l.zoomLimit=t.get("scaleLimit");l.setBoundingRect(a[0],a[1],n[0]-a[0],n[1]-a[1]);l.setCenter(t.get("center"),e);l.setZoom(t.get("zoom"));this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY});this._min=a;this._max=n};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker((function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!lL(e,r,t)}));a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",(function(e){nL(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){oL(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale(t);r.updateLabelLayout()}))};e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData();var r=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(r)}))};e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=this._nodeScaleRatio;var i=e.scaleX||1;var a=e.getZoom();var n=(a-1)*r+1;return n/i};e.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};e.type="tree";return e}(mm);function eO(t,e){var r=t.getItemLayout(e);return r&&!isNaN(r.x)&&!isNaN(r.y)}function rO(t,e,r,i,a){var n=!r;var o=t.tree.getNodeByDataIndex(e);var s=o.getModel();var l=o.getVisual("style").fill;var u=o.isExpand===false&&o.children.length!==0?l:"#fff";var f=t.tree.root;var h=o.parentNode===f?o:o.parentNode||o;var c=t.getItemGraphicEl(h.dataIndex);var v=h.getLayout();var d=c?{x:c.__oldX,y:c.__oldY,rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:v;var p=o.getLayout();if(n){r=new DD(t,e,null,{symbolInnerColor:u,useNameLabel:true});r.x=d.x;r.y=d.y}else{r.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:true})}r.__radialOldRawX=r.__radialRawX;r.__radialOldRawY=r.__radialRawY;r.__radialRawX=p.rawX;r.__radialRawY=p.rawY;i.add(r);t.setItemGraphicEl(e,r);r.__oldX=r.x;r.__oldY=r.y;fc(r,{x:p.x,y:p.y},a);var g=r.getSymbolPath();if(a.get("layout")==="radial"){var y=f.children[0];var m=y.getLayout();var _=y.children.length;var x=void 0;var w=void 0;if(p.x===m.x&&o.isExpand===true&&y.children.length){var b={x:(y.children[0].getLayout().x+y.children[_-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[_-1].getLayout().y)/2};x=Math.atan2(b.y-m.y,b.x-m.x);if(x<0){x=Math.PI*2+x}w=b.x<m.x;if(w){x=x-Math.PI}}else{x=Math.atan2(p.y-m.y,p.x-m.x);if(x<0){x=Math.PI*2+x}if(o.children.length===0||o.children.length!==0&&o.isExpand===false){w=p.x<m.x;if(w){x=x-Math.PI}}else{w=p.x>m.x;if(!w){x=x-Math.PI}}}var S=w?"left":"right";var M=s.getModel("label");var I=M.get("rotate");var T=I*(Math.PI/180);var D=g.getTextContent();if(D){g.setTextConfig({position:M.get("position")||S,rotation:I==null?-x:T,origin:"center"});D.setStyle("verticalAlign","middle")}}var C=s.get(["emphasis","focus"]);var A=C==="relative"?At(o.getAncestorsIndices(),o.getDescendantIndices()):C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():null;if(A){Tu(r).focus=A}iO(a,o,f,r,d,v,p,i);if(r.__edge){r.onHoverStateChange=function(e){if(e!=="blur"){var i=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);if(!(i&&i.hoverState===Ou)){rf(r.__edge,e)}}}}}function iO(t,e,r,i,a,n,o,s){var l=e.getModel();var u=t.get("edgeShape");var f=t.get("layout");var h=t.getOrient();var c=t.get(["lineStyle","curveness"]);var v=t.get("edgeForkPosition");var d=l.getModel("lineStyle").getLineStyle();var p=i.__edge;if(u==="curve"){if(e.parentNode&&e.parentNode!==r){if(!p){p=i.__edge=new Zh({shape:sO(f,h,c,a,a)})}fc(p,{shape:sO(f,h,c,n,o)},t)}}else if(u==="polyline"){if(f==="orthogonal"){if(e!==r&&e.children&&e.children.length!==0&&e.isExpand===true){var g=e.children;var y=[];for(var m=0;m<g.length;m++){var _=g[m].getLayout();y.push([_.x,_.y])}if(!p){p=i.__edge=new QP({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:v}})}fc(p,{shape:{parentPoint:[o.x,o.y],childPoints:y}},t)}}}if(p&&!(u==="polyline"&&!e.isExpand)){p.useStyle(G({strokeNoScale:true,fill:null},d));Rf(p,l,"lineStyle");uf(p);s.add(p)}}function aO(t,e,r,i,a){var n=e.tree.root;var o=nO(n,t),s=o.source,l=o.sourceLayout;var u=e.getItemGraphicEl(t.dataIndex);if(!u){return}var f=e.getItemGraphicEl(s.dataIndex);var h=f.__edge;var c=u.__edge||(s.isExpand===false||s.children.length===1?h:undefined);var v=i.get("edgeShape");var d=i.get("layout");var p=i.get("orient");var g=i.get(["lineStyle","curveness"]);if(c){if(v==="curve"){vc(c,{shape:sO(d,p,g,l,l),style:{opacity:0}},i,{cb:function(){r.remove(c)},removeOpt:a})}else if(v==="polyline"&&i.get("layout")==="orthogonal"){vc(c,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){r.remove(c)},removeOpt:a})}}}function nO(t,e){var r=e.parentNode===t?e:e.parentNode||e;var i;while(i=r.getLayout(),i==null){r=r.parentNode===t?r:r.parentNode||r}return{source:r,sourceLayout:i}}function oO(t,e,r,i,a){var n=t.tree.getNodeByDataIndex(e);var o=t.tree.root;var s=nO(o,n).sourceLayout;var l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};vc(r,{x:s.x+1,y:s.y+1},a,{cb:function(){i.remove(r);t.setItemGraphicEl(e,null)},removeOpt:l});r.fadeOut(null,t.hostModel,{fadeLabel:true,animation:l});n.children.forEach((function(e){aO(e,t,i,a,l)}));aO(n,t,i,a,l)}function sO(t,e,r,i,a){var n;var o;var s;var l;var u;var f;var h;var c;if(t==="radial"){u=i.rawX;h=i.rawY;f=a.rawX;c=a.rawY;var v=HP(u,h);var d=HP(u,h+(c-h)*r);var p=HP(f,c+(h-c)*r);var g=HP(f,c);return{x1:v.x||0,y1:v.y||0,x2:g.x||0,y2:g.y||0,cpx1:d.x||0,cpy1:d.y||0,cpx2:p.x||0,cpy2:p.y||0}}else{u=i.x;h=i.y;f=a.x;c=a.y;if(e==="LR"||e==="RL"){n=u+(f-u)*r;o=h;s=f+(u-f)*r;l=c}if(e==="TB"||e==="BT"){n=u;o=h+(c-h)*r;s=f;l=c+(h-c)*r}}return{x1:u,y1:h,x2:f,y2:c,cpx1:n,cpy1:o,cpx2:s,cpy2:l}}var lO=Bo();function uO(t){var e=t.mainData;var r=t.datas;if(!r){r={main:e};t.datasAttr={main:"data"}}t.datas=t.mainData=null;gO(e,r,t);X(r,(function(r){X(e.TRANSFERABLE_METHODS,(function(e){r.wrapMethod(e,tt(fO,t))}))}));e.wrapMethod("cloneShallow",tt(cO,t));X(e.CHANGABLE_METHODS,(function(r){e.wrapMethod(r,tt(hO,t))}));_t(r[e.dataType]===e)}function fO(t,e){if(pO(this)){var r=F({},lO(this).datas);r[this.dataType]=e;gO(e,r,t)}else{yO(e,this.dataType,lO(this).mainData,t)}return e}function hO(t,e){t.struct&&t.struct.update();return e}function cO(t,e){X(lO(e).datas,(function(r,i){r!==e&&yO(r.cloneShallow(),i,e,t)}));return e}function vO(t){var e=lO(this).mainData;return t==null||e==null?e:lO(e).datas[t]}function dO(){var t=lO(this).mainData;return t==null?[{data:t}]:Z($(lO(t).datas),(function(e){return{type:e,data:lO(t).datas[e]}}))}function pO(t){return lO(t).mainData===t}function gO(t,e,r){lO(t).datas={};X(e,(function(e,i){yO(e,i,t,r)}))}function yO(t,e,r,i){lO(r).datas[e]=t;lO(t).mainData=r;t.dataType=e;if(i.struct){t[i.structAttr]=i.struct;i.struct[i.datasAttr[e]]=t}t.getLinkedData=vO;t.getLinkedDataAll=dO}var mO=function(){function t(t,e){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=t||"";this.hostTree=e}t.prototype.isRemoved=function(){return this.dataIndex<0};t.prototype.eachNode=function(t,e,r){if(rt(t)){r=e;e=t;t=null}t=t||{};if(it(t)){t={order:t}}var i=t.order||"preorder";var a=this[t.attr||"children"];var n;i==="preorder"&&(n=e.call(r,this));for(var o=0;!n&&o<a.length;o++){a[o].eachNode(t,e,r)}i==="postorder"&&e.call(r,this)};t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1);if(i.height>e){e=i.height}}this.height=e+1};t.prototype.getNodeById=function(t){if(this.getId()===t){return this}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].getNodeById(t);if(a){return a}}};t.prototype.contains=function(t){if(t===this){return true}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].contains(t);if(a){return a}}};t.prototype.getAncestors=function(t){var e=[];var r=t?this:this.parentNode;while(r){e.push(r);r=r.parentNode}e.reverse();return e};t.prototype.getAncestorsIndices=function(){var t=[];var e=this;while(e){t.push(e.dataIndex);e=e.parentNode}t.reverse();return t};t.prototype.getDescendantIndices=function(){var t=[];this.eachNode((function(e){t.push(e.dataIndex)}));return t};t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)};t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)};t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostTree;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)};t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)};t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};t.prototype.getChildIndex=function(){if(this.parentNode){var t=this.parentNode.children;for(var e=0;e<t.length;++e){if(t[e]===this){return e}}return-1}return-1};t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false};t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)};return t}();var _O=function(){function t(t){this.type="tree";this._nodes=[];this.hostModel=t}t.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)};t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]};t.prototype.getNodeById=function(t){return this.root.getNodeById(t)};t.prototype.update=function(){var t=this.data;var e=this._nodes;for(var r=0,i=e.length;r<i;r++){e[r].dataIndex=-1}for(var r=0,i=t.count();r<i;r++){e[t.getRawIndex(r)].dataIndex=r}};t.prototype.clearLayouts=function(){this.data.clearItemLayouts()};t.createTree=function(e,r,i){var a=new t(r);var n=[];var o=1;s(e);function s(t,e){var r=t.value;o=Math.max(o,et(r)?r.length:1);n.push(t);var i=new mO(Lo(t.name,""),a);e?xO(i,e):a.root=i;a._nodes.push(i);var l=t.children;if(l){for(var u=0;u<l.length;u++){s(l[u],i)}}}a.root.updateDepthAndHeight(0);var l=Bb(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions;var u=new Vb(l,r);u.initData(n);i&&i(u);uO({mainData:u,struct:a,structAttr:"tree"});a.update();return a};return t}();function xO(t,e){var r=e.children;if(t.parentNode===e){return}r.push(t);t.parentNode=e}function wO(t,e,r){if(t&&W(e,t.type)>=0){var i=r.getData().tree.root;var a=t.targetNode;if(it(a)){a=i.getNodeById(a)}if(a&&i.contains(a)){return{node:a}}var n=t.targetNodeId;if(n!=null&&(a=i.getNodeById(n))){return{node:a}}}}function bO(t){var e=[];while(t){t=t.parentNode;t&&e.push(t)}return e.reverse()}function SO(t,e){var r=bO(t);return W(r,e)>=0}function MO(t,e){var r=[];while(t){var i=t.dataIndex;r.push({name:t.name,dataIndex:i,value:e.getRawValue(i)});t=t.parentNode}r.reverse();return r}var IO=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.hasSymbolVisual=true;e.ignoreStyleOnData=true;return e}e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data};var r=t.leaves||{};var i=new Mv(r,this,this.ecModel);var a=_O.createTree(e,this,n);function n(t){t.wrapMethod("getItemModel",(function(t,e){var r=a.getNodeByDataIndex(e);if(!(r&&r.children.length&&r.isExpand)){t.parentModel=i}return t}))}var o=0;a.eachNode("preorder",(function(t){if(t.depth>o){o=t.depth}}));var s=t.expandAndCollapse;var l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:o;a.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&e.collapsed!=null?!e.collapsed:t.depth<=l}));return a.data};e.prototype.getOrient=function(){var t=this.get("orient");if(t==="horizontal"){t="LR"}else if(t==="vertical"){t="TB"}return t};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.formatTooltip=function(t,e,r){var i=this.getData().tree;var a=i.root.children[0];var n=i.getNodeByDataIndex(t);var o=n.getValue();var s=n.name;while(n&&n!==a){s=n.parentNode.name+"."+s;n=n.parentNode}return Vy("nameValue",{name:s,value:o,noValue:isNaN(o)||o==null})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=MO(i,this);r.collapsed=!i.isExpand;return r};e.type="series.tree";e.layoutMode="box";e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return e}(nm);function TO(t,e,r){var i=[t];var a=[];var n;while(n=i.pop()){a.push(n);if(n.isExpand){var o=n.children;if(o.length){for(var s=0;s<o.length;s++){i.push(o[s])}}}}while(n=a.pop()){e(n,r)}}function DO(t,e){var r=[t];var i;while(i=r.pop()){e(i);if(i.isExpand){var a=i.children;if(a.length){for(var n=a.length-1;n>=0;n--){r.push(a[n])}}}}}function CO(t,e){t.eachSeriesByType("tree",(function(t){AO(t,e)}))}function AO(t,e){var r=YP(t,e);t.layoutInfo=r;var i=t.get("layout");var a=0;var n=0;var o=null;if(i==="radial"){a=2*Math.PI;n=Math.min(r.height,r.width)/2;o=WP((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))}else{a=r.width;n=r.height;o=WP()}var s=t.getData().tree.root;var l=s.children[0];if(l){BP(s);TO(l,FP,o);s.hierNode.modifier=-l.hierNode.prelim;DO(l,GP);var u=l;var f=l;var h=l;DO(l,(function(t){var e=t.getLayout().x;if(e<u.getLayout().x){u=t}if(e>f.getLayout().x){f=t}if(t.depth>h.depth){h=t}}));var c=u===f?1:o(u,f)/2;var v=c-u.getLayout().x;var d=0;var p=0;var g=0;var y=0;if(i==="radial"){d=a/(f.getLayout().x+c+v);p=n/(h.depth-1||1);DO(l,(function(t){g=(t.getLayout().x+v)*d;y=(t.depth-1)*p;var e=HP(g,y);t.setLayout({x:e.x,y:e.y,rawX:g,rawY:y},true)}))}else{var m=t.getOrient();if(m==="RL"||m==="LR"){p=n/(f.getLayout().x+c+v);d=a/(h.depth-1||1);DO(l,(function(t){y=(t.getLayout().x+v)*p;g=m==="LR"?(t.depth-1)*d:a-(t.depth-1)*d;t.setLayout({x:g,y:y},true)}))}else if(m==="TB"||m==="BT"){d=a/(f.getLayout().x+c+v);p=n/(h.depth-1||1);DO(l,(function(t){g=(t.getLayout().x+v)*d;y=m==="TB"?(t.depth-1)*p:n-(t.depth-1)*p;t.setLayout({x:g,y:y},true)}))}}}}function kO(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();var r=e.tree;r.eachNode((function(t){var r=t.getModel();var i=r.getModel("itemStyle").getItemStyle();var a=e.ensureUniqueItemVisual(t.dataIndex,"style");F(a,i)}))}))}function LO(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var r=t.dataIndex;var i=e.getData().tree;var a=i.getNodeByDataIndex(r);a.isExpand=!a.isExpand}))}));t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,r){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=e.coordinateSystem;var a=NP(i,t,undefined,r);e.setCenter&&e.setCenter(a.center);e.setZoom&&e.setZoom(a.zoom)}))}))}function PO(t){t.registerChartView(tO);t.registerSeriesModel(IO);t.registerLayout(CO);t.registerVisual(kO);LO(t)}var OO=["treemapZoomToNode","treemapRender","treemapMove"];function NO(t){for(var e=0;e<OO.length;e++){t.registerAction({type:OO[e],update:"updateView"},Ot)}t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(e,r){var i=["treemapZoomToNode","treemapRootToNode"];var a=wO(t,i,e);if(a){var n=e.getViewRoot();if(n){t.direction=SO(n,a.node)?"rollUp":"drillDown"}e.resetViewRoot(a.node)}}}))}function RO(t){var e=t.getData();var r=e.tree;var i={};r.eachNode((function(e){var r=e;while(r&&r.depth>1){r=r.parentNode}var a=bp(t.ecModel,r.name||r.dataIndex+"",i);e.setVisual("decal",a)}))}var EO=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventUsingHoverLayer=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};zO(r);var i=t.levels||[];var a=this.designatedVisualItemStyle={};var n=new Mv({itemStyle:a},this,e);i=t.levels=VO(i,e);var o=Z(i||[],(function(t){return new Mv(t,n,e)}),this);var s=_O.createTree(r,this,l);function l(t){t.wrapMethod("getItemModel",(function(t,e){var r=s.getNodeByDataIndex(e);var i=r?o[r.depth]:null;t.parentModel=i||n;return t}))}return s.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return Vy("nameValue",{name:n,value:a})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=MO(i,this);r.treePathInfo=r.treeAncestors;return r};e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{};F(this.layoutInfo,t)};e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;if(!e){e=this._idIndexMap=Ct();this._idIndexMapCount=0}var r=e.get(t);if(r==null){e.set(t,r=this._idIndexMapCount++)}return r};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){RO(this)};e.type="series.treemap";e.layoutMode="box";e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return e}(nm);function zO(t){var e=0;X(t.children,(function(t){zO(t);var r=t.value;et(r)&&(r=r[0]);e+=r}));var r=t.value;if(et(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}et(t.value)?t.value[0]=r:t.value=r}function VO(t,e){var r=yo(e.get("color"));var i=yo(e.get(["aria","decal","decals"]));if(!r){return}t=t||[];var a;var n;X(t,(function(t){var e=new Mv(t);var r=e.get("color");var i=e.get("decal");if(e.get(["itemStyle","color"])||r&&r!=="none"){a=true}if(e.get(["itemStyle","decal"])||i&&i!=="none"){n=true}}));var o=t[0]||(t[0]={});if(!a){o.color=r.slice()}if(!n&&i){o.decal=i.slice()}return t}var BO=8;var FO=8;var GO=5;var WO=function(){function t(t){this.group=new Tn;t.add(this.group)}t.prototype.render=function(t,e,r,i){var a=t.getModel("breadcrumb");var n=this.group;n.removeAll();if(!a.get("show")||!r){return}var o=a.getModel("itemStyle");var s=a.getModel("emphasis");var l=o.getModel("textStyle");var u=s.getModel(["itemStyle","textStyle"]);var f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,l);this._renderContent(t,f,o,s,l,u,i);Fd(n,f.pos,f.box)};t.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var a=Lo(i.getModel().get("name"),"");var n=r.getTextRect(a);var o=Math.max(n.width+BO*2,e.emptyItemWidth);e.totalWidth+=o+FO;e.renderList.push({node:i,text:a,width:o})}};t.prototype._renderContent=function(t,e,r,i,a,n,o){var s=0;var l=e.emptyItemWidth;var u=t.get(["breadcrumb","height"]);var f=Vd(e.pos,e.box);var h=e.totalWidth;var c=e.renderList;var v=i.getModel("itemStyle").getItemStyle();for(var d=c.length-1;d>=0;d--){var p=c[d];var g=p.node;var y=p.width;var m=p.text;if(h>f.width){h-=y-l;y=l;m=null}var _=new Vh({shape:{points:HO(s,0,y,u,d===c.length-1,d===0)},style:G(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new cu({style:rv(a,{text:m})}),textConfig:{position:"inside"},z2:zu*1e4,onclick:tt(o,g)});_.disableLabelAnimation=true;_.getTextContent().ensureState("emphasis").style=rv(n,{text:m});_.ensureState("emphasis").style=v;Lf(_,i.get("focus"),i.get("blurScope"),i.get("disabled"));this.group.add(_);YO(_,t,g);s+=y+FO}};t.prototype.remove=function(){this.group.removeAll()};return t}();function HO(t,e,r,i,a,n){var o=[[a?t:t-GO,e],[t+r,e],[t+r,e+i],[a?t:t-GO,e+i]];!n&&o.splice(2,0,[t+r+GO,e+i/2]);!a&&o.push([t,e+i/2]);return o}function YO(t,e,r){Tu(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&MO(r,e)}}var UO=function(){function t(){this._storage=[];this._elExistsMap={}}t.prototype.add=function(t,e,r,i,a){if(this._elExistsMap[t.id]){return false}this._elExistsMap[t.id]=true;this._storage.push({el:t,target:e,duration:r,delay:i,easing:a});return true};t.prototype.finished=function(t){this._finishedCallback=t;return this};t.prototype.start=function(){var t=this;var e=this._storage.length;var r=function(){e--;if(e<=0){t._storage.length=0;t._elExistsMap={};t._finishedCallback&&t._finishedCallback()}};for(var i=0,a=this._storage.length;i<a;i++){var n=this._storage[i];n.el.animateTo(n.target,{duration:n.duration,delay:n.delay,easing:n.easing,setToFinal:true,done:r,aborted:r})}return this};return t}();function XO(){return new UO}var ZO=Tn;var jO=lu;var qO=3;var KO="label";var $O="upperLabel";var JO=zu*10;var QO=zu*2;var tN=zu*3;var eN=hs([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var rN=function(t){var e=eN(t);e.stroke=e.fill=e.lineWidth=null;return e};var iN=Bo();var aN=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._state="ready";r._storage=nN();return r}e.prototype.render=function(t,e,r,i){var a=e.findComponents({mainType:"series",subType:"treemap",query:i});if(W(a,t)<0){return}this.seriesModel=t;this.api=r;this.ecModel=e;var n=["treemapZoomToNode","treemapRootToNode"];var o=wO(i,n,t);var s=i&&i.type;var l=t.layoutInfo;var u=!this._oldTree;var f=this._storage;var h=s==="treemapRootToNode"&&o&&f?{rootNodeGroup:f.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null;var c=this._giveContainerGroup(l);var v=t.get("animation");var d=this._doRender(c,t,h);v&&!u&&(!s||s==="treemapZoomToNode"||s==="treemapRootToNode")?this._doAnimation(c,d,t,h):d.renderFinally();this._resetController(r);this._renderBreadcrumb(t,r,o)};e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;if(!e){e=this._containerGroup=new ZO;this._initEvents(e);this.group.add(e)}e.x=t.x;e.y=t.y;return e};e.prototype._doRender=function(t,e,r){var i=e.getData().tree;var a=this._oldTree;var n=nN();var o=nN();var s=this._storage;var l=[];function u(t,i,a,u){return oN(e,o,s,r,n,l,t,i,a,u)}h(i.root?[i.root]:[],a&&a.root?[a.root]:[],t,i===a||!a,0);var f=c(s);this._oldTree=i;this._storage=o;return{lastsForAnimation:n,willDeleteEls:f,renderFinally:v};function h(t,e,r,i,a){if(i){e=t;X(t,(function(t,e){!t.isRemoved()&&o(e,e)}))}else{new fb(e,t,n,n).add(o).update(o).remove(tt(o,null)).execute()}function n(t){return t.getId()}function o(n,o){var s=n!=null?t[n]:null;var l=o!=null?e[o]:null;var f=u(s,l,r,a);f&&h(s&&s.viewChildren||[],l&&l.viewChildren||[],f,i,a+1)}}function c(t){var e=nN();t&&X(t,(function(t,r){var i=e[r];X(t,(function(t){t&&(i.push(t),iN(t).willDelete=true)}))}));return e}function v(){X(f,(function(t){X(t,(function(t){t.parent&&t.parent.remove(t)}))}));X(l,(function(t){t.invisible=true;t.dirty()}))}};e.prototype._doAnimation=function(t,e,r,i){var a=r.get("animationDurationUpdate");var n=r.get("animationEasing");var o=(rt(a)?0:a)||0;var s=(rt(n)?null:n)||"cubicOut";var l=XO();X(e.willDeleteEls,(function(t,e){X(t,(function(t,r){if(t.invisible){return}var a=t.parent;var n;var u=iN(a);if(i&&i.direction==="drillDown"){n=a===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var f=0;var h=0;if(!u.willDelete){f=u.nodeWidth/2;h=u.nodeHeight/2}n=e==="nodeGroup"?{x:f,y:h,style:{opacity:0}}:{shape:{x:f,y:h,width:0,height:0},style:{opacity:0}}}n&&l.add(t,n,o,0,s)}))}));X(this._storage,(function(t,r){X(t,(function(t,i){var a=e.lastsForAnimation[r][i];var n={};if(!a){return}if(t instanceof Tn){if(a.oldX!=null){n.x=t.x;n.y=t.y;t.x=a.oldX;t.y=a.oldY}}else{if(a.oldShape){n.shape=F({},t.shape);t.setShape(a.oldShape)}if(a.fadein){t.setStyle("opacity",0);n.style={opacity:1}}else if(t.style.opacity!==1){n.style={opacity:1}}}l.add(t,n,o,0,s)}))}),this);this._state="animating";l.finished(Q((function(){this._state="ready";e.renderFinally()}),this)).start()};e.prototype._resetController=function(t){var e=this._controller;if(!e){e=this._controller=new eL(t.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",Q(this._onPan,this));e.on("zoom",Q(this._onZoom,this))}var r=new Je(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return r.contain(e,i)}))};e.prototype._clearController=function(){var t=this._controller;if(t){t.dispose();t=null}};e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>qO||Math.abs(t.dy)>qO)){var e=this.seriesModel.getData().tree.root;if(!e){return}var r=e.getLayout();if(!r){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}};e.prototype._onZoom=function(t){var e=t.originX;var r=t.originY;if(this._state!=="animating"){var i=this.seriesModel.getData().tree.root;if(!i){return}var a=i.getLayout();if(!a){return}var n=new Je(a.x,a.y,a.width,a.height);var o=this.seriesModel.layoutInfo;e-=o.x;r-=o.y;var s=Ne();Ve(s,s,[-e,-r]);Fe(s,s,[t.scale,t.scale]);Ve(s,s,[e,r]);n.applyTransform(s);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}};e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if(e._state!=="ready"){return}var r=e.seriesModel.get("nodeClick",true);if(!r){return}var i=e.findTarget(t.offsetX,t.offsetY);if(!i){return}var a=i.node;if(a.getLayout().isLeafRoot){e._rootToNode(i)}else{if(r==="zoomToNode"){e._zoomToNode(i)}else if(r==="link"){var n=a.hostTree.data.getItemModel(a.dataIndex);var o=n.get("link",true);var s=n.get("target",true)||"blank";o&&kd(o,s)}}}),this)};e.prototype._renderBreadcrumb=function(t,e,r){var i=this;if(!r){r=t.get("leafDepth",true)!=null?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2);if(!r){r={node:t.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new WO(this.group))).render(t,e,r.node,(function(e){if(i._state!=="animating"){SO(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e})}}))};e.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=nN();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};e.prototype.dispose=function(){this._clearController()};e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype.findTarget=function(t,e){var r;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},(function(i){var a=this._storage.background[i.getRawIndex()];if(a){var n=a.transformCoordToLocal(t,e);var o=a.shape;if(o.x<=n[0]&&n[0]<=o.x+o.width&&o.y<=n[1]&&n[1]<=o.y+o.height){r={node:i,offsetX:n[0],offsetY:n[1]}}else{return false}}}),this);return r};e.type="treemap";return e}(mm);function nN(){return{nodeGroup:[],background:[],content:[]}}function oN(t,e,r,i,a,n,o,s,l,u){if(!o){return}var f=o.getLayout();var h=t.getData();var c=o.getModel();h.setItemGraphicEl(o.dataIndex,null);if(!f||!f.isInView){return}var v=f.width;var d=f.height;var p=f.borderWidth;var g=f.invisible;var y=o.getRawIndex();var m=s&&s.getRawIndex();var _=o.viewChildren;var x=f.upperHeight;var w=_&&_.length;var b=c.getModel("itemStyle");var S=c.getModel(["emphasis","itemStyle"]);var M=c.getModel(["blur","itemStyle"]);var I=c.getModel(["select","itemStyle"]);var T=b.get("borderRadius")||0;var D=G("nodeGroup",ZO);if(!D){return}l.add(D);D.x=f.x||0;D.y=f.y||0;D.markRedraw();iN(D).nodeWidth=v;iN(D).nodeHeight=d;if(f.isAboveViewRoot){return D}var C=G("background",jO,u,QO);C&&R(D,C,w&&f.upperLabelHeight);var A=c.getModel("emphasis");var k=A.get("focus");var L=A.get("blurScope");var P=A.get("disabled");var O=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(w){if(zf(D)){Ef(D,false)}if(C){Ef(C,!P);h.setItemGraphicEl(o.dataIndex,C);Pf(C,O,L)}}else{var N=G("content",jO,u,tN);N&&E(D,N);C.disableMorphing=true;if(C&&zf(C)){Ef(C,false)}Ef(D,!P);h.setItemGraphicEl(o.dataIndex,D);Pf(D,O,L)}return D;function R(e,r,i){var a=Tu(r);a.dataIndex=o.dataIndex;a.seriesIndex=t.seriesIndex;r.setShape({x:0,y:0,width:v,height:d,r:T});if(g){z(r)}else{r.invisible=false;var n=o.getVisual("style");var s=n.stroke;var l=rN(b);l.fill=s;var u=eN(S);u.fill=S.get("borderColor");var f=eN(M);f.fill=M.get("borderColor");var h=eN(I);h.fill=I.get("borderColor");if(i){var c=v-2*p;V(r,s,n.opacity,{x:p,y:0,width:c,height:x})}else{r.removeTextContent()}r.setStyle(l);r.ensureState("emphasis").style=u;r.ensureState("blur").style=f;r.ensureState("select").style=h;uf(r)}e.add(r)}function E(e,r){var i=Tu(r);i.dataIndex=o.dataIndex;i.seriesIndex=t.seriesIndex;var a=Math.max(v-2*p,0);var n=Math.max(d-2*p,0);r.culling=true;r.setShape({x:p,y:p,width:a,height:n,r:T});if(g){z(r)}else{r.invisible=false;var s=o.getVisual("style");var l=s.fill;var u=rN(b);u.fill=l;u.decal=s.decal;var f=eN(S);var h=eN(M);var c=eN(I);V(r,l,s.opacity,null);r.setStyle(u);r.ensureState("emphasis").style=f;r.ensureState("blur").style=h;r.ensureState("select").style=c;uf(r)}e.add(r)}function z(t){!t.invisible&&n.push(t)}function V(e,r,i,a){var n=c.getModel(a?$O:KO);var s=Lo(c.get("name"),null);var l=n.getShallow("show");tv(e,ev(c,a?$O:KO),{defaultText:l?s:null,inheritColor:r,defaultOpacity:i,labelFetcher:t,labelDataIndex:o.dataIndex});var u=e.getTextContent();if(!u){return}var h=u.style;var v=mt(h.padding||0);if(a){e.setTextConfig({layoutRect:a});u.disableLabelLayout=true}u.beforeUpdate=function(){var t=Math.max((a?a.width:e.shape.width)-v[1]-v[3],0);var r=Math.max((a?a.height:e.shape.height)-v[0]-v[2],0);if(h.width!==t||h.height!==r){u.setStyle({width:t,height:r})}};h.truncateMinChar=2;h.lineOverflow="truncate";B(h,a,f);var d=u.getState("emphasis");B(d?d.style:null,a,f)}function B(e,r,i){var a=e?e.text:null;if(!r&&i.isLeafRoot&&a!=null){var n=t.get("drillDownIcon",true);e.text=n?n+" "+a:a}}function G(t,i,n,o){var s=m!=null&&r[t][m];var l=a[t];if(s){r[t][m]=null;W(l,s)}else if(!g){s=new i;if(s instanceof Fs){s.z2=sN(n,o)}H(l,s)}return e[t][y]=s}function W(t,e){var r=t[y]={};if(e instanceof ZO){r.oldX=e.x;r.oldY=e.y}else{r.oldShape=F({},e.shape)}}function H(t,e){var r=t[y]={};var n=o.parentNode;var s=e instanceof Tn;if(n&&(!i||i.direction==="drillDown")){var l=0;var u=0;var f=a.background[n.getRawIndex()];if(!i&&f&&f.oldShape){l=f.oldShape.width;u=f.oldShape.height}if(s){r.oldX=0;r.oldY=u}else{r.oldShape={x:l,y:u,width:0,height:0}}}r.fadein=!s}}function sN(t,e){return t*JO+e}var lN=X;var uN=ot;var fN=-1;var hN=function(){function t(e){var r=e.mappingMethod;var i=e.type;var a=this.option=z(e);this.type=i;this.mappingMethod=r;this._normalizeData=SN[r];var n=t.visualHandlers[i];this.applyVisual=n.applyVisual;this.getColorMapper=n.getColorMapper;this._normalizedToVisual=n._normalizedToVisual[r];if(r==="piecewise"){dN(a);cN(a)}else if(r==="category"){a.categories?vN(a):dN(a,true)}else{_t(r!=="linear"||a.dataExtent);dN(a)}}t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)};t.prototype.getNormalizer=function(){return Q(this._normalizeData,this)};t.listVisualTypes=function(){return $(t.visualHandlers)};t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)};t.eachVisual=function(t,e,r){if(ot(t)){X(t,e,r)}else{e.call(r,t)}};t.mapVisual=function(e,r,i){var a;var n=et(e)?[]:ot(e)?{}:(a=true,null);t.eachVisual(e,(function(t,e){var o=r.call(i,t,e);a?n=o:n[e]=o}));return n};t.retrieveVisuals=function(e){var r={};var i;e&&lN(t.visualHandlers,(function(t,a){if(e.hasOwnProperty(a)){r[a]=e[a];i=true}}));return i?r:null};t.prepareVisualTypes=function(t){if(et(t)){t=t.slice()}else if(uN(t)){var e=[];lN(t,(function(t,r){e.push(r)}));t=e}else{return[]}t.sort((function(t,e){return e==="color"&&t!=="color"&&t.indexOf("color")===0?1:-1}));return t};t.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e};t.findPieceIndex=function(t,e,r){var i;var a=Infinity;for(var n=0,o=e.length;n<o;n++){var s=e[n].value;if(s!=null){if(s===t||it(s)&&s===t+""){return n}r&&h(s,n)}}for(var n=0,o=e.length;n<o;n++){var l=e[n];var u=l.interval;var f=l.close;if(u){if(u[0]===-Infinity){if(MN(f[1],t,u[1])){return n}}else if(u[1]===Infinity){if(MN(f[0],u[0],t)){return n}}else if(MN(f[0],u[0],t)&&MN(f[1],t,u[1])){return n}r&&h(u[0],n);r&&h(u[1],n)}}if(r){return t===Infinity?e.length-1:t===-Infinity?0:i}function h(e,r){var n=Math.abs(e-t);if(n<a){a=n;i=r}}};t.visualHandlers={color:{applyVisual:yN("color"),getColorMapper:function(){var t=this.option;return Q(t.mappingMethod==="category"?function(t,e){!e&&(t=this._normalizeData(t));return mN.call(this,t)}:function(e,r,i){var a=!!i;!r&&(e=this._normalizeData(e));i=Mi(e,t.parsedVisual,i);return a?i:Ci(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ci(Mi(t,this.option.parsedVisual),"rgba")},category:mN,piecewise:function(t,e){var r=wN.call(this,e);if(r==null){r=Ci(Mi(t,this.option.parsedVisual),"rgba")}return r},fixed:_N}},colorHue:pN((function(t,e){return Ti(t,e)})),colorSaturation:pN((function(t,e){return Ti(t,null,e)})),colorLightness:pN((function(t,e){return Ti(t,null,null,e)})),colorAlpha:pN((function(t,e){return Di(t,e)})),decal:{applyVisual:yN("decal"),_normalizedToVisual:{linear:null,category:mN,piecewise:null,fixed:null}},opacity:{applyVisual:yN("opacity"),_normalizedToVisual:xN([0,1])},liftZ:{applyVisual:yN("liftZ"),_normalizedToVisual:{linear:_N,category:_N,piecewise:_N,fixed:_N}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:gN,category:mN,piecewise:function(t,e){var r=wN.call(this,e);if(r==null){r=gN.call(this,t)}return r},fixed:_N}},symbolSize:{applyVisual:yN("symbolSize"),_normalizedToVisual:xN([0,1])}};return t}();function cN(t){var e=t.pieceList;t.hasSpecialVisual=false;X(e,(function(e,r){e.originIndex=r;if(e.visual!=null){t.hasSpecialVisual=true}}))}function vN(t){var e=t.categories;var r=t.categoryMap={};var i=t.visual;lN(e,(function(t,e){r[t]=e}));if(!et(i)){var a=[];if(ot(i)){lN(i,(function(t,e){var i=r[e];a[i!=null?i:fN]=t}))}else{a[fN]=i}i=bN(t,a)}for(var n=e.length-1;n>=0;n--){if(i[n]==null){delete r[e[n]];e.pop()}}}function dN(t,e){var r=t.visual;var i=[];if(ot(r)){lN(r,(function(t){i.push(t)}))}else if(r!=null){i.push(r)}var a={color:1,symbol:1};if(!e&&i.length===1&&!a.hasOwnProperty(t.type)){i[1]=i[0]}bN(t,i)}function pN(t){return{applyVisual:function(e,r,i){var a=this.mapValueToVisual(e);i("color",t(r("color"),a))},_normalizedToVisual:xN([0,1])}}function gN(t){var e=this.option.visual;return e[Math.round(zn(t,[0,1],[0,e.length-1],true))]||{}}function yN(t){return function(e,r,i){i(t,this.mapValueToVisual(e))}}function mN(t){var e=this.option.visual;return e[this.option.loop&&t!==fN?t%e.length:t]}function _N(){return this.option.visual[0]}function xN(t){return{linear:function(e){return zn(e,t,this.option.visual,true)},category:mN,piecewise:function(e,r){var i=wN.call(this,r);if(i==null){i=zn(e,t,this.option.visual,true)}return i},fixed:_N}}function wN(t){var e=this.option;var r=e.pieceList;if(e.hasSpecialVisual){var i=hN.findPieceIndex(t,r);var a=r[i];if(a&&a.visual){return a.visual[this.type]}}}function bN(t,e){t.visual=e;if(t.type==="color"){t.parsedVisual=Z(e,(function(t){var e=xi(t);if(!e&&"production"!=="production"){ho("'"+t+"' is an illegal color, fallback to '#000000'",true)}return e||[0,0,0,1]}))}return e}var SN={linear:function(t){return zn(t,this.option.dataExtent,[0,1],true)},piecewise:function(t){var e=this.option.pieceList;var r=hN.findPieceIndex(t,e,true);if(r!=null){return zn(r,[0,e.length-1],[0,1],true)}},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e==null?fN:e},fixed:Ot};function MN(t,e,r){return t?e<=r:e<r}var IN="itemStyle";var TN=Bo();var DN={seriesType:"treemap",reset:function(t){var e=t.getData().tree;var r=e.root;if(r.isRemoved()){return}CN(r,{},t.getViewRoot().getAncestors(),t)}};function CN(t,e,r,i){var a=t.getModel();var n=t.getLayout();var o=t.hostTree.data;if(!n||n.invisible||!n.isInView){return}var s=a.getModel(IN);var l=AN(s,e,i);var u=o.ensureUniqueItemVisual(t.dataIndex,"style");var f=s.get("borderColor");var h=s.get("borderColorSaturation");var c;if(h!=null){c=kN(l);f=LN(h,c)}u.stroke=f;var v=t.viewChildren;if(!v||!v.length){c=kN(l);u.fill=c}else{var d=ON(t,a,n,s,l,v);X(v,(function(t,e){if(t.depth>=r.length||t===r[t.depth]){var n=RN(a,l,t,e,d,i);CN(t,n,r,i)}}))}}function AN(t,e,r){var i=F({},e);var a=r.designatedVisualItemStyle;X(["color","colorAlpha","colorSaturation"],(function(r){a[r]=e[r];var n=t.get(r);a[r]=null;n!=null&&(i[r]=n)}));return i}function kN(t){var e=PN(t,"color");if(e){var r=PN(t,"colorAlpha");var i=PN(t,"colorSaturation");if(i){e=Ti(e,null,null,i)}if(r){e=Di(e,r)}return e}}function LN(t,e){return e!=null?Ti(e,null,null,t):null}function PN(t,e){var r=t[e];if(r!=null&&r!=="none"){return r}}function ON(t,e,r,i,a,n){if(!n||!n.length){return}var o=NN(e,"color")||a.color!=null&&a.color!=="none"&&(NN(e,"colorAlpha")||NN(e,"colorSaturation"));if(!o){return}var s=e.get("visualMin");var l=e.get("visualMax");var u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s);l!=null&&l>u[1]&&(u[1]=l);var f=e.get("colorMappingBy");var h={type:o.name,dataExtent:u,visual:o.range};if(h.type==="color"&&(f==="index"||f==="id")){h.mappingMethod="category";h.loop=true}else{h.mappingMethod="linear"}var c=new hN(h);TN(c).drColorMappingBy=f;return c}function NN(t,e){var r=t.get(e);return et(r)&&r.length?{name:e,range:r}:null}function RN(t,e,r,i,a,n){var o=F({},e);if(a){var s=a.type;var l=s==="color"&&TN(a).drColorMappingBy;var u=l==="index"?i:l==="id"?n.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var EN=Math.max;var zN=Math.min;var VN=dt;var BN=X;var FN=["itemStyle","borderWidth"];var GN=["itemStyle","gapWidth"];var WN=["upperLabel","show"];var HN=["upperLabel","height"];var YN={seriesType:"treemap",reset:function(t,e,r,i){var a=r.getWidth();var n=r.getHeight();var o=t.option;var s=Bd(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});var l=o.size||[];var u=Vn(VN(s.width,l[0]),a);var f=Vn(VN(s.height,l[1]),n);var h=i&&i.type;var c=["treemapZoomToNode","treemapRootToNode"];var v=wO(i,c,t);var d=h==="treemapRender"||h==="treemapMove"?i.rootRect:null;var p=t.getViewRoot();var g=bO(p);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?JN(t,v,p,u,f):d?[d.width,d.height]:[u,f];var m=o.sort;if(m&&m!=="asc"&&m!=="desc"){m="desc"}var _={squareRatio:o.squareRatio,sort:m,leafDepth:o.leafDepth};p.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};p.setLayout(x);UN(p,_,false,0);x=p.getLayout();BN(g,(function(t,e){var r=(g[e+1]||p).getValue();t.setLayout(F({dataExtent:[r,r],borderWidth:0,upperHeight:0},x))}))}var w=t.getData().tree.root;w.setLayout(QN(s,d,v),true);t.setLayoutInfo(s);tR(w,new Je(-s.x,-s.y,a,n),g,p,0)}};function UN(t,e,r,i){var a;var n;if(t.isRemoved()){return}var o=t.getLayout();a=o.width;n=o.height;var s=t.getModel();var l=s.get(FN);var u=s.get(GN)/2;var f=eR(s);var h=Math.max(l,f);var c=l-u;var v=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:f},true);a=EN(a-2*c,0);n=EN(n-c-v,0);var d=a*n;var p=XN(t,s,d,e,r,i);if(!p.length){return}var g={x:c,y:v,width:a,height:n};var y=zN(a,n);var m=Infinity;var _=[];_.area=0;for(var x=0,w=p.length;x<w;){var b=p[x];_.push(b);_.area+=b.getLayout().area;var S=KN(_,y,e.squareRatio);if(S<=m){x++;m=S}else{_.area-=_.pop().getLayout().area;$N(_,y,g,u,false);y=zN(g.width,g.height);_.length=_.area=0;m=Infinity}}if(_.length){$N(_,y,g,u,true)}if(!r){var M=s.get("childrenVisibleMin");if(M!=null&&d<M){r=true}}for(var x=0,w=p.length;x<w;x++){UN(p[x],e,r,i+1)}}function XN(t,e,r,i,a,n){var o=t.children||[];var s=i.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=i.leafDepth!=null&&i.leafDepth<=n;if(a&&!l){return t.viewChildren=[]}o=q(o,(function(t){return!t.isRemoved()}));jN(o,s);var u=qN(e,o,s);if(u.sum===0){return t.viewChildren=[]}u.sum=ZN(e,r,u.sum,s,o);if(u.sum===0){return t.viewChildren=[]}for(var f=0,h=o.length;f<h;f++){var c=o[f].getValue()/u.sum*r;o[f].setLayout({area:c})}if(l){o.length&&t.setLayout({isLeafRoot:true},true);o.length=0}t.viewChildren=o;t.setLayout({dataExtent:u.dataExtent},true);return o}function ZN(t,e,r,i,a){if(!i){return r}var n=t.get("visibleMin");var o=a.length;var s=o;for(var l=o-1;l>=0;l--){var u=a[i==="asc"?o-l-1:l].getValue();if(u/r*e<n){s=l;r-=u}}i==="asc"?a.splice(0,o-s):a.splice(s,o-s);return r}function jN(t,e){if(e){t.sort((function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i}))}return t}function qN(t,e,r){var i=0;for(var a=0,n=e.length;a<n;a++){i+=e[a].getValue()}var o=t.get("visualDimension");var s;if(!e||!e.length){s=[NaN,NaN]}else if(o==="value"&&r){s=[e[e.length-1].getValue(),e[0].getValue()];r==="asc"&&s.reverse()}else{s=[Infinity,-Infinity];BN(e,(function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e);e>s[1]&&(s[1]=e)}))}return{sum:i,dataExtent:s}}function KN(t,e,r){var i=0;var a=Infinity;for(var n=0,o=void 0,s=t.length;n<s;n++){o=t[n].getLayout().area;if(o){o<a&&(a=o);o>i&&(i=o)}}var l=t.area*t.area;var u=e*e*r;return l?EN(u*i/l,l/(u*a)):Infinity}function $N(t,e,r,i,a){var n=e===r.width?0:1;var o=1-n;var s=["x","y"];var l=["width","height"];var u=r[s[n]];var f=e?t.area/e:0;if(a||f>r[l[o]]){f=r[l[o]]}for(var h=0,c=t.length;h<c;h++){var v=t[h];var d={};var p=f?v.getLayout().area/f:0;var g=d[l[o]]=EN(f-2*i,0);var y=r[s[n]]+r[l[n]]-u;var m=h===c-1||y<p?y:p;var _=d[l[n]]=EN(m-2*i,0);d[s[o]]=r[s[o]]+zN(i,g/2);d[s[n]]=u+zN(i,_/2);u+=m;v.setLayout(d,true)}r[s[o]]+=f;r[l[o]]-=f}function JN(t,e,r,i,a){var n=(e||{}).node;var o=[i,a];if(!n||n===r){return o}var s;var l=i*a;var u=l*t.option.zoomToNodeRatio;while(s=n.parentNode){var f=0;var h=s.children;for(var c=0,v=h.length;c<v;c++){f+=h[c].getValue()}var d=n.getValue();if(d===0){return o}u*=f/d;var p=s.getModel();var g=p.get(FN);var y=Math.max(g,eR(p));u+=4*g*g+(3*g+y)*Math.pow(u,.5);u>Xn&&(u=Xn);n=s}u<l&&(u=l);var m=Math.pow(u/l,.5);return[i*m,a*m]}function QN(t,e,r){if(e){return{x:e.x,y:e.y}}var i={x:0,y:0};if(!r){return i}var a=r.node;var n=a.getLayout();if(!n){return i}var o=[n.width/2,n.height/2];var s=a;while(s){var l=s.getLayout();o[0]+=l.x;o[1]+=l.y;s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function tR(t,e,r,i,a){var n=t.getLayout();var o=r[a];var s=o&&o===t;if(o&&!s||a===r.length&&t!==i){return}t.setLayout({isInView:true,invisible:!s&&!e.intersect(n),isAboveViewRoot:s},true);var l=new Je(e.x-n.x,e.y-n.y,e.width,e.height);BN(t.viewChildren||[],(function(t){tR(t,l,r,i,a+1)}))}function eR(t){return t.get(WN)?t.get(HN):0}function rR(t){t.registerSeriesModel(EO);t.registerChartView(aN);t.registerVisual(DN);t.registerLayout(YN);NO(t)}function iR(t){var e=t.findComponents({mainType:"legend"});if(!e||!e.length){return}t.eachSeriesByType("graph",(function(t){var r=t.getCategoriesData();var i=t.getGraph();var a=i.data;var n=r.mapArray(r.getName);a.filterSelf((function(t){var r=a.getItemModel(t);var i=r.getShallow("category");if(i!=null){if(nt(i)){i=n[i]}for(var o=0;o<e.length;o++){if(!e[o].isSelected(i)){return false}}}return true}))}))}function aR(t){var e={};t.eachSeriesByType("graph",(function(t){var r=t.getCategoriesData();var i=t.getData();var a={};r.each((function(i){var n=r.getName(i);a["ec-"+n]=i;var o=r.getItemModel(i);var s=o.getModel("itemStyle").getItemStyle();if(!s.fill){s.fill=t.getColorFromPalette(n,e)}r.setItemVisual(i,"style",s);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){var f=o.getShallow(l[u],true);if(f!=null){r.setItemVisual(i,l[u],f)}}}));if(r.count()){i.each((function(t){var e=i.getItemModel(t);var n=e.getShallow("category");if(n!=null){if(it(n)){n=a["ec-"+n]}var o=r.getItemVisual(n,"style");var s=i.ensureUniqueItemVisual(t,"style");F(s,o);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){i.setItemVisual(t,l[u],r.getItemVisual(n,l[u]))}}}))}}))}function nR(t){if(!(t instanceof Array)){t=[t,t]}return t}function oR(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph();var r=t.getEdgeData();var i=nR(t.get("edgeSymbol"));var a=nR(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]);r.setVisual("toSymbol",i&&i[1]);r.setVisual("fromSymbolSize",a&&a[0]);r.setVisual("toSymbolSize",a&&a[1]);r.setVisual("style",t.getModel("lineStyle").getLineStyle());r.each((function(t){var i=r.getItemModel(t);var a=e.getEdgeByIndex(t);var n=nR(i.getShallow("symbol",true));var o=nR(i.getShallow("symbolSize",true));var s=i.getModel("lineStyle").getLineStyle();var l=r.ensureUniqueItemVisual(t,"style");F(l,s);switch(l.stroke){case"source":{var u=a.node1.getVisual("style");l.stroke=u&&u.fill;break}case"target":{var u=a.node2.getVisual("style");l.stroke=u&&u.fill;break}}n[0]&&a.setVisual("fromSymbol",n[0]);n[1]&&a.setVisual("toSymbol",n[1]);o[0]&&a.setVisual("fromSymbolSize",o[0]);o[1]&&a.setVisual("toSymbolSize",o[1])}))}))}var sR="--\x3e";var lR=function(t){return t.get("autoCurveness")||null};var uR=function(t,e){var r=lR(t);var i=20;var a=[];if(nt(r)){i=r}else if(et(r)){t.__curvenessList=r;return}if(e>i){i=e}var n=i%2?i+2:i+3;a=[];for(var o=0;o<n;o++){a.push((o%2?o+1:o)/10*(o%2?-1:1))}t.__curvenessList=a};var fR=function(t,e,r){var i=[t.id,t.dataIndex].join(".");var a=[e.id,e.dataIndex].join(".");return[r.uid,i,a].join(sR)};var hR=function(t){var e=t.split(sR);return[e[0],e[2],e[1]].join(sR)};var cR=function(t,e){var r=fR(t.node1,t.node2,e);return e.__edgeMap[r]};var vR=function(t,e){var r=dR(fR(t.node1,t.node2,e),e);var i=dR(fR(t.node2,t.node1,e),e);return r+i};var dR=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function pR(t){if(!lR(t)){return}t.__curvenessList=[];t.__edgeMap={};uR(t)}function gR(t,e,r,i){if(!lR(r)){return}var a=fR(t,e,r);var n=r.__edgeMap;var o=n[hR(a)];if(n[a]&&!o){n[a].isForward=true}else if(o&&n[a]){o.isForward=true;n[a].isForward=false}n[a]=n[a]||[];n[a].push(i)}function yR(t,e,r,i){var a=lR(e);var n=et(a);if(!a){return null}var o=cR(t,e);if(!o){return null}var s=-1;for(var l=0;l<o.length;l++){if(o[l]===r){s=l;break}}var u=vR(t,e);uR(e,u);t.lineStyle=t.lineStyle||{};var f=fR(t.node1,t.node2,e);var h=e.__curvenessList;var c=n?0:u%2?0:1;if(!o.isForward){var v=hR(f);var d=dR(v,e);var p=h[s+d+c];if(i){if(n){if(a&&a[0]===0){return(d+c)%2?p:-p}else{return((d%2?0:1)+c)%2?p:-p}}else{return(d+c)%2?p:-p}}else{return h[s+d+c]}}else{return h[c+s]}}function mR(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}var r=t.getGraph();r.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}));_R(r,t)}function _R(t,e){t.eachEdge((function(t,r){var i=gt(t.getModel().get(["lineStyle","curveness"]),-yR(t,e,r,true),0);var a=Bt(t.node1.getLayout());var n=Bt(t.node2.getLayout());var o=[a,n];if(+i){o.push([(a[0]+n[0])/2-(a[1]-n[1])*i,(a[1]+n[1])/2-(n[0]-a[0])*i])}t.setLayout(o)}))}function xR(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout");var r=t.coordinateSystem;if(r&&r.type!=="view"){var i=t.getData();var a=[];X(r.dimensions,(function(t){a=a.concat(i.mapDimensionsAll(t))}));for(var n=0;n<i.count();n++){var o=[];var s=false;for(var l=0;l<a.length;l++){var u=i.get(a[l],n);if(!isNaN(u)){s=true}o.push(u)}if(s){i.setItemLayout(n,r.dataToPoint(o))}else{i.setItemLayout(n,[NaN,NaN])}}_R(i.graph,t)}else if(!e||e==="none"){mR(t)}}))}function wR(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=t.option.nodeScaleRatio;var i=e.scaleX;var a=e.getZoom();var n=(a-1)*r+1;return n/i}function bR(t){var e=t.getVisual("symbolSize");if(e instanceof Array){e=(e[0]+e[1])/2}return+e}var SR=Math.PI;var MR=[];function IR(t,e,r,i){var a=t.coordinateSystem;if(a&&a.type!=="view"){return}var n=a.getBoundingRect();var o=t.getData();var s=o.graph;var l=n.width/2+n.x;var u=n.height/2+n.y;var f=Math.min(n.width,n.height)/2;var h=o.count();o.setLayout({cx:l,cy:u});if(!h){return}if(r){var c=a.pointToData(i),v=c[0],d=c[1];var p=[v-l,d-u];Zt(p,p);Xt(p,p,f);r.setLayout([l+p[0],u+p[1]],true);var g=t.get(["circular","rotateLabel"]);DR(r,g,l,u)}TR[e](t,s,o,f,l,u,h);s.eachEdge((function(e,r){var i=gt(e.getModel().get(["lineStyle","curveness"]),yR(e,t,r),0);var a=Bt(e.node1.getLayout());var n=Bt(e.node2.getLayout());var o;var s=(a[0]+n[0])/2;var f=(a[1]+n[1])/2;if(+i){i*=3;o=[l*i+s*(1-i),u*i+f*(1-i)]}e.setLayout([a,n,o])}))}var TR={value:function(t,e,r,i,a,n,o){var s=0;var l=r.getSum("value");var u=Math.PI*2/(l||o);e.eachNode((function(t){var e=t.getValue("value");var r=u*(l?e:1)/2;s+=r;t.setLayout([i*Math.cos(s)+a,i*Math.sin(s)+n]);s+=r}))},symbolSize:function(t,e,r,i,a,n,o){var s=0;MR.length=o;var l=wR(t);e.eachNode((function(t){var e=bR(t);isNaN(e)&&(e=2);e<0&&(e=0);e*=l;var r=Math.asin(e/2/i);isNaN(r)&&(r=SR/2);MR[t.dataIndex]=r;s+=r*2}));var u=(2*SR-s)/o/2;var f=0;e.eachNode((function(t){var e=u+MR[t.dataIndex];f+=e;(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([i*Math.cos(f)+a,i*Math.sin(f)+n]);f+=e}))}};function DR(t,e,r,i){var a=t.getGraphicEl();if(!a){return}var n=t.getModel();var o=n.get(["label","rotate"])||0;var s=a.getSymbolPath();if(e){var l=t.getLayout();var u=Math.atan2(l[1]-i,l[0]-r);if(u<0){u=Math.PI*2+u}var f=l[0]<r;if(f){u=u-Math.PI}var h=f?"left":"right";s.setTextConfig({rotation:-u,position:h,origin:"center"});var c=s.ensureState("emphasis");F(c.textConfig||(c.textConfig={}),{position:h})}else{s.setTextConfig({rotation:o*=Math.PI/180})}}function CR(t){t.eachSeriesByType("graph",(function(t){if(t.get("layout")==="circular"){IR(t,"symbolSize")}}))}var AR=Wt;function kR(t,e,r){var i=t;var a=e;var n=r.rect;var o=n.width;var s=n.height;var l=[n.x+o/2,n.y+s/2];var u=r.gravity==null?.1:r.gravity;for(var f=0;f<i.length;f++){var h=i[f];if(!h.p){h.p=zt(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])}h.pp=Bt(h.p);h.edges=null}var c=r.friction==null?.6:r.friction;var v=c;var d;var p;return{warmUp:function(){v=c*.8},setFixed:function(t){i[t].fixed=true},setUnfixed:function(t){i[t].fixed=false},beforeStep:function(t){d=t},afterStep:function(t){p=t},step:function(t){d&&d(i,a);var e=[];var r=i.length;for(var n=0;n<a.length;n++){var o=a[n];if(o.ignoreForceLayout){continue}var s=o.n1;var f=o.n2;Ht(e,f.p,s.p);var h=Yt(e)-o.d;var c=f.w/(s.w+f.w);if(isNaN(c)){c=0}Zt(e,e);!s.fixed&&AR(s.p,s.p,e,c*h*v);!f.fixed&&AR(f.p,f.p,e,-(1-c)*h*v)}for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){Ht(e,l,g.p);AR(g.p,g.p,e,u*v)}}for(var n=0;n<r;n++){var s=i[n];for(var y=n+1;y<r;y++){var f=i[y];Ht(e,f.p,s.p);var h=Yt(e);if(h===0){Ft(e,Math.random()-.5,Math.random()-.5);h=1}var m=(s.rep+f.rep)/h/h;!s.fixed&&AR(s.pp,s.pp,e,m);!f.fixed&&AR(f.pp,f.pp,e,-m)}}var _=[];for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){Ht(_,g.p,g.pp);AR(g.p,g.p,_,v);Vt(g.pp,g.p)}}v=v*.992;var x=v<.01;p&&p(i,a,x);t&&t(x)}}}function LR(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}if(t.get("layout")==="force"){var r=t.preservedPoints||{};var i=t.getGraph();var a=i.data;var n=i.edgeData;var o=t.getModel("force");var s=o.get("initLayout");if(t.preservedPoints){a.each((function(t){var e=a.getId(t);a.setItemLayout(t,r[e]||[NaN,NaN])}))}else if(!s||s==="none"){mR(t)}else if(s==="circular"){IR(t,"value")}var l=a.getDataExtent("value");var u=n.getDataExtent("value");var f=o.get("repulsion");var h=o.get("edgeLength");var c=et(f)?f:[f,f];var v=et(h)?h:[h,h];v=[v[1],v[0]];var d=a.mapArray("value",(function(t,e){var r=a.getItemLayout(e);var i=zn(t,l,c);if(isNaN(i)){i=(c[0]+c[1])/2}return{w:i,rep:i,fixed:a.getItemModel(e).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}));var p=n.mapArray("value",(function(e,r){var a=i.getEdgeByIndex(r);var n=zn(e,u,v);if(isNaN(n)){n=(v[0]+v[1])/2}var o=a.getModel();var s=gt(a.getModel().get(["lineStyle","curveness"]),-yR(a,t,r,true),0);return{n1:d[a.node1.dataIndex],n2:d[a.node2.dataIndex],d:n,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}}));var g=e.getBoundingRect();var y=kR(d,p,{rect:g,gravity:o.get("gravity"),friction:o.get("friction")});y.beforeStep((function(t,e){for(var r=0,a=t.length;r<a;r++){if(t[r].fixed){Vt(t[r].p,i.getNodeByIndex(r).getLayout())}}}));y.afterStep((function(t,e,n){for(var o=0,s=t.length;o<s;o++){if(!t[o].fixed){i.getNodeByIndex(o).setLayout(t[o].p)}r[a.getId(o)]=t[o].p}for(var o=0,s=e.length;o<s;o++){var l=e[o];var u=i.getEdgeByIndex(o);var f=l.n1.p;var h=l.n2.p;var c=u.getLayout();c=c?c.slice():[];c[0]=c[0]||[];c[1]=c[1]||[];Vt(c[0],f);Vt(c[1],h);if(+l.curveness){c[2]=[(f[0]+h[0])/2-(f[1]-h[1])*l.curveness,(f[1]+h[1])/2-(h[0]-f[0])*l.curveness]}u.setLayout(c)}}));t.forceLayout=y;t.preservedPoints=r;y.step()}else{t.forceLayout=null}}))}function PR(t,e,r){var i=F(t.getBoxLayoutParams(),{aspect:r});return Bd(i,{width:e.getWidth(),height:e.getHeight()})}function OR(t,e){var r=[];t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||i==="view"){var a=t.getData();var n=a.mapArray((function(t){var e=a.getItemModel(t);return[+e.get("x"),+e.get("y")]}));var o=[];var s=[];Js(n,o,s);if(s[0]-o[0]===0){s[0]+=1;o[0]-=1}if(s[1]-o[1]===0){s[1]+=1;o[1]-=1}var l=(s[0]-o[0])/(s[1]-o[1]);var u=PR(t,e,l);if(isNaN(l)){o=[u.x,u.y];s=[u.x+u.width,u.y+u.height]}var f=s[0]-o[0];var h=s[1]-o[1];var c=u.width;var v=u.height;var d=t.coordinateSystem=new bP;d.zoomLimit=t.get("scaleLimit");d.setBoundingRect(o[0],o[1],f,h);d.setViewRect(u.x,u.y,c,v);d.setCenter(t.get("center"),e);d.setZoom(t.get("zoom"));r.push(d)}}));return r}var NR=Hh.prototype;var RR=Zh.prototype;var ER=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var zR=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ER);function VR(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var BR=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-line";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new ER};e.prototype.buildPath=function(t,e){if(VR(e)){NR.buildPath.call(this,t,e)}else{RR.buildPath.call(this,t,e)}};e.prototype.pointAt=function(t){if(VR(this.shape)){return NR.pointAt.call(this,t)}else{return RR.pointAt.call(this,t)}};e.prototype.tangentAt=function(t){var e=this.shape;var r=VR(e)?[e.x2-e.x1,e.y2-e.y1]:RR.tangentAt.call(this,t);return Zt(r,r)};return e}(jl);var FR=["fromSymbol","toSymbol"];function GR(t){return"_"+t+"Type"}function WR(t,e,r){var i=e.getItemVisual(r,t);if(!i||i==="none"){return}var a=e.getItemVisual(r,t+"Size");var n=e.getItemVisual(r,t+"Rotate");var o=e.getItemVisual(r,t+"Offset");var s=e.getItemVisual(r,t+"KeepAspect");var l=N_(a);var u=R_(o||0,l);var f=O_(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);f.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0;f.name=t;return f}function HR(t){var e=new BR({name:"line",subPixelOptimize:true});YR(e.shape,t);return e}function YR(t,e){t.x1=e[0][0];t.y1=e[0][1];t.x2=e[1][0];t.y2=e[1][1];t.percent=1;var r=e[2];if(r){t.cpx1=r[0];t.cpy1=r[1]}else{t.cpx1=NaN;t.cpy1=NaN}}var UR=function(t){u(e,t);function e(e,r,i){var a=t.call(this)||this;a._createLine(e,r,i);return a}e.prototype._createLine=function(t,e,r){var i=t.hostModel;var a=t.getItemLayout(e);var n=HR(a);n.shape.percent=0;hc(n,{shape:{percent:1}},i,e);this.add(n);X(FR,(function(r){var i=WR(r,t,e);this.add(i);this[GR(r)]=t.getItemVisual(e,r)}),this);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=t.getItemLayout(e);var o={shape:{}};YR(o.shape,n);fc(a,o,i,e);X(FR,(function(r){var i=t.getItemVisual(e,r);var a=GR(r);if(this[a]!==i){this.remove(this.childOfName(r));var n=WR(r,t,e);this.add(n)}this[a]=i}),this);this._updateCommonStl(t,e,r)};e.prototype.getLinePath=function(){return this.childAt(0)};e.prototype._updateCommonStl=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=r&&r.emphasisLineStyle;var o=r&&r.blurLineStyle;var s=r&&r.selectLineStyle;var l=r&&r.labelStatesModels;var u=r&&r.emphasisDisabled;var f=r&&r.focus;var h=r&&r.blurScope;if(!r||t.hasItemOption){var c=t.getItemModel(e);var v=c.getModel("emphasis");n=v.getModel("lineStyle").getLineStyle();o=c.getModel(["blur","lineStyle"]).getLineStyle();s=c.getModel(["select","lineStyle"]).getLineStyle();u=v.get("disabled");f=v.get("focus");h=v.get("blurScope");l=ev(c)}var d=t.getItemVisual(e,"style");var p=d.stroke;a.useStyle(d);a.style.fill=null;a.style.strokeNoScale=true;a.ensureState("emphasis").style=n;a.ensureState("blur").style=o;a.ensureState("select").style=s;X(FR,(function(t){var e=this.childOfName(t);if(e){e.setColor(p);e.style.opacity=d.opacity;for(var r=0;r<Ru.length;r++){var i=Ru[r];var n=a.getState(i);if(n){var o=n.style||{};var s=e.ensureState(i);var l=s.style||(s.style={});if(o.stroke!=null){l[e.__isEmptyBrush?"stroke":"fill"]=o.stroke}if(o.opacity!=null){l.opacity=o.opacity}}}e.markRedraw()}}),this);var g=i.getRawValue(e);tv(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,r){return i.getFormattedLabel(e,r,t.dataType)}},inheritColor:p||"#000",defaultOpacity:d.opacity,defaultText:(g==null?t.getName(e):isFinite(g)?Bn(g):g)+""});var y=this.getTextContent();if(y){var m=l.normal;y.__align=y.style.align;y.__verticalAlign=y.style.verticalAlign;y.__position=m.get("position")||"middle";var _=m.get("distance");if(!et(_)){_=[_,_]}y.__labelDistance=_}this.setTextConfig({position:null,local:true,inside:false});Lf(this,f,h,u)};e.prototype.highlight=function(){cf(this)};e.prototype.downplay=function(){vf(this)};e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))};e.prototype.setLinePoints=function(t){var e=this.childOfName("line");YR(e.shape,t);e.dirty()};e.prototype.beforeUpdate=function(){var t=this;var e=t.childOfName("fromSymbol");var r=t.childOfName("toSymbol");var i=t.getTextContent();if(!e&&!r&&(!i||i.ignore)){return}var a=1;var n=this.parent;while(n){if(n.scaleX){a/=n.scaleX}n=n.parent}var o=t.childOfName("line");if(!this.__dirty&&!o.__dirty){return}var s=o.shape.percent;var l=o.pointAt(0);var u=o.pointAt(s);var f=Ht([],u,l);Zt(f,f);function h(t,e){var r=t.__specifiedRotation;if(r==null){var i=o.tangentAt(e);t.attr("rotation",(e===1?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else{t.attr("rotation",r)}}if(e){e.setPosition(l);h(e,0);e.scaleX=e.scaleY=a*s;e.markRedraw()}if(r){r.setPosition(u);h(r,1);r.scaleX=r.scaleY=a*s;r.markRedraw()}if(i&&!i.ignore){i.x=i.y=0;i.originX=i.originY=0;var c=void 0;var v=void 0;var d=i.__labelDistance;var p=d[0]*a;var g=d[1]*a;var y=s/2;var m=o.tangentAt(y);var _=[m[1],-m[0]];var x=o.pointAt(y);if(_[1]>0){_[0]=-_[0];_[1]=-_[1]}var w=m[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var b=-Math.atan2(m[1],m[0]);if(u[0]<l[0]){b=Math.PI+b}i.rotation=b}var S=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-g;v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=g;v="top";break;default:S=0;v="middle"}switch(i.__position){case"end":i.x=f[0]*p+u[0];i.y=f[1]*g+u[1];c=f[0]>.8?"left":f[0]<-.8?"right":"center";v=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":i.x=-f[0]*p+l[0];i.y=-f[1]*g+l[1];c=f[0]>.8?"right":f[0]<-.8?"left":"center";v=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=p*w+l[0];i.y=l[1]+S;c=m[0]<0?"right":"left";i.originX=-p*w;i.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=x[0];i.y=x[1]+S;c="center";i.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-p*w+u[0];i.y=u[1]+S;c=m[0]>=0?"right":"left";i.originX=p*w;i.originY=-S;break}i.scaleX=i.scaleY=a;i.setStyle({verticalAlign:i.__verticalAlign||v,align:i.__align||c})}};return e}(Tn);var XR=function(){function t(t){this.group=new Tn;this._LineCtor=t||UR}t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this;var i=r.group;var a=r._lineData;r._lineData=t;if(!a){i.removeAll()}var n=jR(t);t.diff(a).add((function(r){e._doAdd(t,r,n)})).update((function(r,i){e._doUpdate(a,t,i,r,n)})).remove((function(t){i.remove(a.getItemGraphicEl(t))})).execute()};t.prototype.updateLayout=function(){var t=this._lineData;if(!t){return}t.eachItemGraphicEl((function(e,r){e.updateLayout(t,r)}),this)};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jR(t);this._lineData=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function r(t){if(!t.isGroup&&!ZR(t)){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(KR(a)){var n=new this._LineCtor(e,i,this._seriesScope);n.traverse(r);this.group.add(n);e.setItemGraphicEl(i,n);this._progressiveEls.push(n)}}};t.prototype.remove=function(){this.group.removeAll()};t.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};t.prototype._doAdd=function(t,e,r){var i=t.getItemLayout(e);if(!KR(i)){return}var a=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,a);this.group.add(a)};t.prototype._doUpdate=function(t,e,r,i,a){var n=t.getItemGraphicEl(r);if(!KR(e.getItemLayout(i))){this.group.remove(n);return}if(!n){n=new this._LineCtor(e,i,a)}else{n.updateData(e,i,a)}e.setItemGraphicEl(i,n);this.group.add(n)};return t}();function ZR(t){return t.animators&&t.animators.length>0}function jR(t){var e=t.hostModel;var r=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:ev(e)}}function qR(t){return isNaN(t[0])||isNaN(t[1])}function KR(t){return t&&!qR(t[0])&&!qR(t[1])}var $R=[];var JR=[];var QR=[];var tE=jr;var eE=$t;var rE=Math.abs;function iE(t,e,r){var i=t[0];var a=t[1];var n=t[2];var o=Infinity;var s;var l=r*r;var u=.1;for(var f=.1;f<=.9;f+=.1){$R[0]=tE(i[0],a[0],n[0],f);$R[1]=tE(i[1],a[1],n[1],f);var h=rE(eE($R,e)-l);if(h<o){o=h;s=f}}for(var c=0;c<32;c++){var v=s+u;JR[0]=tE(i[0],a[0],n[0],s);JR[1]=tE(i[1],a[1],n[1],s);QR[0]=tE(i[0],a[0],n[0],v);QR[1]=tE(i[1],a[1],n[1],v);var h=eE(JR,e)-l;if(rE(h)<.01){break}var d=eE(QR,e)-l;u/=2;if(h<0){if(d>=0){s=s+u}else{s=s-u}}else{if(d>=0){s=s-u}else{s=s+u}}}return s}function aE(t,e){var r=[];var i=Jr;var a=[[],[],[]];var n=[[],[]];var o=[];e/=2;t.eachEdge((function(t,s){var l=t.getLayout();var u=t.getVisual("fromSymbol");var f=t.getVisual("toSymbol");if(!l.__original){l.__original=[Bt(l[0]),Bt(l[1])];if(l[2]){l.__original.push(Bt(l[2]))}}var h=l.__original;if(l[2]!=null){Vt(a[0],h[0]);Vt(a[1],h[2]);Vt(a[2],h[1]);if(u&&u!=="none"){var c=bR(t.node1);var v=iE(a,h[0],c*e);i(a[0][0],a[1][0],a[2][0],v,r);a[0][0]=r[3];a[1][0]=r[4];i(a[0][1],a[1][1],a[2][1],v,r);a[0][1]=r[3];a[1][1]=r[4]}if(f&&f!=="none"){var c=bR(t.node2);var v=iE(a,h[1],c*e);i(a[0][0],a[1][0],a[2][0],v,r);a[1][0]=r[1];a[2][0]=r[2];i(a[0][1],a[1][1],a[2][1],v,r);a[1][1]=r[1];a[2][1]=r[2]}Vt(l[0],a[0]);Vt(l[1],a[2]);Vt(l[2],a[1])}else{Vt(n[0],h[0]);Vt(n[1],h[1]);Ht(o,n[1],n[0]);Zt(o,o);if(u&&u!=="none"){var c=bR(t.node1);Wt(n[0],n[0],o,c*e)}if(f&&f!=="none"){var c=bR(t.node2);Wt(n[1],n[1],o,-c*e)}Vt(l[0],n[0]);Vt(l[1],n[1])}}))}function nE(t){return t.type==="view"}var oE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){var r=new PD;var i=new XR;var a=this.group;this._controller=new eL(e.getZr());this._controllerHost={target:a};a.add(r.group);a.add(i.group);this._symbolDraw=r;this._lineDraw=i;this._firstRender=true};e.prototype.render=function(t,e,r){var i=this;var a=t.coordinateSystem;this._model=t;var n=this._symbolDraw;var o=this._lineDraw;var s=this.group;if(nE(a)){var l={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};if(this._firstRender){s.attr(l)}else{fc(s,l,t)}}aE(t.getGraph(),wR(t));var u=t.getData();n.updateData(u);var f=t.getEdgeData();o.updateData(f);this._updateNodeAndLinkScale();this._updateController(t,e,r);clearTimeout(this._layoutTimeout);var h=t.forceLayout;var c=t.get(["force","layoutAnimation"]);if(h){this._startForceLayoutIteration(h,c)}var v=t.get("layout");u.graph.eachNode((function(e){var r=e.dataIndex;var a=e.getGraphicEl();var n=e.getModel();if(!a){return}a.off("drag").off("dragend");var o=n.get("draggable");if(o){a.on("drag",(function(n){switch(v){case"force":h.warmUp();!i._layouting&&i._startForceLayoutIteration(h,c);h.setFixed(r);u.setItemLayout(r,[a.x,a.y]);break;case"circular":u.setItemLayout(r,[a.x,a.y]);e.setLayout({fixed:true},true);IR(t,"symbolSize",e,[n.offsetX,n.offsetY]);i.updateLayout(t);break;case"none":default:u.setItemLayout(r,[a.x,a.y]);_R(t.getGraph(),t);i.updateLayout(t);break}})).on("dragend",(function(){if(h){h.setUnfixed(r)}}))}a.setDraggable(o,!!n.get("cursor"));var s=n.get(["emphasis","focus"]);if(s==="adjacency"){Tu(a).focus=e.getAdjacentDataIndices()}}));u.graph.eachEdge((function(t){var e=t.getGraphicEl();var r=t.getModel().get(["emphasis","focus"]);if(!e){return}if(r==="adjacency"){Tu(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]}}}));var d=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]);var p=u.getLayout("cx");var g=u.getLayout("cy");u.graph.eachNode((function(t){DR(t,d,p,g)}));this._firstRender=false};e.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype._startForceLayoutIteration=function(t,e){var r=this;(function i(){t.step((function(t){r.updateLayout(r._model);(r._layouting=!t)&&(e?r._layoutTimeout=setTimeout(i,16):i())}))})()};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker((function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!lL(e,r,t)}));if(!nE(t.coordinateSystem)){a.disable();return}a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",(function(e){nL(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){oL(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale();aE(t.getGraph(),wR(t));i._lineDraw.updateLayout();r.updateLabelLayout()}))};e.prototype._updateNodeAndLinkScale=function(){var t=this._model;var e=t.getData();var r=wR(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(r)}))};e.prototype.updateLayout=function(t){aE(t.getGraph(),wR(t));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};e.type="graph";return e}(mm);function sE(t){return"_EC_"+t}var lE=function(){function t(t){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=t||false}t.prototype.isDirected=function(){return this._directed};t.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var r=this._nodesMap;if(r[sE(t)]){return}var i=new uE(t,e);i.hostGraph=this;this.nodes.push(i);r[sE(t)]=i;return i};t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]};t.prototype.getNodeById=function(t){return this._nodesMap[sE(t)]};t.prototype.addEdge=function(t,e,r){var i=this._nodesMap;var a=this._edgesMap;if(nt(t)){t=this.nodes[t]}if(nt(e)){e=this.nodes[e]}if(!(t instanceof uE)){t=i[sE(t)]}if(!(e instanceof uE)){e=i[sE(e)]}if(!t||!e){return}var n=t.id+"-"+e.id;var o=new fE(t,e,r);o.hostGraph=this;if(this._directed){t.outEdges.push(o);e.inEdges.push(o)}t.edges.push(o);if(t!==e){e.edges.push(o)}this.edges.push(o);a[n]=o;return o};t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]};t.prototype.getEdge=function(t,e){if(t instanceof uE){t=t.id}if(e instanceof uE){e=e.id}var r=this._edgesMap;if(this._directed){return r[t+"-"+e]}else{return r[t+"-"+e]||r[e+"-"+t]}};t.prototype.eachNode=function(t,e){var r=this.nodes;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.eachEdge=function(t,e){var r=this.edges;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.breadthFirstTraverse=function(t,e,r,i){if(!(e instanceof uE)){e=this._nodesMap[sE(e)]}if(!e){return}var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges";for(var n=0;n<this.nodes.length;n++){this.nodes[n].__visited=false}if(t.call(i,e,null)){return}var o=[e];while(o.length){var s=o.shift();var l=s[a];for(var n=0;n<l.length;n++){var u=l[n];var f=u.node1===s?u.node2:u.node1;if(!f.__visited){if(t.call(i,f,s)){return}o.push(f);f.__visited=true}}}};t.prototype.update=function(){var t=this.data;var e=this.edgeData;var r=this.nodes;var i=this.edges;for(var a=0,n=r.length;a<n;a++){r[a].dataIndex=-1}for(var a=0,n=t.count();a<n;a++){r[t.getRawIndex(a)].dataIndex=a}e.filterSelf((function(t){var r=i[e.getRawIndex(t)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0}));for(var a=0,n=i.length;a<n;a++){i[a].dataIndex=-1}for(var a=0,n=e.count();a<n;a++){i[e.getRawIndex(a)].dataIndex=a}};t.prototype.clone=function(){var e=new t(this._directed);var r=this.nodes;var i=this.edges;for(var a=0;a<r.length;a++){e.addNode(r[a].id,r[a].dataIndex)}for(var a=0;a<i.length;a++){var n=i[a];e.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return e};return t}();var uE=function(){function t(t,e){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=t==null?"":t;this.dataIndex=e==null?-1:e}t.prototype.degree=function(){return this.edges.length};t.prototype.inDegree=function(){return this.inEdges.length};t.prototype.outDegree=function(){return this.outEdges.length};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){var t={edge:[],node:[]};for(var e=0;e<this.edges.length;e++){var r=this.edges[e];if(r.dataIndex<0){continue}t.edge.push(r.dataIndex);t.node.push(r.node1.dataIndex,r.node2.dataIndex)}return t};return t}();var fE=function(){function t(t,e,r){this.dataIndex=-1;this.node1=t;this.node2=e;this.dataIndex=r==null?-1:r}t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.edgeData.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};return t}();function hE(t,e){return{getValue:function(r){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,i)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}Y(uE,hE("hostGraph","data"));Y(fE,hE("hostGraph","edgeData"));function cE(t,e,r,i,a){var n=new lE(i);for(var o=0;o<t.length;o++){n.addNode(dt(t[o].id,t[o].name,o),o)}var s=[];var l=[];var u=0;for(var o=0;o<e.length;o++){var f=e[o];var h=f.source;var c=f.target;if(n.addEdge(h,c,u)){l.push(f);s.push(dt(Lo(f.id,null),h+" > "+c));u++}}var v=r.get("coordinateSystem");var d;if(v==="cartesian2d"||v==="polar"){d=Qb(t,r)}else{var p=Fp.get(v);var g=p?p.dimensions||[]:[];if(W(g,"value")<0){g.concat(["value"])}var y=Bb(t,{coordDimensions:g,encodeDefine:r.getEncode()}).dimensions;d=new Vb(y,r);d.initData(t)}var m=new Vb(["value"],r);m.initData(l,s);a&&a(d,m);uO({mainData:d,struct:n,structAttr:"graph",datas:{node:d,edge:m},datasAttr:{node:"data",edge:"edgeData"}});n.update();return n}var vE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new dA(i,i);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments);mo(e,"edgeLabel",["show"])};e.prototype.getInitialData=function(t,e){var r=t.edges||t.links||[];var i=t.data||t.nodes||[];var a=this;if(i&&r){pR(this);var n=cE(i,r,this,true,o);X(n.edges,(function(t){gR(t.node1,t.node2,this,t.dataIndex)}),this);return n.data}function o(t,e){t.wrapMethod("getItemModel",(function(t){var e=a._categoriesModels;var r=t.getShallow("category");var i=e[r];if(i){i.parentModel=t.parentModel;t.parentModel=i}return t}));var r=Mv.prototype.getModel;function i(t,e){var i=r.call(this,t,e);i.resolveParentPath=n;return i}e.wrapMethod("getItemModel",(function(t){t.resolveParentPath=n;t.getModel=i;return t}));function n(t){if(t&&(t[0]==="label"||t[1]==="label")){var e=t.slice();if(t[0]==="label"){e[0]="edgeLabel"}else if(t[1]==="label"){e[1]="edgeLabel"}return e}return t}}};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.getCategoriesData=function(){return this._categoriesData};e.prototype.formatTooltip=function(t,e,r){if(r==="edge"){var i=this.getData();var a=this.getDataParams(t,r);var n=i.graph.getEdgeByIndex(t);var o=i.getName(n.node1.dataIndex);var s=i.getName(n.node2.dataIndex);var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return Vy("nameValue",{name:l.join(" > "),value:a.value,noValue:a.value==null})}var u=tm({series:this,dataIndex:t,multipleSeries:e});return u};e.prototype._updateCategoriesData=function(){var t=Z(this.option.categories||[],(function(t){return t.value!=null?t:F({value:0},t)}));var e=new Vb(["value"],this);e.initData(t);this._categoriesData=e;this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};e.type="series.graph";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(nm);var dE={type:"graphRoam",event:"graphRoam",update:"none"};function pE(t){t.registerChartView(oE);t.registerSeriesModel(vE);t.registerProcessor(iR);t.registerVisual(aR);t.registerVisual(oR);t.registerLayout(xR);t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,CR);t.registerLayout(LR);t.registerCoordinateSystem("graphView",{dimensions:bP.dimensions,create:OR});t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ot);t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ot);t.registerAction(dE,(function(t,e,r){e.eachComponent({mainType:"series",query:t},(function(e){var i=e.coordinateSystem;var a=NP(i,t,undefined,r);e.setCenter&&e.setCenter(a.center);e.setZoom&&e.setZoom(a.zoom)}))}))}var gE=function(){function t(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return t}();var yE=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="pointer";return r}e.prototype.getDefaultShape=function(){return new gE};e.prototype.buildPath=function(t,e){var r=Math.cos;var i=Math.sin;var a=e.r;var n=e.width;var o=e.angle;var s=e.x-r(o)*n*(n>=a/3?1:2);var l=e.y-i(o)*n*(n>=a/3?1:2);o=e.angle-Math.PI/2;t.moveTo(s,l);t.lineTo(e.x+r(o)*n,e.y+i(o)*n);t.lineTo(e.x+r(e.angle)*a,e.y+i(e.angle)*a);t.lineTo(e.x-r(o)*n,e.y-i(o)*n);t.lineTo(s,l)};return e}(jl);function mE(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a);var o=Vn(r[0],e.getWidth());var s=Vn(r[1],e.getHeight());var l=Vn(t.get("radius"),n/2);return{cx:o,cy:s,r:l}}function _E(t,e){var r=t==null?"":t+"";if(e){if(it(e)){r=e.replace("{value}",r)}else if(rt(e)){r=e(t)}}return r}var xE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]);var a=mE(t,r);this._renderMain(t,e,r,i,a);this._data=t.getData()};e.prototype.dispose=function(){};e.prototype._renderMain=function(t,e,r,i,a){var n=this.group;var o=t.get("clockwise");var s=-t.get("startAngle")/180*Math.PI;var l=-t.get("endAngle")/180*Math.PI;var u=t.getModel("axisLine");var f=u.get("roundCap");var h=f?bC:Ph;var c=u.get("show");var v=u.getModel("lineStyle");var d=v.get("width");var p=[s,l];bl(p,!o);s=p[0];l=p[1];var g=l-s;var y=s;var m=[];for(var _=0;c&&_<i.length;_++){var x=Math.min(Math.max(i[_][0],0),1);l=s+g*x;var w=new h({shape:{startAngle:y,endAngle:l,cx:a.cx,cy:a.cy,clockwise:o,r0:a.r-d,r:a.r},silent:true});w.setStyle({fill:i[_][1]});w.setStyle(v.getLineStyle(["color","width"]));m.push(w);y=l}m.reverse();X(m,(function(t){return n.add(t)}));var b=function(t){if(t<=0){return i[0][1]}var e;for(e=0;e<i.length;e++){if(i[e][0]>=t&&(e===0?0:i[e-1][0])<t){return i[e][1]}}return i[e-1][1]};this._renderTicks(t,e,r,b,a,s,l,o,d);this._renderTitleAndDetail(t,e,r,b,a);this._renderAnchor(t,a);this._renderPointer(t,e,r,b,a,s,l,o,d)};e.prototype._renderTicks=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=a.cx;var h=a.cy;var c=a.r;var v=+t.get("min");var d=+t.get("max");var p=t.getModel("splitLine");var g=t.getModel("axisTick");var y=t.getModel("axisLabel");var m=t.get("splitNumber");var _=g.get("splitNumber");var x=Vn(p.get("length"),c);var w=Vn(g.get("length"),c);var b=n;var S=(o-n)/m;var M=S/_;var I=p.getModel("lineStyle").getLineStyle();var T=g.getModel("lineStyle").getLineStyle();var D=p.get("distance");var C;var A;for(var k=0;k<=m;k++){C=Math.cos(b);A=Math.sin(b);if(p.get("show")){var L=D?D+l:l;var P=new Hh({shape:{x1:C*(c-L)+f,y1:A*(c-L)+h,x2:C*(c-x-L)+f,y2:A*(c-x-L)+h},style:I,silent:true});if(I.stroke==="auto"){P.setStyle({stroke:i(k/m)})}u.add(P)}if(y.get("show")){var L=y.get("distance")+D;var O=_E(Bn(k/m*(d-v)+v),y.get("formatter"));var N=i(k/m);var R=C*(c-x-L)+f;var E=A*(c-x-L)+h;var z=y.get("rotate");var V=0;if(z==="radial"){V=-b+2*Math.PI;if(V>Math.PI/2){V+=Math.PI}}else if(z==="tangential"){V=-b-Math.PI/2}else if(nt(z)){V=z*Math.PI/180}if(V===0){u.add(new cu({style:rv(y,{text:O,x:R,y:E,verticalAlign:A<-.8?"top":A>.8?"bottom":"middle",align:C<-.4?"left":C>.4?"right":"center"},{inheritColor:N}),silent:true}))}else{u.add(new cu({style:rv(y,{text:O,x:R,y:E,verticalAlign:"middle",align:"center"},{inheritColor:N}),silent:true,originX:R,originY:E,rotation:V}))}}if(g.get("show")&&k!==m){var L=g.get("distance");L=L?L+l:l;for(var B=0;B<=_;B++){C=Math.cos(b);A=Math.sin(b);var F=new Hh({shape:{x1:C*(c-L)+f,y1:A*(c-L)+h,x2:C*(c-w-L)+f,y2:A*(c-w-L)+h},silent:true,style:T});if(T.stroke==="auto"){F.setStyle({stroke:i((k+B/_)/m)})}u.add(F);b+=M}b-=M}else{b+=S}}};e.prototype._renderPointer=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=this._data;var h=this._progressEls;var c=[];var v=t.get(["pointer","show"]);var d=t.getModel("progress");var p=d.get("show");var g=t.getData();var y=g.mapDimension("value");var m=+t.get("min");var _=+t.get("max");var x=[m,_];var w=[n,o];function b(e,r){var i=g.getItemModel(e);var n=i.getModel("pointer");var o=Vn(n.get("width"),a.r);var s=Vn(n.get("length"),a.r);var l=t.get(["pointer","icon"]);var u=n.get("offsetCenter");var f=Vn(u[0],a.r);var h=Vn(u[1],a.r);var c=n.get("keepAspect");var v;if(l){v=O_(l,f-o/2,h-s,o,s,null,c)}else{v=new yE({shape:{angle:-Math.PI/2,width:o,r:s,x:f,y:h}})}v.rotation=-(r+Math.PI/2);v.x=a.cx;v.y=a.cy;return v}function S(t,e){var r=d.get("roundCap");var i=r?bC:Ph;var o=d.get("overlap");var u=o?d.get("width"):l/g.count();var f=o?a.r-u:a.r-(t+1)*u;var h=o?a.r:a.r-t*u;var c=new i({shape:{startAngle:n,endAngle:e,cx:a.cx,cy:a.cy,clockwise:s,r0:f,r:h}});o&&(c.z2=_-g.get(y,t)%_);return c}if(p||v){g.diff(f).add((function(e){var r=g.get(y,e);if(v){var i=b(e,n);hc(i,{rotation:-((isNaN(+r)?w[0]:zn(r,x,w,true))+Math.PI/2)},t);u.add(i);g.setItemGraphicEl(e,i)}if(p){var a=S(e,n);var o=d.get("clip");hc(a,{shape:{endAngle:zn(r,x,w,o)}},t);u.add(a);Du(t.seriesIndex,g.dataType,e,a);c[e]=a}})).update((function(e,r){var i=g.get(y,e);if(v){var a=f.getItemGraphicEl(r);var o=a?a.rotation:n;var s=b(e,o);s.rotation=o;fc(s,{rotation:-((isNaN(+i)?w[0]:zn(i,x,w,true))+Math.PI/2)},t);u.add(s);g.setItemGraphicEl(e,s)}if(p){var l=h[r];var m=l?l.shape.endAngle:n;var _=S(e,m);var M=d.get("clip");fc(_,{shape:{endAngle:zn(i,x,w,M)}},t);u.add(_);Du(t.seriesIndex,g.dataType,e,_);c[e]=_}})).execute();g.each((function(t){var e=g.getItemModel(t);var r=e.getModel("emphasis");var a=r.get("focus");var n=r.get("blurScope");var o=r.get("disabled");if(v){var s=g.getItemGraphicEl(t);var l=g.getItemVisual(t,"style");var u=l.fill;if(s instanceof tu){var f=s.style;s.useStyle(F({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},l))}else{s.useStyle(l);s.type!=="pointer"&&s.setColor(u)}s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle());if(s.style.fill==="auto"){s.setStyle("fill",i(zn(g.get(y,t),x,[0,1],true)))}s.z2EmphasisLift=0;Rf(s,e);Lf(s,a,n,o)}if(p){var h=c[t];h.useStyle(g.getItemVisual(t,"style"));h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle());h.z2EmphasisLift=0;Rf(h,e);Lf(h,a,n,o)}}));this._progressEls=c}};e.prototype._renderAnchor=function(t,e){var r=t.getModel("anchor");var i=r.get("show");if(i){var a=r.get("size");var n=r.get("icon");var o=r.get("offsetCenter");var s=r.get("keepAspect");var l=O_(n,e.cx-a/2+Vn(o[0],e.r),e.cy-a/2+Vn(o[1],e.r),a,a,null,s);l.z2=r.get("showAbove")?1:0;l.setStyle(r.getModel("itemStyle").getItemStyle());this.group.add(l)}};e.prototype._renderTitleAndDetail=function(t,e,r,i,a){var n=this;var o=t.getData();var s=o.mapDimension("value");var l=+t.get("min");var u=+t.get("max");var f=new Tn;var h=[];var c=[];var v=t.isAnimationEnabled();var d=t.get(["pointer","showAbove"]);o.diff(this._data).add((function(t){h[t]=new cu({silent:true});c[t]=new cu({silent:true})})).update((function(t,e){h[t]=n._titleEls[e];c[t]=n._detailEls[e]})).execute();o.each((function(e){var r=o.getItemModel(e);var n=o.get(s,e);var p=new Tn;var g=i(zn(n,[l,u],[0,1],true));var y=r.getModel("title");if(y.get("show")){var m=y.get("offsetCenter");var _=a.cx+Vn(m[0],a.r);var x=a.cy+Vn(m[1],a.r);var w=h[e];w.attr({z2:d?0:2,style:rv(y,{x:_,y:x,text:o.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:g})});p.add(w)}var b=r.getModel("detail");if(b.get("show")){var S=b.get("offsetCenter");var M=a.cx+Vn(S[0],a.r);var I=a.cy+Vn(S[1],a.r);var T=Vn(b.get("width"),a.r);var D=Vn(b.get("height"),a.r);var C=t.get(["progress","show"])?o.getItemVisual(e,"style").fill:g;var w=c[e];var A=b.get("formatter");w.attr({z2:d?0:2,style:rv(b,{x:M,y:I,text:_E(n,A),width:isNaN(T)?null:T,height:isNaN(D)?null:D,align:"center",verticalAlign:"middle"},{inheritColor:C})});cv(w,{normal:b},n,(function(t){return _E(t,A)}));v&&vv(w,e,o,t,{getFormattedLabel:function(t,e,r,i,a,o){return _E(o?o.interpolatedValue:n,A)}});p.add(w)}f.add(p)}));this.group.add(f);this._titleEls=h;this._detailEls=c};e.type="gauge";return e}(mm);var wE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="itemStyle";return r}e.prototype.getInitialData=function(t,e){return vA(this,["value"])};e.type="series.gauge";e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:true,showAbove:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return e}(nm);function bE(t){t.registerChartView(xE);t.registerSeriesModel(wE)}var SE=["itemStyle","opacity"];var ME=function(t){u(e,t);function e(e,r){var i=t.call(this)||this;var a=i;var n=new Fh;var o=new cu;a.setTextContent(o);i.setTextGuideLine(n);i.updateData(e,r,true);return i}e.prototype.updateData=function(t,e,r){var i=this;var a=t.hostModel;var n=t.getItemModel(e);var o=t.getItemLayout(e);var s=n.getModel("emphasis");var l=n.get(SE);l=l==null?1:l;if(!r){gc(i)}i.useStyle(t.getItemVisual(e,"style"));i.style.lineJoin="round";if(r){i.setShape({points:o.points});i.style.opacity=0;hc(i,{style:{opacity:l}},a,e)}else{fc(i,{style:{opacity:l},shape:{points:o.points}},a,e)}Rf(i,n);this._updateLabel(t,e);Lf(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t,e){var r=this;var i=this.getTextGuideLine();var a=r.getTextContent();var n=t.hostModel;var o=t.getItemModel(e);var s=t.getItemLayout(e);var l=s.label;var u=t.getItemVisual(e,"style");var f=u.fill;tv(a,ev(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:u.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}});r.setTextConfig({local:true,inside:!!l.inside,insideStroke:f,outsideFill:f});var h=l.linePoints;i.setShape({points:h});r.textGuideLineConfig={anchor:h?new He(h[0][0],h[0][1]):null};fc(a,{style:{x:l.x,y:l.y}},n,e);a.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10});MI(r,II(o),{stroke:f})};return e}(Vh);var IE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreLabelLineUpdate=true;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._data;var n=this.group;i.diff(a).add((function(t){var e=new ME(i,t);i.setItemGraphicEl(t,e);n.add(e)})).update((function(t,e){var r=a.getItemGraphicEl(e);r.updateData(i,t);n.add(r);i.setItemGraphicEl(t,r)})).remove((function(e){var r=a.getItemGraphicEl(e);pc(r,t,e)})).execute();this._data=i};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.prototype.dispose=function(){};e.type="funnel";return e}(mm);var TE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new dA(Q(this.getData,this),Q(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.getInitialData=function(t,e){return vA(this,{coordDimensions:["value"],encodeDefaulter:tt(hp,this)})};e.prototype._defaultLabelLine=function(t){mo(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.prototype.getDataParams=function(e){var r=this.getData();var i=t.prototype.getDataParams.call(this,e);var a=r.mapDimension("value");var n=r.getSum(a);i.percent=!n?0:+(r.get(a,e)/n*100).toFixed(2);i.$vars.push("percent");return i};e.type="series.funnel";e.defaultOption={z:2,legendHoverLink:true,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(nm);function DE(t,e){return Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function CE(t,e){var r=t.mapDimension("value");var i=t.mapArray(r,(function(t){return t}));var a=[];var n=e==="ascending";for(var o=0,s=t.count();o<s;o++){a[o]=o}if(rt(e)){a.sort(e)}else if(e!=="none"){a.sort((function(t,e){return n?i[t]-i[e]:i[e]-i[t]}))}return a}function AE(t){var e=t.hostModel;var r=e.get("orient");t.each((function(e){var i=t.getItemModel(e);var a=i.getModel("label");var n=a.get("position");var o=i.getModel("labelLine");var s=t.getItemLayout(e);var l=s.points;var u=n==="inner"||n==="inside"||n==="center"||n==="insideLeft"||n==="insideRight";var f;var h;var c;var v;if(u){if(n==="insideLeft"){h=(l[0][0]+l[3][0])/2+5;c=(l[0][1]+l[3][1])/2;f="left"}else if(n==="insideRight"){h=(l[1][0]+l[2][0])/2-5;c=(l[1][1]+l[2][1])/2;f="right"}else{h=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4;c=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4;f="center"}v=[[h,c],[h,c]]}else{var d=void 0;var p=void 0;var g=void 0;var y=void 0;var m=o.get("length");if(n==="left"){d=(l[3][0]+l[0][0])/2;p=(l[3][1]+l[0][1])/2;g=d-m;h=g-5;f="right"}else if(n==="right"){d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;g=d+m;h=g+5;f="left"}else if(n==="top"){d=(l[3][0]+l[0][0])/2;p=(l[3][1]+l[0][1])/2;y=p-m;c=y-5;f="center"}else if(n==="bottom"){d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;y=p+m;c=y+5;f="center"}else if(n==="rightTop"){d=r==="horizontal"?l[3][0]:l[1][0];p=r==="horizontal"?l[3][1]:l[1][1];if(r==="horizontal"){y=p-m;c=y-5;f="center"}else{g=d+m;h=g+5;f="top"}}else if(n==="rightBottom"){d=l[2][0];p=l[2][1];if(r==="horizontal"){y=p+m;c=y+5;f="center"}else{g=d+m;h=g+5;f="bottom"}}else if(n==="leftTop"){d=l[0][0];p=r==="horizontal"?l[0][1]:l[1][1];if(r==="horizontal"){y=p-m;c=y-5;f="center"}else{g=d-m;h=g-5;f="right"}}else if(n==="leftBottom"){d=r==="horizontal"?l[1][0]:l[3][0];p=r==="horizontal"?l[1][1]:l[2][1];if(r==="horizontal"){y=p+m;c=y+5;f="center"}else{g=d-m;h=g-5;f="right"}}else{d=(l[1][0]+l[2][0])/2;p=(l[1][1]+l[2][1])/2;if(r==="horizontal"){y=p+m;c=y+5;f="center"}else{g=d+m;h=g+5;f="left"}}if(r==="horizontal"){g=d;h=g}else{y=p;c=y}v=[[d,p],[g,y]]}s.label={linePoints:v,x:h,y:c,verticalAlign:"middle",textAlign:f,inside:u}}))}function kE(t,e){t.eachSeriesByType("funnel",(function(t){var r=t.getData();var i=r.mapDimension("value");var a=t.get("sort");var n=DE(t,e);var o=t.get("orient");var s=n.width;var l=n.height;var u=CE(r,a);var f=n.x;var h=n.y;var c=o==="horizontal"?[Vn(t.get("minSize"),l),Vn(t.get("maxSize"),l)]:[Vn(t.get("minSize"),s),Vn(t.get("maxSize"),s)];var v=r.getDataExtent(i);var d=t.get("min");var p=t.get("max");if(d==null){d=Math.min(v[0],0)}if(p==null){p=v[1]}var g=t.get("funnelAlign");var y=t.get("gap");var m=o==="horizontal"?s:l;var _=(m-y*(r.count()-1))/r.count();var x=function(t,e){if(o==="horizontal"){var a=r.get(i,t)||0;var n=zn(a,[d,p],c,true);var u=void 0;switch(g){case"top":u=h;break;case"center":u=h+(l-n)/2;break;case"bottom":u=h+(l-n);break}return[[e,u],[e,u+n]]}var v=r.get(i,t)||0;var y=zn(v,[d,p],c,true);var m;switch(g){case"left":m=f;break;case"center":m=f+(s-y)/2;break;case"right":m=f+s-y;break}return[[m,e],[m+y,e]]};if(a==="ascending"){_=-_;y=-y;if(o==="horizontal"){f+=s}else{h+=l}u=u.reverse()}for(var w=0;w<u.length;w++){var b=u[w];var S=u[w+1];var M=r.getItemModel(b);if(o==="horizontal"){var I=M.get(["itemStyle","width"]);if(I==null){I=_}else{I=Vn(I,s);if(a==="ascending"){I=-I}}var T=x(b,f);var D=x(S,f+I);f+=I+y;r.setItemLayout(b,{points:T.concat(D.slice().reverse())})}else{var C=M.get(["itemStyle","height"]);if(C==null){C=_}else{C=Vn(C,l);if(a==="ascending"){C=-C}}var T=x(b,h);var D=x(S,h+C);h+=C+y;r.setItemLayout(b,{points:T.concat(D.slice().reverse())})}}AE(r)}))}function LE(t){t.registerChartView(IE);t.registerSeriesModel(TE);t.registerLayout(kE);t.registerProcessor(iA("funnel"))}var PE=.3;var OE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._dataGroup=new Tn;r._initialized=false;return r}e.prototype.init=function(){this.group.add(this._dataGroup)};e.prototype.render=function(t,e,r,i){this._progressiveEls=null;var a=this._dataGroup;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.dimensions;var u=zE(t);n.diff(o).add(f).update(h).remove(c).execute();function f(t){var e=EE(n,a,t,l,s);VE(e,n,t,u)}function h(e,r){var i=o.getItemGraphicEl(r);var a=RE(n,e,l,s);n.setItemGraphicEl(e,i);fc(i,{shape:{points:a}},t,e);gc(i);VE(i,n,e,u)}function c(t){var e=o.getItemGraphicEl(t);a.remove(e)}if(!this._initialized){this._initialized=true;var v=NE(s,t,(function(){setTimeout((function(){a.removeClipPath()}))}));a.setClipPath(v)}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this._initialized=true;this._data=null;this._dataGroup.removeAll()};e.prototype.incrementalRender=function(t,e,r){var i=e.getData();var a=e.coordinateSystem;var n=a.dimensions;var o=zE(e);var s=this._progressiveEls=[];for(var l=t.start;l<t.end;l++){var u=EE(i,this._dataGroup,l,n,a);u.incremental=true;VE(u,i,l,o);s.push(u)}};e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};e.type="parallel";return e}(mm);function NE(t,e,r){var i=t.model;var a=t.getRect();var n=new lu({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var o=i.get("layout")==="horizontal"?"width":"height";n.setShape(o,0);hc(n,{shape:{width:a.width,height:a.height}},e,r);return n}function RE(t,e,r,i){var a=[];for(var n=0;n<r.length;n++){var o=r[n];var s=t.get(t.mapDimension(o),e);if(!BE(s,i.getAxis(o).type)){a.push(i.dataToPoint(s,o))}}return a}function EE(t,e,r,i,a){var n=RE(t,r,i,a);var o=new Fh({shape:{points:n},z2:10});e.add(o);t.setItemGraphicEl(r,o);return o}function zE(t){var e=t.get("smooth",true);e===true&&(e=PE);e=ro(e);vt(e)&&(e=0);return{smooth:e}}function VE(t,e,r,i){t.useStyle(e.getItemVisual(r,"style"));t.style.fill=null;t.setShape("smooth",i.smooth);var a=e.getItemModel(r);var n=a.getModel("emphasis");Rf(t,a,"lineStyle");Lf(t,n.get("focus"),n.get("blurScope"),n.get("disabled"))}function BE(t,e){return e==="category"?t==null:t==null||isNaN(t)}var FE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.getInitialData=function(t,e){return Qb(null,this,{useEncodeDefaulter:Q(GE,null,this)})};e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem;var r=this.getData();var i=[];e.eachActiveState(r,(function(e,a){if(t===e){i.push(r.getRawIndex(a))}}));return i};e.type="series.parallel";e.dependencies=["parallel"];e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return e}(nm);function GE(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(!e){return}var r={};X(e.dimensions,(function(t){var e=WE(t);r[t]=e}));return r}function WE(t){return+t.replace("dim","")}var HE=["lineStyle","opacity"];var YE={seriesType:"parallel",reset:function(t,e){var r=t.coordinateSystem;var i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){r.eachActiveState(e,(function(t,r){var a=i[t];if(t==="normal"&&e.hasItemOption){var n=e.getItemModel(r).get(HE,true);n!=null&&(a=n)}var o=e.ensureUniqueItemVisual(r,"style");o.opacity=a}),t.start,t.end)}}}};function UE(t){XE(t);ZE(t)}function XE(t){if(t.parallel){return}var e=false;X(t.series,(function(t){if(t&&t.type==="parallel"){e=true}}));if(e){t.parallel=[{}]}}function ZE(t){var e=yo(t.parallelAxis);X(e,(function(e){if(!ot(e)){return}var r=e.parallelIndex||0;var i=yo(t.parallel)[r];if(i&&i.parallelAxisDefault){V(e,i.parallelAxisDefault,false)}}))}var jE=5;var qE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this._model=t;this._api=r;if(!this._handlers){this._handlers={};X(KE,(function(t,e){r.getZr().on(e,this._handlers[e]=Q(t,this))}),this)}Cm(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")};e.prototype.dispose=function(t,e){Am(this,"_throttledDispatchExpand");X(this._handlers,(function(t,r){e.getZr().off(r,t)}));this._handlers=null};e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)};e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(F({type:"parallelAxisExpand"},t))};e.type="parallel";return e}(dm);var KE={mousedown:function(t){if($E(this,"click")){this._mouseDownPoint=[t.offsetX,t.offsetY]}},mouseup:function(t){var e=this._mouseDownPoint;if($E(this,"click")&&e){var r=[t.offsetX,t.offsetY];var i=Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2);if(i>jE){return}var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(this._mouseDownPoint||!$E(this,"mousemove")){return}var e=this._model;var r=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);var i=r.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce"));this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}};function $E(t,e){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===e}var JE=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){t.prototype.init.apply(this,arguments);this.mergeOption({})};e.prototype.mergeOption=function(t){var e=this.option;t&&V(e,t,true);this._initDimensions()};e.prototype.contains=function(t,e){var r=t.get("parallelIndex");return r!=null&&e.getComponent("parallel",r)===this};e.prototype.setAxisExpand=function(t){X(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){if(t.hasOwnProperty(e)){this.option[e]=t[e]}}),this)};e.prototype._initDimensions=function(){var t=this.dimensions=[];var e=this.parallelAxisIndex=[];var r=q(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);X(r,(function(r){t.push("dim"+r.get("dim"));e.push(r.componentIndex)}))};e.type="parallel";e.dependencies=["parallelAxis"];e.layoutMode="box";e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return e}(Zd);var QE=function(t){u(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.axisIndex=n;return o}e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return e}(QM);function tz(t,e,r,i,a,n){t=t||0;var o=r[1]-r[0];if(a!=null){a=rz(a,[0,o])}if(n!=null){n=Math.max(n,a!=null?a:0)}if(i==="all"){var s=Math.abs(e[1]-e[0]);s=rz(s,[0,o]);a=n=rz(s,[a,n]);i=0}e[0]=rz(e[0],r);e[1]=rz(e[1],r);var l=ez(e,i);e[i]+=t;var u=a||0;var f=r.slice();l.sign<0?f[0]+=u:f[1]-=u;e[i]=rz(e[i],f);var h;h=ez(e,i);if(a!=null&&(h.sign!==l.sign||h.span<a)){e[1-i]=e[i]+l.sign*a}h=ez(e,i);if(n!=null&&h.span>n){e[1-i]=e[i]+h.sign*n}return e}function ez(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function rz(t,e){return Math.min(e[1]!=null?e[1]:Infinity,Math.max(e[0]!=null?e[0]:-Infinity,t))}var iz=X;var az=Math.min;var nz=Math.max;var oz=Math.floor;var sz=Math.ceil;var lz=Bn;var uz=Math.PI;var fz=function(){function t(t,e,r){this.type="parallel";this._axesMap=Ct();this._axesLayout={};this.dimensions=t.dimensions;this._model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=t.dimensions;var a=t.parallelAxisIndex;iz(i,(function(t,r){var i=a[r];var n=e.getComponent("parallelAxis",i);var o=this._axesMap.set(t,new QE(t,fM(n),[0,0],n.get("type"),i));var s=o.type==="category";o.onBand=s&&n.get("boundaryGap");o.inverse=n.get("inverse");n.axis=o;o.model=n;o.coordinateSystem=n.coordinateSystem=this}),this)};t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)};t.prototype.containPoint=function(t){var e=this._makeLayoutInfo();var r=e.axisBase;var i=e.layoutBase;var a=e.pixelDimIndex;var n=t[1-a];var o=t[a];return n>=r&&n<=r+e.axisLength&&o>=i&&o<=i+e.layoutLength};t.prototype.getModel=function(){return this._model};t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(r){if(!t.contains(r,e)){return}var i=r.getData();iz(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t));uM(e.scale,e.model)}),this)}),this)};t.prototype.resize=function(t,e){this._rect=Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._layoutAxes()};t.prototype.getRect=function(){return this._rect};t.prototype._makeLayoutInfo=function(){var t=this._model;var e=this._rect;var r=["x","y"];var i=["width","height"];var a=t.get("layout");var n=a==="horizontal"?0:1;var o=e[i[n]];var s=[0,o];var l=this.dimensions.length;var u=hz(t.get("axisExpandWidth"),s);var f=hz(t.get("axisExpandCount")||0,[0,l]);var h=t.get("axisExpandable")&&l>3&&l>f&&f>1&&u>0&&o>0;var c=t.get("axisExpandWindow");var v;if(!c){v=hz(u*(f-1),s);var d=t.get("axisExpandCenter")||oz(l/2);c=[u*d-v/2];c[1]=c[0]+v}else{v=hz(c[1]-c[0],s);c[1]=c[0]+v}var p=(o-v)/(l-f);p<3&&(p=0);var g=[oz(lz(c[0]/u,1))+1,sz(lz(c[1]/u,1))-1];var y=p/u*c[0];return{layout:a,pixelDimIndex:n,layoutBase:e[r[n]],layoutLength:o,axisBase:e[r[1-n]],axisLength:e[i[1-n]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:p,axisExpandWindow:c,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:y}};t.prototype._layoutAxes=function(){var t=this._rect;var e=this._axesMap;var r=this.dimensions;var i=this._makeLayoutInfo();var a=i.layout;e.each((function(t){var e=[0,i.axisLength];var r=t.inverse?1:0;t.setExtent(e[r],e[1-r])}));iz(r,(function(e,r){var n=(i.axisExpandable?vz:cz)(r,i);var o={horizontal:{x:n.position,y:i.axisLength},vertical:{x:0,y:n.position}};var s={horizontal:uz/2,vertical:0};var l=[o[a].x+t.x,o[a].y+t.y];var u=s[a];var f=Ne();Be(f,f,u);Ve(f,f,l);this._axesLayout[e]={position:l,rotation:u,transform:f,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)};t.prototype.getAxis=function(t){return this._axesMap.get(t)};t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)};t.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0);i==null&&(i=t.count());var a=this._axesMap;var n=this.dimensions;var o=[];var s=[];X(n,(function(e){o.push(t.mapDimension(e));s.push(a.get(e).model)}));var l=this.hasAxisBrushed();for(var u=r;u<i;u++){var f=void 0;if(!l){f="normal"}else{f="active";var h=t.getValues(o,u);for(var c=0,v=n.length;c<v;c++){var d=s[c].getActiveState(h[c]);if(d==="inactive"){f="inactive";break}}}e(f,u)}};t.prototype.hasAxisBrushed=function(){var t=this.dimensions;var e=this._axesMap;var r=false;for(var i=0,a=t.length;i<a;i++){if(e.get(t[i]).model.getActiveState()!=="normal"){r=true}}return r};t.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return Rc([t,0],r.transform)};t.prototype.getAxisLayout=function(t){return z(this._axesLayout[t])};t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo();var r=e.pixelDimIndex;var i=e.axisExpandWindow.slice();var a=i[1]-i[0];var n=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t)){return{behavior:"none",axisExpandWindow:i}}var o=t[r]-e.layoutBase-e.axisExpandWindow0Pos;var s;var l="slide";var u=e.axisCollapseWidth;var f=this._model.get("axisExpandSlideTriggerArea");var h=f[0]!=null;if(u){if(h&&u&&o<a*f[0]){l="jump";s=o-a*f[2]}else if(h&&u&&o>a*(1-f[0])){l="jump";s=o-a*(1-f[2])}else{(s=o-a*f[1])>=0&&(s=o-a*(1-f[1]))<=0&&(s=0)}s*=e.axisExpandWidth/u;s?tz(s,i,n,"all"):l="none"}else{var c=i[1]-i[0];var v=n[1]*o/c;i=[nz(0,v-c/2)];i[1]=az(n[1],i[0]+c);i[0]=i[1]-c}return{axisExpandWindow:i,behavior:l}};return t}();function hz(t,e){return az(nz(t,e[0]),e[1])}function cz(t,e){var r=e.layoutLength/(e.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:true}}function vz(t,e){var r=e.layoutLength;var i=e.axisExpandWidth;var a=e.axisCount;var n=e.axisCollapseWidth;var o=e.winInnerIndices;var s;var l=n;var u=false;var f;if(t<o[0]){s=t*n;f=n}else if(t<=o[1]){s=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0];l=i;u=true}else{s=r-(a-1-t)*n;f=n}return{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:f}}function dz(t,e){var r=[];t.eachComponent("parallel",(function(i,a){var n=new fz(i,t,e);n.name="parallel_"+a;n.resize(i,e);i.coordinateSystem=n;n.model=i;r.push(n)}));t.eachSeries((function(t){if(t.get("coordinateSystem")==="parallel"){var e=t.getReferringComponents("parallel",Ho).models[0];t.coordinateSystem=e.coordinateSystem}}));return r}var pz={create:dz};var gz=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.activeIntervals=[];return r}e.prototype.getAreaSelectStyle=function(){return hs([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=z(t);if(e){for(var r=e.length-1;r>=0;r--){Fn(e[r])}}};e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length){return"normal"}if(t==null||isNaN(+t)){return"inactive"}if(e.length===1){var r=e[0];if(r[0]<=t&&t<=r[1]){return"active"}}else{for(var i=0,a=e.length;i<a;i++){if(e[i][0]<=t&&t<=e[i][1]){return"active"}}}return"inactive"};return e}(Zd);Y(gz,xM);var yz=true;var mz=Math.min;var _z=Math.max;var xz=Math.pow;var wz=1e4;var bz=6;var Sz=6;var Mz="globalPan";var Iz={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var Tz={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var Dz={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var Cz=0;var Az=function(t){u(e,t);function e(e){var r=t.call(this)||this;r._track=[];r._covers=[];r._handlers={};r._zr=e;r.group=new Tn;r._uid="brushController_"+Cz++;X(sV,(function(t,e){this._handlers[e]=Q(t,this)}),r);return r}e.prototype.enableBrush=function(t){this._brushType&&this._doDisableBrush();t.brushType&&this._doEnableBrush(t);return this};e.prototype._doEnableBrush=function(t){var e=this._zr;if(!this._enableGlobalPan){$k(e,Mz,this._uid)}X(this._handlers,(function(t,r){e.on(r,t)}));this._brushType=t.brushType;this._brushOption=V(z(Dz),t,true)};e.prototype._doDisableBrush=function(){var t=this._zr;Jk(t,Mz,this._uid);X(this._handlers,(function(e,r){t.off(r,e)}));this._brushType=this._brushOption=null};e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};X(t,(function(t){e[t.panelId]=z(t)}))}else{this._panels=null}return this};e.prototype.mount=function(t){t=t||{};this._enableGlobalPan=t.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1});this._transform=e.getLocalTransform();return this};e.prototype.updateCovers=function(t){t=Z(t,(function(t){return V(z(Dz),t,true)}));var e="\0-brush-index-";var r=this._covers;var i=this._covers=[];var a=this;var n=this._creatingCover;new fb(r,t,s,o).add(l).update(l).remove(u).execute();return this;function o(t,r){return(t.id!=null?t.id:e+r)+"-"+t.brushType}function s(t,e){return o(t.__brushOption,e)}function l(e,o){var s=t[e];if(o!=null&&r[o]===n){i[e]=r[o]}else{var l=i[e]=o!=null?(r[o].__brushOption=s,r[o]):Lz(a,kz(a,s));Nz(a,l)}}function u(t){if(r[t]!==n){a.group.remove(r[t])}}};e.prototype.unmount=function(){this.enableBrush(false);Vz(this);this._zr.remove(this.group);return this};e.prototype.dispose=function(){this.unmount();this.off()};return e}(ae);function kz(t,e){var r=fV[e.brushType].createCover(t,e);r.__brushOption=e;Oz(r,e);t.group.add(r);return r}function Lz(t,e){var r=Rz(e);if(r.endCreating){r.endCreating(t,e);Oz(e,e.__brushOption)}return e}function Pz(t,e){var r=e.__brushOption;Rz(e).updateCoverShape(t,e,r.range,r)}function Oz(t,e){var r=e.z;r==null&&(r=wz);t.traverse((function(t){t.z=r;t.z2=r}))}function Nz(t,e){Rz(e).updateCommon(t,e);Pz(t,e)}function Rz(t){return fV[t.__brushOption.brushType]}function Ez(t,e,r){var i=t._panels;if(!i){return yz}var a;var n=t._transform;X(i,(function(t){t.isTargetByCursor(e,r,n)&&(a=t)}));return a}function zz(t,e){var r=t._panels;if(!r){return yz}var i=e.__brushOption.panelId;return i!=null?r[i]:yz}function Vz(t){var e=t._covers;var r=e.length;X(e,(function(e){t.group.remove(e)}),t);e.length=0;return!!r}function Bz(t,e){var r=Z(t._covers,(function(t){var e=t.__brushOption;var r=z(e.range);return{brushType:e.brushType,panelId:e.panelId,range:r}}));t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Fz(t){var e=t._track;if(!e.length){return false}var r=e[e.length-1];var i=e[0];var a=r[0]-i[0];var n=r[1]-i[1];var o=xz(a*a+n*n,.5);return o>bz}function Gz(t){var e=t.length-1;e<0&&(e=0);return[t[0],t[e]]}function Wz(t,e,r,i){var a=new Tn;a.add(new lu({name:"main",style:Xz(r),silent:true,draggable:true,cursor:"move",drift:tt($z,t,e,a,["n","s","w","e"]),ondragend:tt(Bz,e,{isEnd:true})}));X(i,(function(r){a.add(new lu({name:r.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:tt($z,t,e,a,r),ondragend:tt(Bz,e,{isEnd:true})}))}));return a}function Hz(t,e,r,i){var a=i.brushStyle.lineWidth||0;var n=_z(a,Sz);var o=r[0][0];var s=r[1][0];var l=o-a/2;var u=s-a/2;var f=r[0][1];var h=r[1][1];var c=f-n+a/2;var v=h-n+a/2;var d=f-o;var p=h-s;var g=d+a;var y=p+a;Uz(t,e,"main",o,s,d,p);if(i.transformable){Uz(t,e,"w",l,u,n,y);Uz(t,e,"e",c,u,n,y);Uz(t,e,"n",l,u,g,n);Uz(t,e,"s",l,v,g,n);Uz(t,e,"nw",l,u,n,n);Uz(t,e,"ne",c,u,n,n);Uz(t,e,"sw",l,v,n,n);Uz(t,e,"se",c,v,n,n)}}function Yz(t,e){var r=e.__brushOption;var i=r.transformable;var a=e.childAt(0);a.useStyle(Xz(r));a.attr({silent:!i,cursor:i?"move":"default"});X([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(r){var a=e.childOfName(r.join(""));var n=r.length===1?qz(t,r[0]):Kz(t,r);a&&a.attr({silent:!i,invisible:!i,cursor:i?Tz[n]+"-resize":null})}))}function Uz(t,e,r,i,a,n,o){var s=e.childOfName(r);s&&s.setShape(eV(tV(t,e,[[i,a],[i+n,a+o]])))}function Xz(t){return G({strokeNoScale:true},t.brushStyle)}function Zz(t,e,r,i){var a=[mz(t,r),mz(e,i)];var n=[_z(t,r),_z(e,i)];return[[a[0],n[0]],[a[1],n[1]]]}function jz(t){return Nc(t.group)}function qz(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"};var i={left:"w",right:"e",top:"n",bottom:"s"};var a=Ec(r[e],jz(t));return i[a]}function Kz(t,e){var r=[qz(t,e[0]),qz(t,e[1])];(r[0]==="e"||r[0]==="w")&&r.reverse();return r.join("")}function $z(t,e,r,i,a,n){var o=r.__brushOption;var s=t.toRectRange(o.range);var l=Qz(e,a,n);X(i,(function(t){var e=Iz[t];s[e[0]][e[1]]+=l[e[0]]}));o.range=t.fromRectRange(Zz(s[0][0],s[1][0],s[0][1],s[1][1]));Nz(e,r);Bz(e,{isEnd:false})}function Jz(t,e,r,i){var a=e.__brushOption.range;var n=Qz(t,r,i);X(a,(function(t){t[0]+=n[0];t[1]+=n[1]}));Nz(t,e);Bz(t,{isEnd:false})}function Qz(t,e,r){var i=t.group;var a=i.transformCoordToLocal(e,r);var n=i.transformCoordToLocal(0,0);return[a[0]-n[0],a[1]-n[1]]}function tV(t,e,r){var i=zz(t,e);return i&&i!==yz?i.clipPath(r,t._transform):z(r)}function eV(t){var e=mz(t[0][0],t[1][0]);var r=mz(t[0][1],t[1][1]);var i=_z(t[0][0],t[1][0]);var a=_z(t[0][1],t[1][1]);return{x:e,y:r,width:i-e,height:a-r}}function rV(t,e,r){if(!t._brushType||uV(t,e.offsetX,e.offsetY)){return}var i=t._zr;var a=t._covers;var n=Ez(t,e,r);if(!t._dragging){for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(n&&(n===yz||s.panelId===n.panelId)&&fV[s.brushType].contain(a[o],r[0],r[1])){return}}}n&&i.setCursorStyle("crosshair")}function iV(t){var e=t.event;e.preventDefault&&e.preventDefault()}function aV(t,e,r){return t.childOfName("main").contain(e,r)}function nV(t,e,r,i){var a=t._creatingCover;var n=t._creatingPanel;var o=t._brushOption;var s;t._track.push(r.slice());if(Fz(t)||a){if(n&&!a){o.brushMode==="single"&&Vz(t);var l=z(o);l.brushType=oV(l.brushType,n);l.panelId=n===yz?null:n.panelId;a=t._creatingCover=kz(t,l);t._covers.push(a)}if(a){var u=fV[oV(t._brushType,n)];var f=a.__brushOption;f.range=u.getCreatingRange(tV(t,a,t._track));if(i){Lz(t,a);u.updateCommon(t,a)}Pz(t,a);s={isEnd:i}}}else if(i&&o.brushMode==="single"&&o.removeOnClick){if(Ez(t,e,r)&&Vz(t)){s={isEnd:i,removeOnClick:true}}}return s}function oV(t,e){if(t==="auto"){return e.defaultBrushType}return t}var sV={mousedown:function(t){if(this._dragging){lV(this,t)}else if(!t.target||!t.target.draggable){iV(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=Ez(this,t,e);if(r){this._dragging=true;this._track=[e.slice()]}}},mousemove:function(t){var e=t.offsetX;var r=t.offsetY;var i=this.group.transformCoordToLocal(e,r);rV(this,t,i);if(this._dragging){iV(t);var a=nV(this,t,i,false);a&&Bz(this,a)}},mouseup:function(t){lV(this,t)}};function lV(t,e){if(t._dragging){iV(e);var r=e.offsetX;var i=e.offsetY;var a=t.group.transformCoordToLocal(r,i);var n=nV(t,e,a,true);t._dragging=false;t._track=[];t._creatingCover=null;n&&Bz(t,n)}}function uV(t,e,r){var i=t._zr;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var fV={lineX:hV(0),lineY:hV(1),rect:{createCover:function(t,e){function r(t){return t}return Wz({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=Gz(t);return Zz(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,i){Hz(t,e,r,i)},updateCommon:Yz,contain:aV},polygon:{createCover:function(t,e){var r=new Tn;r.add(new Fh({name:"main",style:Xz(e),silent:true}));return r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0));e.add(new Vh({name:"main",draggable:true,drift:tt(Jz,t,e),ondragend:tt(Bz,t,{isEnd:true})}))},updateCoverShape:function(t,e,r,i){e.childAt(0).setShape({points:tV(t,e,r)})},updateCommon:Yz,contain:aV}};function hV(t){return{createCover:function(e,r){return Wz({toRectRange:function(e){var r=[e,[0,100]];t&&r.reverse();return r},fromRectRange:function(e){return e[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=Gz(e);var i=mz(r[0][t],r[1][t]);var a=_z(r[0][t],r[1][t]);return[i,a]},updateCoverShape:function(e,r,i,a){var n;var o=zz(e,r);if(o!==yz&&o.getLinearBrushOtherExtent){n=o.getLinearBrushOtherExtent(t)}else{var s=e._zr;n=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,n];t&&l.reverse();Hz(e,r,l,a)},updateCommon:Yz,contain:aV}}function cV(t){t=pV(t);return function(e){return Fc(e,t)}}function vV(t,e){t=pV(t);return function(r){var i=e!=null?e:r;var a=i?t.width:t.height;var n=i?t.x:t.y;return[n,n+(a||0)]}}function dV(t,e,r){var i=pV(t);return function(t,a){return i.contain(a[0],a[1])&&!lL(t,e,r)}}function pV(t){return Je.create(t)}var gV=["axisLine","axisTickLabel","axisName"];var yV=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r){t.prototype.init.apply(this,arguments);(this._brushController=new Az(r.getZr())).on("brush",Q(this._onBrush,this))};e.prototype.render=function(t,e,r,i){if(mV(t,e,i)){return}this.axisModel=t;this.api=r;this.group.removeAll();var a=this._axisGroup;this._axisGroup=new Tn;this.group.add(this._axisGroup);if(!t.get("show")){return}var n=xV(t,e);var o=n.coordinateSystem;var s=t.getAreaSelectStyle();var l=s.width;var u=t.axis.dim;var f=o.getAxisLayout(u);var h=F({strokeContainThreshold:l},f);var c=new JA(t,h);X(gV,c.add,c);this._axisGroup.add(c.getGroup());this._refreshBrushController(h,s,t,n,l,r);Bc(a,this._axisGroup,t)};e.prototype._refreshBrushController=function(t,e,r,i,a,n){var o=r.axis.getExtent();var s=o[1]-o[0];var l=Math.min(30,Math.abs(s)*.1);var u=Je.create({x:o[0],y:-a/2,width:s,height:a});u.x-=l;u.width+=2*l;this._brushController.mount({enableGlobalPan:true,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:cV(u),isTargetByCursor:dV(u,n,i),getLinearBrushOtherExtent:vV(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(_V(r))};e.prototype._onBrush=function(t){var e=t.areas;var r=this.axisModel;var i=r.axis;var a=Z(e,(function(t){return[i.coordToData(t.range[0],true),i.coordToData(t.range[1],true)]}));if(!r.option.realtime===t.isEnd||t.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})}};e.prototype.dispose=function(){this._brushController.dispose()};e.type="parallelAxis";return e}(dm);function mV(t,e,r){return r&&r.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}function _V(t){var e=t.axis;return Z(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],true),e.dataToCoord(t[1],true)]}}))}function xV(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var wV={type:"axisAreaSelect",event:"axisAreaSelected"};function bV(t){t.registerAction(wV,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))}));t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var SV={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function MV(t){t.registerComponentView(qE);t.registerComponentModel(JE);t.registerCoordinateSystem("parallel",pz);t.registerPreprocessor(UE);t.registerComponentModel(gz);t.registerComponentView(yV);NA(t,"parallel",gz,SV);bV(t)}function IV(t){sb(MV);t.registerChartView(OE);t.registerSeriesModel(FE);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,YE)}var TV=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return t}();var DV=function(t){u(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new TV};e.prototype.buildPath=function(t,e){var r=e.extent;t.moveTo(e.x1,e.y1);t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2);if(e.orient==="vertical"){t.lineTo(e.x2+r,e.y2);t.bezierCurveTo(e.cpx2+r,e.cpy2,e.cpx1+r,e.cpy1,e.x1+r,e.y1)}else{t.lineTo(e.x2,e.y2+r);t.bezierCurveTo(e.cpx2,e.cpy2+r,e.cpx1,e.cpy1+r,e.x1,e.y1+r)}t.closePath()};e.prototype.highlight=function(){cf(this)};e.prototype.downplay=function(){vf(this)};return e}(jl);var CV=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._focusAdjacencyDisabled=false;return r}e.prototype.render=function(t,e,r){var i=this;var a=t.getGraph();var n=this.group;var o=t.layoutInfo;var s=o.width;var l=o.height;var u=t.getData();var f=t.getData("edge");var h=t.get("orient");this._model=t;n.removeAll();n.x=o.x;n.y=o.y;a.eachEdge((function(e){var r=new DV;var i=Tu(r);i.dataIndex=e.dataIndex;i.seriesIndex=t.seriesIndex;i.dataType="edge";var a=e.getModel();var o=a.getModel("lineStyle");var u=o.get("curveness");var c=e.node1.getLayout();var v=e.node1.getModel();var d=v.get("localX");var p=v.get("localY");var g=e.node2.getLayout();var y=e.node2.getModel();var m=y.get("localX");var _=y.get("localY");var x=e.getLayout();var w;var b;var S;var M;var I;var T;var D;var C;r.shape.extent=Math.max(1,x.dy);r.shape.orient=h;if(h==="vertical"){w=(d!=null?d*s:c.x)+x.sy;b=(p!=null?p*l:c.y)+c.dy;S=(m!=null?m*s:g.x)+x.ty;M=_!=null?_*l:g.y;I=w;T=b*(1-u)+M*u;D=S;C=b*u+M*(1-u)}else{w=(d!=null?d*s:c.x)+c.dx;b=(p!=null?p*l:c.y)+x.sy;S=m!=null?m*s:g.x;M=(_!=null?_*l:g.y)+x.ty;I=w*(1-u)+S*u;T=b;D=w*u+S*(1-u);C=M}r.setShape({x1:w,y1:b,x2:S,y2:M,cpx1:I,cpy1:T,cpx2:D,cpy2:C});r.useStyle(o.getItemStyle());switch(r.style.fill){case"source":r.style.fill=e.node1.getVisual("color");r.style.decal=e.node1.getVisual("style").decal;break;case"target":r.style.fill=e.node2.getVisual("color");r.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var A=e.node1.getVisual("color");var k=e.node2.getVisual("color");if(it(A)&&it(k)){r.style.fill=new Jh(0,0,+(h==="horizontal"),+(h==="vertical"),[{color:A,offset:0},{color:k,offset:1}])}}tv(r,ev(a,"edgeLabel"),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:""+a.get("value")});r.setTextConfig({position:"inside"});var L=a.getModel("emphasis");Rf(r,a,"lineStyle",(function(t){return t.getItemStyle()}));n.add(r);f.setItemGraphicEl(e.dataIndex,r);var P=L.get("focus");Lf(r,P==="adjacency"?e.getAdjacentDataIndices():P,L.get("blurScope"),L.get("disabled"));Tu(r).dataType="edge"}));a.eachNode((function(e){var r=e.getLayout();var i=e.getModel();var a=i.get("localX");var o=i.get("localY");var f=i.getModel("emphasis");var h=new lu({shape:{x:a!=null?a*s:r.x,y:o!=null?o*l:r.y,width:r.dx,height:r.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});tv(h,ev(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id});h.disableLabelAnimation=true;h.setStyle("fill",e.getVisual("color"));h.setStyle("decal",e.getVisual("style").decal);Rf(h,i);n.add(h);u.setItemGraphicEl(e.dataIndex,h);Tu(h).dataType="node";var c=f.get("focus");Lf(h,c==="adjacency"?e.getAdjacentDataIndices():c,f.get("blurScope"),f.get("disabled"))}));u.eachItemGraphicEl((function(e,a){var n=u.getItemModel(a);if(n.get("draggable")){e.drift=function(e,n){i._focusAdjacencyDisabled=true;this.shape.x+=e;this.shape.y+=n;this.dirty();r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(a),localX:this.shape.x/s,localY:this.shape.y/l})};e.ondragend=function(){i._focusAdjacencyDisabled=false};e.draggable=true;e.cursor="move"}}));if(!this._data&&t.isAnimationEnabled()){n.setClipPath(AV(n.getBoundingRect(),t,(function(){n.removeClipPath()})))}this._data=t.getData()};e.prototype.dispose=function(){};e.type="sankey";return e}(mm);function AV(t,e,r){var i=new lu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});hc(i,{shape:{width:t.width+20}},e,r);return i}var kV=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){var r=t.edges||t.links;var i=t.data||t.nodes;var a=t.levels;this.levelModels=[];var n=this.levelModels;for(var o=0;o<a.length;o++){if(a[o].depth!=null&&a[o].depth>=0){n[a[o].depth]=new Mv(a[o],this,e)}}if(i&&r){var s=cE(i,r,this,true,l);return s.data}function l(t,e){t.wrapMethod("getItemModel",(function(t,e){var r=t.parentModel;var i=r.getData().getItemLayout(e);if(i){var a=i.depth;var n=r.levelModels[a];if(n){t.parentModel=n}}return t}));e.wrapMethod("getItemModel",(function(t,e){var r=t.parentModel;var i=r.getGraph().getEdgeByIndex(e);var a=i.node1.getLayout();if(a){var n=a.depth;var o=r.levelModels[n];if(o){t.parentModel=o}}return t}))}};e.prototype.setNodePosition=function(t,e){var r=this.option.data||this.option.nodes;var i=r[t];i.localX=e[0];i.localY=e[1]};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.formatTooltip=function(t,e,r){function i(t){return isNaN(t)||t==null}if(r==="edge"){var a=this.getDataParams(t,r);var n=a.data;var o=a.value;var s=n.source+" -- "+n.target;return Vy("nameValue",{name:s,value:o,noValue:i(o)})}else{var l=this.getGraph().getNodeByIndex(t);var u=l.getLayout().value;var f=this.getDataParams(t,r).data.name;return Vy("nameValue",{name:f!=null?f+"":null,value:u,noValue:i(u)})}};e.prototype.optionUpdated=function(){};e.prototype.getDataParams=function(e,r){var i=t.prototype.getDataParams.call(this,e,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(e);var n=a.getLayout().value;i.value=n}return i};e.type="series.sankey";e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},edgeLabel:{show:false,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return e}(nm);function LV(t,e){t.eachSeriesByType("sankey",(function(t){var r=t.get("nodeWidth");var i=t.get("nodeGap");var a=PV(t,e);t.layoutInfo=a;var n=a.width;var o=a.height;var s=t.getGraph();var l=s.nodes;var u=s.edges;NV(l);var f=q(l,(function(t){return t.getLayout().value===0}));var h=f.length!==0?0:t.get("layoutIterations");var c=t.get("orient");var v=t.get("nodeAlign");OV(l,u,r,i,n,o,h,c,v)}))}function PV(t,e){return Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function OV(t,e,r,i,a,n,o,s,l){RV(t,e,r,a,n,s,l);FV(t,e,n,a,i,o,s);QV(t,s)}function NV(t){X(t,(function(t){var e=$V(t.outEdges,KV);var r=$V(t.inEdges,KV);var i=t.getValue()||0;var a=Math.max(e,r,i);t.setLayout({value:a},true)}))}function RV(t,e,r,i,a,n,o){var s=[];var l=[];var u=[];var f=[];var h=0;for(var c=0;c<e.length;c++){s[c]=1}for(var c=0;c<t.length;c++){l[c]=t[c].inEdges.length;if(l[c]===0){u.push(t[c])}}var v=-1;while(u.length){for(var d=0;d<u.length;d++){var p=u[d];var g=p.hostGraph.data.getRawDataItem(p.dataIndex);var y=g.depth!=null&&g.depth>=0;if(y&&g.depth>v){v=g.depth}p.setLayout({depth:y?g.depth:h},true);n==="vertical"?p.setLayout({dy:r},true):p.setLayout({dx:r},true);for(var m=0;m<p.outEdges.length;m++){var _=p.outEdges[m];var x=e.indexOf(_);s[x]=0;var w=_.node2;var b=t.indexOf(w);if(--l[b]===0&&f.indexOf(w)<0){f.push(w)}}}++h;u=f;f=[]}for(var c=0;c<s.length;c++){if(s[c]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var S=v>h-1?v:h-1;if(o&&o!=="left"){zV(t,o,n,S)}var M=n==="vertical"?(a-r)/S:(i-r)/S;BV(t,M,n)}function EV(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function zV(t,e,r,i){if(e==="right"){var a=[];var n=t;var o=0;while(n.length){for(var s=0;s<n.length;s++){var l=n[s];l.setLayout({skNodeHeight:o},true);for(var u=0;u<l.inEdges.length;u++){var f=l.inEdges[u];if(a.indexOf(f.node1)<0){a.push(f.node1)}}}n=a;a=[];++o}X(t,(function(t){if(!EV(t)){t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},true)}}))}else if(e==="justify"){VV(t,i)}}function VV(t,e){X(t,(function(t){if(!EV(t)&&!t.outEdges.length){t.setLayout({depth:e},true)}}))}function BV(t,e,r){X(t,(function(t){var i=t.getLayout().depth*e;r==="vertical"?t.setLayout({y:i},true):t.setLayout({x:i},true)}))}function FV(t,e,r,i,a,n,o){var s=GV(t,o);WV(s,e,r,i,a,o);HV(s,a,r,i,o);for(var l=1;n>0;n--){l*=.99;YV(s,l,o);HV(s,a,r,i,o);JV(s,l,o);HV(s,a,r,i,o)}}function GV(t,e){var r=[];var i=e==="vertical"?"y":"x";var a=qo(t,(function(t){return t.getLayout()[i]}));a.keys.sort((function(t,e){return t-e}));X(a.keys,(function(t){r.push(a.buckets.get(t))}));return r}function WV(t,e,r,i,a,n){var o=Infinity;X(t,(function(t){var e=t.length;var s=0;X(t,(function(t){s+=t.getLayout().value}));var l=n==="vertical"?(i-(e-1)*a)/s:(r-(e-1)*a)/s;if(l<o){o=l}}));X(t,(function(t){X(t,(function(t,e){var r=t.getLayout().value*o;if(n==="vertical"){t.setLayout({x:e},true);t.setLayout({dx:r},true)}else{t.setLayout({y:e},true);t.setLayout({dy:r},true)}}))}));X(e,(function(t){var e=+t.getValue()*o;t.setLayout({dy:e},true)}))}function HV(t,e,r,i,a){var n=a==="vertical"?"x":"y";X(t,(function(t){t.sort((function(t,e){return t.getLayout()[n]-e.getLayout()[n]}));var o;var s;var l;var u=0;var f=t.length;var h=a==="vertical"?"dx":"dy";for(var c=0;c<f;c++){s=t[c];l=u-s.getLayout()[n];if(l>0){o=s.getLayout()[n]+l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]+s.getLayout()[h]+e}var v=a==="vertical"?i:r;l=u-e-v;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true);u=o;for(var c=f-2;c>=0;--c){s=t[c];l=s.getLayout()[n]+s.getLayout()[h]+e-u;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]}}}))}function YV(t,e,r){X(t.slice().reverse(),(function(t){X(t,(function(t){if(t.outEdges.length){var i=$V(t.outEdges,UV,r)/$V(t.outEdges,KV);if(isNaN(i)){var a=t.outEdges.length;i=a?$V(t.outEdges,XV,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-qV(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-qV(t,r))*e;t.setLayout({y:o},true)}}}))}))}function UV(t,e){return qV(t.node2,e)*t.getValue()}function XV(t,e){return qV(t.node2,e)}function ZV(t,e){return qV(t.node1,e)*t.getValue()}function jV(t,e){return qV(t.node1,e)}function qV(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function KV(t){return t.getValue()}function $V(t,e,r){var i=0;var a=t.length;var n=-1;while(++n<a){var o=+e(t[n],r);if(!isNaN(o)){i+=o}}return i}function JV(t,e,r){X(t,(function(t){X(t,(function(t){if(t.inEdges.length){var i=$V(t.inEdges,ZV,r)/$V(t.inEdges,KV);if(isNaN(i)){var a=t.inEdges.length;i=a?$V(t.inEdges,jV,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-qV(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-qV(t,r))*e;t.setLayout({y:o},true)}}}))}))}function QV(t,e){var r=e==="vertical"?"x":"y";X(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[r]-e.node2.getLayout()[r]}));t.inEdges.sort((function(t,e){return t.node1.getLayout()[r]-e.node1.getLayout()[r]}))}));X(t,(function(t){var e=0;var r=0;X(t.outEdges,(function(t){t.setLayout({sy:e},true);e+=t.getLayout().dy}));X(t.inEdges,(function(t){t.setLayout({ty:r},true);r+=t.getLayout().dy}))}))}function tB(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph();var r=e.nodes;var i=e.edges;if(r.length){var a=Infinity;var n=-Infinity;X(r,(function(t){var e=t.getLayout().value;if(e<a){a=e}if(e>n){n=e}}));X(r,(function(e){var r=new hN({type:"color",mappingMethod:"linear",dataExtent:[a,n],visual:t.get("color")});var i=r.mapValueToVisual(e.getLayout().value);var o=e.getModel().get(["itemStyle","color"]);if(o!=null){e.setVisual("color",o);e.setVisual("style",{fill:o})}else{e.setVisual("color",i);e.setVisual("style",{fill:i})}}))}if(i.length){X(i,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}}))}function eB(t){t.registerChartView(CV);t.registerSeriesModel(kV);t.registerLayout(LV);t.registerVisual(tB);t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))}var rB=function(){function t(){}t.prototype.getInitialData=function(t,e){var r;var i=e.getComponent("xAxis",this.get("xAxisIndex"));var a=e.getComponent("yAxis",this.get("yAxisIndex"));var n=i.get("type");var o=a.get("type");var s;if(n==="category"){t.layout="horizontal";r=i.getOrdinalMeta();s=true}else if(o==="category"){t.layout="vertical";r=a.getOrdinalMeta();s=true}else{t.layout=t.layout||"horizontal"}var l=["x","y"];var u=t.layout==="horizontal"?0:1;var f=this._baseAxisDim=l[u];var h=l[1-u];var c=[i,a];var v=c[u].get("type");var d=c[1-u].get("type");var p=t.data;if(p&&s){var g=[];X(p,(function(t,e){var r;if(et(t)){r=t.slice();t.unshift(e)}else if(et(t.value)){r=F({},t);r.value=r.value.slice();t.value.unshift(e)}else{r=t}g.push(r)}));t.data=g}var y=this.defaultValueDimensions;var m=[{name:f,type:db(v),ordinalMeta:r,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:h,type:db(d),dimsDef:y.slice()}];return vA(this,{coordDimensions:m,dimensionsCount:y.length+1,encodeDefaulter:tt(fp,m,this)})};t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis};return t}();var iB=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];r.visualDrawType="stroke";return r}e.type="series.boxplot";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return e}(nm);Y(iB,rB,true);var aB=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this.group;var n=this._data;if(!this._data){a.removeAll()}var o=t.get("layout")==="horizontal"?1:0;i.diff(n).add((function(t){if(i.hasValue(t)){var e=i.getItemLayout(t);var r=sB(e,i,t,o,true);i.setItemGraphicEl(t,r);a.add(r)}})).update((function(t,e){var r=n.getItemGraphicEl(e);if(!i.hasValue(t)){a.remove(r);return}var s=i.getItemLayout(t);if(!r){r=sB(s,i,t,o)}else{gc(r);lB(s,r,i,t)}a.add(r);i.setItemGraphicEl(t,r)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&a.remove(e)})).execute();this._data=i};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._data=null;r&&r.eachItemGraphicEl((function(t){t&&e.remove(t)}))};e.type="boxplot";return e}(mm);var nB=function(){function t(){}return t}();var oB=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="boxplotBoxPath";return r}e.prototype.getDefaultShape=function(){return new nB};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;t.moveTo(r[i][0],r[i][1]);i++;for(;i<4;i++){t.lineTo(r[i][0],r[i][1])}t.closePath();for(;i<r.length;i++){t.moveTo(r[i][0],r[i][1]);i++;t.lineTo(r[i][0],r[i][1])}};return e}(jl);function sB(t,e,r,i,a){var n=t.ends;var o=new oB({shape:{points:a?uB(n,i,t):n}});lB(t,o,e,r,a);return o}function lB(t,e,r,i,a){var n=r.hostModel;var o=Kc[a?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},n,i);e.useStyle(r.getItemVisual(i,"style"));e.style.strokeNoScale=true;e.z2=100;var s=r.getItemModel(i);var l=s.getModel("emphasis");Rf(e,s);Lf(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function uB(t,e,r){return Z(t,(function(t){t=t.slice();t[e]=r.initBaseline;return t}))}var fB=X;function hB(t){var e=cB(t);fB(e,(function(t){var e=t.seriesModels;if(!e.length){return}vB(t);fB(e,(function(e,r){dB(e,t.boxOffsetList[r],t.boxWidthList[r])}))}))}function cB(t){var e=[];var r=[];t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis();var a=W(r,i);if(a<0){a=r.length;r[a]=i;e[a]={axis:i,seriesModels:[]}}e[a].seriesModels.push(t)}));return e}function vB(t){var e=t.axis;var r=t.seriesModels;var i=r.length;var a=t.boxWidthList=[];var n=t.boxOffsetList=[];var o=[];var s;if(e.type==="category"){s=e.getBandWidth()}else{var l=0;fB(r,(function(t){l=Math.max(l,t.getData().count())}));var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}fB(r,(function(t){var e=t.get("boxWidth");if(!et(e)){e=[e,e]}o.push([Vn(e[0],s)||0,Vn(e[1],s)||0])}));var f=s*.8-2;var h=f/i*.3;var c=(f-h*(i-1))/i;var v=c/2-f/2;fB(r,(function(t,e){n.push(v);v+=h+c;a.push(Math.min(Math.max(c,o[e][0]),o[e][1]))}))}function dB(t,e,r){var i=t.coordinateSystem;var a=t.getData();var n=r/2;var o=t.get("layout")==="horizontal"?0:1;var s=1-o;var l=["x","y"];var u=a.mapDimension(l[o]);var f=a.mapDimensionsAll(l[s]);if(u==null||f.length<5){return}for(var h=0;h<a.count();h++){var c=a.get(u,h);var v=_(c,f[2],h);var d=_(c,f[0],h);var p=_(c,f[1],h);var g=_(c,f[3],h);var y=_(c,f[4],h);var m=[];x(m,p,false);x(m,g,true);m.push(d,p,y,g);w(m,d);w(m,y);w(m,v);a.setItemLayout(h,{initBaseline:v[s],ends:m})}function _(t,r,n){var l=a.get(r,n);var u=[];u[o]=t;u[s]=l;var f;if(isNaN(t)||isNaN(l)){f=[NaN,NaN]}else{f=i.dataToPoint(u);f[o]+=e}return f}function x(t,e,r){var i=e.slice();var a=e.slice();i[o]+=n;a[o]-=n;r?t.push(i,a):t.push(a,i)}function w(t,e){var r=e.slice();var i=e.slice();r[o]-=n;i[o]+=n;t.push(r,i)}}function pB(t,e){e=e||{};var r=[];var i=[];var a=e.boundIQR;var n=a==="none"||a===0;for(var o=0;o<t.length;o++){var s=Fn(t[o].slice());var l=to(s,.25);var u=to(s,.5);var f=to(s,.75);var h=s[0];var c=s[s.length-1];var v=(a==null?1.5:a)*(f-l);var d=n?h:Math.max(h,l-v);var p=n?c:Math.min(c,f+v);var g=e.itemNameFormatter;var y=rt(g)?g({value:o}):it(g)?g.replace("{value}",o+""):o+"";r.push([y,d,l,u,f,p]);for(var m=0;m<s.length;m++){var _=s[m];if(_<d||_>p){var x=[y,_];i.push(x)}}}return{boxData:r,outliers:i}}var gB={type:"echarts:boxplot",transform:function t(e){var r=e.upstream;if(r.sourceFormat!==tp){var i="";co(i)}var a=pB(r.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function yB(t){t.registerSeriesModel(iB);t.registerChartView(aB);t.registerLayout(hB);t.registerTransform(gB)}var mB=["color","borderColor"];var _B=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeClipPath();this._progressiveEls=null;this._updateDrawMode(t);this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)};e.prototype.incrementalPrepareRender=function(t,e,r){this._clear();this._updateDrawMode(t)};e.prototype.incrementalRender=function(t,e,r,i){this._progressiveEls=[];this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)};e.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t){var e=t.getData();var r=this._data;var i=this.group;var a=e.getLayout("isSimpleBox");var n=t.get("clip",true);var o=t.coordinateSystem;var s=o.getArea&&o.getArea();if(!this._data){i.removeAll()}e.diff(r).add((function(r){if(e.hasValue(r)){var o=e.getItemLayout(r);if(n&&SB(s,o)){return}var l=bB(o,r,true);hc(l,{shape:{points:o.ends}},t,r);MB(l,e,r,a);i.add(l);e.setItemGraphicEl(r,l)}})).update((function(o,l){var u=r.getItemGraphicEl(l);if(!e.hasValue(o)){i.remove(u);return}var f=e.getItemLayout(o);if(n&&SB(s,f)){i.remove(u);return}if(!u){u=bB(f)}else{fc(u,{shape:{points:f.ends}},t,o);gc(u)}MB(u,e,o,a);i.add(u);e.setItemGraphicEl(o,u)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&i.remove(e)})).execute();this._data=e};e.prototype._renderLarge=function(t){this._clear();CB(t,this.group);var e=t.get("clip",true)?jD(t.coordinateSystem,false,t):null;if(e){this.group.setClipPath(e)}else{this.group.removeClipPath()}};e.prototype._incrementalRenderNormal=function(t,e){var r=e.getData();var i=r.getLayout("isSimpleBox");var a;while((a=t.next())!=null){var n=r.getItemLayout(a);var o=bB(n);MB(o,r,a,i);o.incremental=true;this.group.add(o);this._progressiveEls.push(o)}};e.prototype._incrementalRenderLarge=function(t,e){CB(e,this.group,this._progressiveEls,true)};e.prototype.remove=function(t){this._clear()};e.prototype._clear=function(){this.group.removeAll();this._data=null};e.type="candlestick";return e}(mm);var xB=function(){function t(){}return t}();var wB=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="normalCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new xB};e.prototype.buildPath=function(t,e){var r=e.points;if(this.__simpleBox){t.moveTo(r[4][0],r[4][1]);t.lineTo(r[6][0],r[6][1])}else{t.moveTo(r[0][0],r[0][1]);t.lineTo(r[1][0],r[1][1]);t.lineTo(r[2][0],r[2][1]);t.lineTo(r[3][0],r[3][1]);t.closePath();t.moveTo(r[4][0],r[4][1]);t.lineTo(r[5][0],r[5][1]);t.moveTo(r[6][0],r[6][1]);t.lineTo(r[7][0],r[7][1])}};return e}(jl);function bB(t,e,r){var i=t.ends;return new wB({shape:{points:r?IB(i,t):i},z2:100})}function SB(t,e){var r=true;for(var i=0;i<e.ends.length;i++){if(t.contain(e.ends[i][0],e.ends[i][1])){r=false;break}}return r}function MB(t,e,r,i){var a=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style"));t.style.strokeNoScale=true;t.__simpleBox=i;Rf(t,a)}function IB(t,e){return Z(t,(function(t){t=t.slice();t[1]=e.initBaseline;return t}))}var TB=function(){function t(){}return t}();var DB=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new TB};e.prototype.buildPath=function(t,e){var r=e.points;for(var i=0;i<r.length;){if(this.__sign===r[i++]){var a=r[i++];t.moveTo(a,r[i++]);t.lineTo(a,r[i++])}else{i+=3}}};return e}(jl);function CB(t,e,r,i){var a=t.getData();var n=a.getLayout("largePoints");var o=new DB({shape:{points:n},__sign:1,ignoreCoarsePointer:true});e.add(o);var s=new DB({shape:{points:n},__sign:-1,ignoreCoarsePointer:true});e.add(s);var l=new DB({shape:{points:n},__sign:0,ignoreCoarsePointer:true});e.add(l);AB(1,o,t);AB(-1,s,t);AB(0,l,t);if(i){o.incremental=true;s.incremental=true}if(r){r.push(o,s)}}function AB(t,e,r,i){var a=r.get(["itemStyle",t>0?"borderColor":"borderColor0"])||r.get(["itemStyle",t>0?"color":"color0"]);if(t===0){a=r.get(["itemStyle","borderColorDoji"])}var n=r.getModel("itemStyle").getItemStyle(mB);e.useStyle(n);e.style.fill=null;e.style.stroke=a}var kB=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return r}e.prototype.getShadowDim=function(){return"open"};e.prototype.brushSelector=function(t,e,r){var i=e.getItemLayout(t);return i&&r.rect(i.brushRect)};e.type="series.candlestick";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return e}(nm);Y(kB,rB,true);function LB(t){if(!t||!et(t.series)){return}X(t.series,(function(t){if(ot(t)&&t.type==="k"){t.type="candlestick"}}))}var PB=["itemStyle","borderColor"];var OB=["itemStyle","borderColor0"];var NB=["itemStyle","borderColorDoji"];var RB=["itemStyle","color"];var EB=["itemStyle","color0"];var zB={seriesType:"candlestick",plan:pm(),performRawSeries:true,reset:function(t,e){function r(t,e){return e.get(t>0?RB:EB)}function i(t,e){return e.get(t===0?NB:t>0?PB:OB)}if(e.isSeriesFiltered(t)){return}var a=t.pipelineContext.large;return!a&&{progress:function(t,e){var a;while((a=t.next())!=null){var n=e.getItemModel(a);var o=e.getItemLayout(a).sign;var s=n.getItemStyle();s.fill=r(o,n);s.stroke=i(o,n)||s.fill;var l=e.ensureUniqueItemVisual(a,"style");F(l,s)}}}}};var VB={seriesType:"candlestick",plan:pm(),reset:function(t){var e=t.coordinateSystem;var r=t.getData();var i=FB(t,r);var a=0;var n=1;var o=["x","y"];var s=r.getDimensionIndex(r.mapDimension(o[a]));var l=Z(r.mapDimensionsAll(o[n]),r.getDimensionIndex,r);var u=l[0];var f=l[1];var h=l[2];var c=l[3];r.setLayout({candleWidth:i,isSimpleBox:i<=1.3});if(s<0||l.length<4){return}return{progress:t.pipelineContext.large?d:v};function v(t,r){var o;var l=r.getStore();while((o=t.next())!=null){var v=l.get(s,o);var d=l.get(u,o);var p=l.get(f,o);var g=l.get(h,o);var y=l.get(c,o);var m=Math.min(d,p);var _=Math.max(d,p);var x=D(m,v);var w=D(_,v);var b=D(g,v);var S=D(y,v);var M=[];C(M,w,0);C(M,x,1);M.push(k(S),k(w),k(b),k(x));var I=r.getItemModel(o);var T=!!I.get(["itemStyle","borderColorDoji"]);r.setItemLayout(o,{sign:BB(l,o,d,p,f,T),initBaseline:d>p?w[n]:x[n],ends:M,brushRect:A(g,y,v)})}function D(t,r){var i=[];i[a]=r;i[n]=t;return isNaN(r)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function C(t,e,r){var n=e.slice();var o=e.slice();n[a]=Oc(n[a]+i/2,1,false);o[a]=Oc(o[a]-i/2,1,true);r?t.push(n,o):t.push(o,n)}function A(t,e,r){var n=D(t,r);var o=D(e,r);n[a]-=i/2;o[a]-=i/2;return{x:n[0],y:n[1],width:i,height:o[1]-n[1]}}function k(t){t[a]=Oc(t[a],1);return t}}function d(r,i){var o=xS(r.count*4);var l=0;var v;var d=[];var p=[];var g;var y=i.getStore();var m=!!t.get(["itemStyle","borderColorDoji"]);while((g=r.next())!=null){var _=y.get(s,g);var x=y.get(u,g);var w=y.get(f,g);var b=y.get(h,g);var S=y.get(c,g);if(isNaN(_)||isNaN(b)||isNaN(S)){o[l++]=NaN;l+=3;continue}o[l++]=BB(y,g,x,w,f,m);d[a]=_;d[n]=b;v=e.dataToPoint(d,null,p);o[l++]=v?v[0]:NaN;o[l++]=v?v[1]:NaN;d[n]=S;v=e.dataToPoint(d,null,p);o[l++]=v?v[1]:NaN}i.setLayout("largePoints",o)}}};function BB(t,e,r,i,a,n){var o;if(r>i){o=-1}else if(r<i){o=1}else{o=n?0:e>0?t.get(a,e-1)<=i?1:-1:1}return o}function FB(t,e){var r=t.getBaseAxis();var i;var a=r.type==="category"?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count());var n=Vn(pt(t.get("barMaxWidth"),a),a);var o=Vn(pt(t.get("barMinWidth"),1),a);var s=t.get("barWidth");return s!=null?Vn(s,a):Math.max(Math.min(a/2,n),o)}function GB(t){t.registerChartView(_B);t.registerSeriesModel(kB);t.registerPreprocessor(LB);t.registerVisual(zB);t.registerLayout(VB)}function WB(t,e){var r=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?r:null,fill:e.brushType==="fill"?r:null}})}))}var HB=function(t){u(e,t);function e(e,r){var i=t.call(this)||this;var a=new DD(e,r);var n=new Tn;i.add(a);i.add(n);i.updateData(e,r);return i}e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};e.prototype.startEffectAnimation=function(t){var e=t.symbolType;var r=t.color;var i=t.rippleNumber;var a=this.childAt(1);for(var n=0;n<i;n++){var o=O_(e,-1,-1,2,2,r);o.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var s=-n/i*t.period+t.effectOffset;o.animate("",true).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start();o.animateStyle(true).when(t.period,{opacity:0}).delay(s).start();a.add(o)}WB(a,t)};e.prototype.updateEffectAnimation=function(t){var e=this._effectCfg;var r=this.childAt(1);var i=["symbolType","period","rippleScale","rippleNumber"];for(var a=0;a<i.length;a++){var n=i[a];if(e[n]!==t[n]){this.stopEffectAnimation();this.startEffectAnimation(t);return}}WB(r,t)};e.prototype.highlight=function(){cf(this)};e.prototype.downplay=function(){vf(this)};e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()};e.prototype.updateData=function(t,e){var r=this;var i=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1);var n=t.getItemModel(e);var o=t.getItemVisual(e,"symbol");var s=N_(t.getItemVisual(e,"symbolSize"));var l=t.getItemVisual(e,"style");var u=l&&l.fill;var f=n.getModel("emphasis");a.setScale(s);a.traverse((function(t){t.setStyle("fill",u)}));var h=R_(t.getItemVisual(e,"symbolOffset"),s);if(h){a.x=h[0];a.y=h[1]}var c=t.getItemVisual(e,"symbolRotate");a.rotation=(c||0)*Math.PI/180||0;var v={};v.showEffectOn=i.get("showEffectOn");v.rippleScale=n.get(["rippleEffect","scale"]);v.brushType=n.get(["rippleEffect","brushType"]);v.period=n.get(["rippleEffect","period"])*1e3;v.effectOffset=e/t.count();v.z=i.getShallow("z")||0;v.zlevel=i.getShallow("zlevel")||0;v.symbolType=o;v.color=u;v.rippleEffectColor=n.get(["rippleEffect","color"]);v.rippleNumber=n.get(["rippleEffect","number"]);if(v.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v);this._effectCfg=v}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(t){if(t==="emphasis"){if(v.showEffectOn!=="render"){r.startEffectAnimation(v)}}else if(t==="normal"){if(v.showEffectOn!=="render"){r.stopEffectAnimation()}}}}this._effectCfg=v;Lf(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))};e.prototype.fadeOut=function(t){t&&t()};return e}(Tn);var YB=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._symbolDraw=new PD(HB)};e.prototype.render=function(t,e,r){var i=t.getData();var a=this._symbolDraw;a.updateData(i,{clipShape:this._getClipShape(t)});this.group.add(a.group)};e.prototype._getClipShape=function(t){var e=t.coordinateSystem;var r=e&&e.getArea&&e.getArea();return t.get("clip",true)?r:null};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();var a=dC("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout()};e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;if(e&&e.getRoamTransform){this.group.transform=We(e.getRoamTransform());this.group.decomposeTransform()}};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true)};e.type="effectScatter";return e}(mm);var UB=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return Qb(null,this,{useEncodeDefaulter:true})};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.type="series.effectScatter";e.dependencies=["grid","polar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};return e}(nm);function XB(t){t.registerChartView(YB);t.registerSeriesModel(UB);t.registerLayout(dC("effectScatter"))}var ZB=function(t){u(e,t);function e(e,r,i){var a=t.call(this)||this;a.add(a.createLine(e,r,i));a._updateEffectSymbol(e,r);return a}e.prototype.createLine=function(t,e,r){return new UR(t,e,r)};e.prototype._updateEffectSymbol=function(t,e){var r=t.getItemModel(e);var i=r.getModel("effect");var a=i.get("symbolSize");var n=i.get("symbol");if(!et(a)){a=[a,a]}var o=t.getItemVisual(e,"style");var s=i.get("color")||o&&o.stroke;var l=this.childAt(1);if(this._symbolType!==n){this.remove(l);l=O_(n,-.5,-.5,1,1,s);l.z2=100;l.culling=true;this.add(l)}if(!l){return}l.setStyle("shadowColor",s);l.setStyle(i.getItemStyle(["color"]));l.scaleX=a[0];l.scaleY=a[1];l.setColor(s);this._symbolType=n;this._symbolScale=a;this._updateEffectAnimation(t,i,e)};e.prototype._updateEffectAnimation=function(t,e,r){var i=this.childAt(1);if(!i){return}var a=t.getItemLayout(r);var n=e.get("period")*1e3;var o=e.get("loop");var s=e.get("roundTrip");var l=e.get("constantSpeed");var u=dt(e.get("delay"),(function(e){return e/t.count()*n/3}));i.ignore=true;this._updateAnimationPoints(i,a);if(l>0){n=this._getLineLength(i)/l*1e3}if(n!==this._period||o!==this._loop||s!==this._roundTrip){i.stopAnimation();var f=void 0;if(rt(u)){f=u(r)}else{f=u}if(i.__t>0){f=-n*i.__t}this._animateSymbol(i,n,f,o,s)}this._period=n;this._loop=o;this._roundTrip=s};e.prototype._animateSymbol=function(t,e,r,i,a){if(e>0){t.__t=0;var n=this;var o=t.animate("",i).when(a?e*2:e,{__t:a?2:1}).delay(r).during((function(){n._updateSymbolPosition(t)}));if(!i){o.done((function(){n.remove(t)}))}o.start()}};e.prototype._getLineLength=function(t){return qt(t.__p1,t.__cp1)+qt(t.__cp1,t.__p2)};e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0];t.__p2=e[1];t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};e.prototype.updateData=function(t,e,r){this.childAt(0).updateData(t,e,r);this._updateEffectSymbol(t,e)};e.prototype._updateSymbolPosition=function(t){var e=t.__p1;var r=t.__p2;var i=t.__cp1;var a=t.__t<1?t.__t:2-t.__t;var n=[t.x,t.y];var o=n.slice();var s=jr;var l=qr;n[0]=s(e[0],i[0],r[0],a);n[1]=s(e[1],i[1],r[1],a);var u=t.__t<1?l(e[0],i[0],r[0],a):l(r[0],i[0],e[0],1-a);var f=t.__t<1?l(e[1],i[1],r[1],a):l(r[1],i[1],e[1],1-a);t.rotation=-Math.atan2(f,u)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(t.__lastT!==undefined&&t.__lastT<t.__t){t.scaleY=qt(o,n)*1.05;if(a===1){n[0]=o[0]+(n[0]-o[0])/2;n[1]=o[1]+(n[1]-o[1])/2}}else if(t.__lastT===1){t.scaleY=2*qt(e,n)}else{t.scaleY=this._symbolScale[1]}}t.__lastT=t.__t;t.ignore=false;t.x=n[0];t.y=n[1]};e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var r=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,r,e)};return e}(Tn);var jB=function(t){u(e,t);function e(e,r,i){var a=t.call(this)||this;a._createPolyline(e,r,i);return a}e.prototype._createPolyline=function(t,e,r){var i=t.getItemLayout(e);var a=new Fh({shape:{points:i}});this.add(a);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childAt(0);var n={shape:{points:t.getItemLayout(e)}};fc(a,n,i,e);this._updateCommonStl(t,e,r)};e.prototype._updateCommonStl=function(t,e,r){var i=this.childAt(0);var a=t.getItemModel(e);var n=r&&r.emphasisLineStyle;var o=r&&r.focus;var s=r&&r.blurScope;var l=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var u=a.getModel("emphasis");n=u.getModel("lineStyle").getLineStyle();l=u.get("disabled");o=u.get("focus");s=u.get("blurScope")}i.useStyle(t.getItemVisual(e,"style"));i.style.fill=null;i.style.strokeNoScale=true;var f=i.ensureState("emphasis");f.style=n;Lf(this,o,s,l)};e.prototype.updateLayout=function(t,e){var r=this.childAt(0);r.setShape("points",t.getItemLayout(e))};return e}(Tn);var qB=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._lastFrame=0;e._lastFramePercent=0;return e}e.prototype.createLine=function(t,e,r){return new jB(t,e,r)};e.prototype._updateAnimationPoints=function(t,e){this._points=e;var r=[0];var i=0;for(var a=1;a<e.length;a++){var n=e[a-1];var o=e[a];i+=qt(n,o);r.push(i)}if(i===0){this._length=0;return}for(var a=0;a<r.length;a++){r[a]/=i}this._offsets=r;this._length=i};e.prototype._getLineLength=function(){return this._length};e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t;var r=this._points;var i=this._offsets;var a=r.length;if(!i){return}var n=this._lastFrame;var o;if(e<this._lastFramePercent){var s=Math.min(n+1,a-1);for(o=s;o>=0;o--){if(i[o]<=e){break}}o=Math.min(o,a-2)}else{for(o=n;o<a;o++){if(i[o]>e){break}}o=Math.min(o-1,a-2)}var l=(e-i[o])/(i[o+1]-i[o]);var u=r[o];var f=r[o+1];t.x=u[0]*(1-l)+l*f[0];t.y=u[1]*(1-l)+l*f[1];var h=t.__t<1?f[0]-u[0]:u[0]-f[0];var c=t.__t<1?f[1]-u[1]:u[1]-f[1];t.rotation=-Math.atan2(c,h)-Math.PI/2;this._lastFrame=o;this._lastFramePercent=e;t.ignore=false};return e}(ZB);var KB=function(){function t(){this.polyline=false;this.curveness=0;this.segs=[]}return t}();var $B=function(t){u(e,t);function e(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}e.prototype.reset=function(){this.notClear=false;this._off=0};e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new KB};e.prototype.buildPath=function(t,e){var r=e.segs;var i=e.curveness;var a;if(e.polyline){for(a=this._off;a<r.length;){var n=r[a++];if(n>0){t.moveTo(r[a++],r[a++]);for(var o=1;o<n;o++){t.lineTo(r[a++],r[a++])}}}}else{for(a=this._off;a<r.length;){var s=r[a++];var l=r[a++];var u=r[a++];var f=r[a++];t.moveTo(s,l);if(i>0){var h=(s+u)/2-(l-f)*i;var c=(l+f)/2-(u-s)*i;t.quadraticCurveTo(h,c,u,f)}else{t.lineTo(u,f)}}}if(this.incremental){this._off=a;this.notClear=true}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.segs;var a=r.curveness;var n=this.style.lineWidth;if(r.polyline){var o=0;for(var s=0;s<i.length;){var l=i[s++];if(l>0){var u=i[s++];var f=i[s++];for(var h=1;h<l;h++){var c=i[s++];var v=i[s++];if(Ml(u,f,c,v,n,t,e)){return o}}}o++}}else{var o=0;for(var s=0;s<i.length;){var u=i[s++];var f=i[s++];var c=i[s++];var v=i[s++];if(a>0){var d=(u+c)/2-(f-v)*a;var p=(f+v)/2-(c-u)*a;if(Tl(u,f,d,p,c,v,n,t,e)){return o}}else{if(Ml(u,f,c,v,n,t,e)){return o}}o++}}return-1};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();t=r[0];e=r[1];if(i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}this.hoverDataIdx=-1;return false};e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){var e=this.shape;var r=e.segs;var i=Infinity;var a=Infinity;var n=-Infinity;var o=-Infinity;for(var s=0;s<r.length;){var l=r[s++];var u=r[s++];i=Math.min(l,i);n=Math.max(l,n);a=Math.min(u,a);o=Math.max(u,o)}t=this._rect=new Je(i,a,n,o)}return t};return e}(jl);var JB=function(){function t(){this.group=new Tn}t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")});this._setCommon(e,t)};t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll();this._clear()};t.prototype.incrementalUpdate=function(t,e){var r=this._newAdded[0];var i=e.getLayout("linesPoints");var a=r&&r.shape.segs;if(a&&a.length<2e4){var n=a.length;var o=new Float32Array(n+i.length);o.set(a);o.set(i,n);r.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=true;s.setShape({segs:i});this._setCommon(s,e);s.__startIndex=t.start}};t.prototype.remove=function(){this._clear()};t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])};t.prototype._create=function(){var t=new $B({cursor:"default",ignoreCoarsePointer:true});this._newAdded.push(t);this.group.add(t);return t};t.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])});t.useStyle(i.getModel("lineStyle").getLineStyle());t.style.strokeNoScale=true;var a=e.getVisual("style");if(a&&a.stroke){t.setStyle("stroke",a.stroke)}t.setStyle("fill",null);var n=Tu(t);n.seriesIndex=i.seriesIndex;t.on("mousemove",(function(e){n.dataIndex=null;var r=t.hoverDataIdx;if(r>0){n.dataIndex=r+t.__startIndex}}))};t.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return t}();var QB={seriesType:"lines",plan:pm(),reset:function(t){var e=t.coordinateSystem;if(!e){return}var r=t.get("polyline");var i=t.pipelineContext.large;return{progress:function(a,n){var o=[];if(i){var s=void 0;var l=a.end-a.start;if(r){var u=0;for(var f=a.start;f<a.end;f++){u+=t.getLineCoordsCount(f)}s=new Float32Array(l+u*2)}else{s=new Float32Array(l*4)}var h=0;var c=[];for(var f=a.start;f<a.end;f++){var v=t.getLineCoords(f,o);if(r){s[h++]=v}for(var d=0;d<v;d++){c=e.dataToPoint(o[d],false,c);s[h++]=c[0];s[h++]=c[1]}}n.setLayout("linesPoints",s)}else{for(var f=a.start;f<a.end;f++){var p=n.getItemModel(f);var v=t.getLineCoords(f,o);var g=[];if(r){for(var y=0;y<v;y++){g.push(e.dataToPoint(o[y]))}}else{g[0]=e.dataToPoint(o[0]);g[1]=e.dataToPoint(o[1]);var m=p.get(["lineStyle","curveness"]);if(+m){g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m]}}n.setItemLayout(f,g)}}}}}};var tF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);var n=t.get("zlevel");var o=t.get(["effect","trailLength"]);var s=r.getZr();var l=s.painter.getType()==="svg";if(!l){s.painter.getLayer(n).clear(true)}if(this._lastZlevel!=null&&!l){s.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(t)&&o>0){if(!l){s.configLayer(n,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})}}a.updateData(i);var u=t.get("clip",true)&&jD(t.coordinateSystem,false,t);if(u){this.group.setClipPath(u)}else{this.group.removeClipPath()}this._lastZlevel=n;this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);a.incrementalPrepareUpdate(i);this._clearLayer(r);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._lineDraw.incrementalUpdate(t,e.getData());this._finished=t.end===e.getData().count()};e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)};e.prototype.updateTransform=function(t,e,r){var i=t.getData();var a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender){return{update:true}}else{var n=QB.reset(t,e,r);if(n.progress){n.progress({start:0,end:i.count(),count:i.count()},i)}this._lineDraw.updateLayout();this._clearLayer(r)}};e.prototype._updateLineDraw=function(t,e){var r=this._lineDraw;var i=this._showEffect(e);var a=!!e.get("polyline");var n=e.pipelineContext;var o=n.large;if(!r||i!==this._hasEffet||a!==this._isPolyline||o!==this._isLargeDraw){if(r){r.remove()}r=this._lineDraw=o?new JB:new XR(a?i?qB:jB:i?ZB:UR);this._hasEffet=i;this._isPolyline=a;this._isLargeDraw=o}this.group.add(r.group);return r};e.prototype._showEffect=function(t){return!!t.get(["effect","show"])};e.prototype._clearLayer=function(t){var e=t.getZr();var r=e.painter.getType()==="svg";if(!r&&this._lastZlevel!=null){e.painter.getLayer(this._lastZlevel).clear(true)}};e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(e)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.type="lines";return e}(mm);var eF=typeof Uint32Array==="undefined"?Array:Uint32Array;var rF=typeof Float64Array==="undefined"?Array:Float64Array;function iF(t){var e=t.data;if(e&&e[0]&&e[0][0]&&e[0][0].coord){t.data=Z(e,(function(t){var e=[t[0].coord,t[1].coord];var r={coords:e};if(t[0].name){r.fromName=t[0].name}if(t[1].name){r.toName=t[1].name}return B([r,t[0],t[1]])}))}}var aF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.init=function(e){e.data=e.data||[];iF(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}t.prototype.init.apply(this,arguments)};e.prototype.mergeOption=function(e){iF(e);if(e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}}t.prototype.mergeOption.apply(this,arguments)};e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=At(this._flatCoords,e.flatCoords);this._flatCoordsOffset=At(this._flatCoordsOffset,e.flatCoordsOffset)}t.data=new Float32Array(e.count)}this.getRawData().appendData(t.data)};e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);var r=e.option instanceof Array?e.option:e.getShallow("coords");return r};e.prototype.getLineCoordsCount=function(t){if(this._flatCoordsOffset){return this._flatCoordsOffset[t*2+1]}else{return this._getCoordsFromItemModel(t).length}};e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){var r=this._flatCoordsOffset[t*2];var i=this._flatCoordsOffset[t*2+1];for(var a=0;a<i;a++){e[a]=e[a]||[];e[a][0]=this._flatCoords[r+a*2];e[a][1]=this._flatCoords[r+a*2+1]}return i}else{var n=this._getCoordsFromItemModel(t);for(var a=0;a<n.length;a++){e[a]=e[a]||[];e[a][0]=n[a][0];e[a][1]=n[a][1]}return n.length}};e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords){e=this._flatCoords.length}if(nt(t[0])){var r=t.length;var i=new eF(r);var a=new rF(r);var n=0;var o=0;var s=0;for(var l=0;l<r;){s++;var u=t[l++];i[o++]=n+e;i[o++]=u;for(var f=0;f<u;f++){var h=t[l++];var c=t[l++];a[n++]=h;a[n++]=c}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}};e.prototype.getInitialData=function(t,e){var r=new Vb(["value"],this);r.hasItemOption=false;r.initData(t.data,[],(function(t,e,i,a){if(t instanceof Array){return NaN}else{r.hasItemOption=true;var n=t.value;if(n!=null){return n instanceof Array?n[a]:n}}}));return r};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getItemModel(t);var n=a.get("name");if(n){return n}var o=a.get("fromName");var s=a.get("toName");var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return Vy("nameValue",{name:l.join(" > ")})};e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?1e4:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?2e4:this.get("progressiveThreshold")}return t};e.prototype.getZLevelKey=function(){var t=this.getModel("effect");var e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""};e.type="series.lines";e.dependencies=["grid","polar","geo","calendar"];e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return e}(nm);function nF(t){if(!(t instanceof Array)){t=[t,t]}return t}var oF={seriesType:"lines",reset:function(t){var e=nF(t.get("symbol"));var r=nF(t.get("symbolSize"));var i=t.getData();i.setVisual("fromSymbol",e&&e[0]);i.setVisual("toSymbol",e&&e[1]);i.setVisual("fromSymbolSize",r&&r[0]);i.setVisual("toSymbolSize",r&&r[1]);function a(t,e){var r=t.getItemModel(e);var i=nF(r.getShallow("symbol",true));var a=nF(r.getShallow("symbolSize",true));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]);i[1]&&t.setItemVisual(e,"toSymbol",i[1]);a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]);a[1]&&t.setItemVisual(e,"toSymbolSize",a[1])}return{dataEach:i.hasItemOption?a:null}}};function sF(t){t.registerChartView(tF);t.registerSeriesModel(aF);t.registerLayout(QB);t.registerVisual(oF)}var lF=256;var uF=function(){function t(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var t=b.createCanvas();this.canvas=t}t.prototype.update=function(t,e,r,i,a,n){var o=this._getBrush();var s=this._getGradient(a,"inRange");var l=this._getGradient(a,"outOfRange");var u=this.pointSize+this.blurSize;var f=this.canvas;var h=f.getContext("2d");var c=t.length;f.width=e;f.height=r;for(var v=0;v<c;++v){var d=t[v];var p=d[0];var g=d[1];var y=d[2];var m=i(y);h.globalAlpha=m;h.drawImage(o,p-u,g-u)}if(!f.width||!f.height){return f}var _=h.getImageData(0,0,f.width,f.height);var x=_.data;var w=0;var b=x.length;var S=this.minOpacity;var M=this.maxOpacity;var I=M-S;while(w<b){var m=x[w+3]/256;var T=Math.floor(m*(lF-1))*4;if(m>0){var D=n(m)?s:l;m>0&&(m=m*I+S);x[w++]=D[T];x[w++]=D[T+1];x[w++]=D[T+2];x[w++]=D[T+3]*m*256}else{w+=4}}h.putImageData(_,0,0);return f};t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=b.createCanvas());var e=this.pointSize+this.blurSize;var r=e*2;t.width=r;t.height=r;var i=t.getContext("2d");i.clearRect(0,0,r,r);i.shadowOffsetX=r;i.shadowBlur=this.blurSize;i.shadowColor="#000";i.beginPath();i.arc(-e,e,this.pointSize,0,Math.PI*2,true);i.closePath();i.fill();return t};t.prototype._getGradient=function(t,e){var r=this._gradientPixels;var i=r[e]||(r[e]=new Uint8ClampedArray(256*4));var a=[0,0,0,0];var n=0;for(var o=0;o<256;o++){t[e](o/255,true,a);i[n++]=a[0];i[n++]=a[1];i[n++]=a[2];i[n++]=a[3]}return i};return t}();function fF(t,e,r){var i=t[1]-t[0];e=Z(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}));var a=e.length;var n=0;return function(t){var i;for(i=n;i<a;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}if(i===a){for(i=n-1;i>=0;i--){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}}return i>=0&&i<a&&r[i]}}function hF(t,e){var r=t[1]-t[0];e=[(e[0]-t[0])/r,(e[1]-t[0])/r];return function(t){return t>=e[0]&&t<=e[1]}}function cF(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var vF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(r){if(r===t){i=e}}))}));this._progressiveEls=null;this.group.removeAll();var a=t.coordinateSystem;if(a.type==="cartesian2d"||a.type==="calendar"){this._renderOnCartesianAndCalendar(t,r,0,t.getData().count())}else if(cF(a)){this._renderOnGeo(a,t,i,r)}};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll()};e.prototype.incrementalRender=function(t,e,r,i){var a=e.coordinateSystem;if(a){if(cF(a)){this.render(e,r,i)}else{this._progressiveEls=[];this._renderOnCartesianAndCalendar(e,i,t.start,t.end,true)}}};e.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};e.prototype._renderOnCartesianAndCalendar=function(t,e,r,i,a){var n=t.coordinateSystem;var o=qD(n,"cartesian2d");var s;var l;var u;var f;if(o){var h=n.getAxis("x");var c=n.getAxis("y");s=h.getBandWidth()+.5;l=c.getBandWidth()+.5;u=h.scale.getExtent();f=c.scale.getExtent()}var v=this.group;var d=t.getData();var p=t.getModel(["emphasis","itemStyle"]).getItemStyle();var g=t.getModel(["blur","itemStyle"]).getItemStyle();var y=t.getModel(["select","itemStyle"]).getItemStyle();var m=t.get(["itemStyle","borderRadius"]);var _=ev(t);var x=t.getModel("emphasis");var w=x.get("focus");var b=x.get("blurScope");var S=x.get("disabled");var M=o?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")];for(var I=r;I<i;I++){var T=void 0;var D=d.getItemVisual(I,"style");if(o){var C=d.get(M[0],I);var A=d.get(M[1],I);if(isNaN(d.get(M[2],I))||isNaN(C)||isNaN(A)||C<u[0]||C>u[1]||A<f[0]||A>f[1]){continue}var k=n.dataToPoint([C,A]);T=new lu({shape:{x:k[0]-s/2,y:k[1]-l/2,width:s,height:l},style:D})}else{if(isNaN(d.get(M[1],I))){continue}T=new lu({z2:1,shape:n.dataToRect([d.get(M[0],I)]).contentShape,style:D})}if(d.hasItemOption){var L=d.getItemModel(I);var P=L.getModel("emphasis");p=P.getModel("itemStyle").getItemStyle();g=L.getModel(["blur","itemStyle"]).getItemStyle();y=L.getModel(["select","itemStyle"]).getItemStyle();m=L.get(["itemStyle","borderRadius"]);w=P.get("focus");b=P.get("blurScope");S=P.get("disabled");_=ev(L)}T.shape.r=m;var O=t.getRawValue(I);var N="-";if(O&&O[2]!=null){N=O[2]+""}tv(T,_,{labelFetcher:t,labelDataIndex:I,defaultOpacity:D.opacity,defaultText:N});T.ensureState("emphasis").style=p;T.ensureState("blur").style=g;T.ensureState("select").style=y;Lf(T,w,b,S);T.incremental=a;if(a){T.states.emphasis.hoverLayer=true}v.add(T);d.setItemGraphicEl(I,T);if(this._progressiveEls){this._progressiveEls.push(T)}}};e.prototype._renderOnGeo=function(t,e,r,i){var a=r.targetVisuals.inRange;var n=r.targetVisuals.outOfRange;var o=e.getData();var s=this._hmLayer||this._hmLayer||new uF;s.blurSize=e.get("blurSize");s.pointSize=e.get("pointSize");s.minOpacity=e.get("minOpacity");s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone();var u=t.getRoamTransform();l.applyTransform(u);var f=Math.max(l.x,0);var h=Math.max(l.y,0);var c=Math.min(l.width+l.x,i.getWidth());var v=Math.min(l.height+l.y,i.getHeight());var d=c-f;var p=v-h;var g=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")];var y=o.mapArray(g,(function(e,r,i){var a=t.dataToPoint([e,r]);a[0]-=f;a[1]-=h;a.push(i);return a}));var m=r.getExtent();var _=r.type==="visualMap.continuous"?hF(m,r.option.range):fF(m,r.getPieceList(),r.option.selected);s.update(y,d,p,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:n.color.getColorMapper()},_);var x=new tu({style:{width:d,height:p,x:f,y:h,image:s.canvas},silent:true});this.group.add(x)};e.type="heatmap";return e}(mm);var dF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return Qb(null,this,{generateCoord:"value"})};e.prototype.preventIncremental=function(){var t=Fp.get(this.get("coordinateSystem"));if(t&&t.dimensions){return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"}};e.type="series.heatmap";e.dependencies=["grid","geo","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return e}(nm);function pF(t){t.registerChartView(vF);t.registerSeriesModel(dF)}var gF=["itemStyle","borderWidth"];var yF=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var mF=new vh;var _F=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;var a=t.getData();var n=this._data;var o=t.coordinateSystem;var s=o.getBaseAxis();var l=s.isHorizontal();var u=o.master.getRect();var f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:yF[+l],categoryDim:yF[1-+l]};a.diff(n).add((function(t){if(!a.hasValue(t)){return}var e=LF(a,t);var r=xF(a,t,e,f);var n=NF(a,f,r);a.setItemGraphicEl(t,n);i.add(n);FF(n,f,r)})).update((function(t,e){var r=n.getItemGraphicEl(e);if(!a.hasValue(t)){i.remove(r);return}var o=LF(a,t);var s=xF(a,t,o,f);var l=zF(a,s);if(r&&l!==r.__pictorialShapeStr){i.remove(r);a.setItemGraphicEl(t,null);r=null}if(r){RF(r,f,s)}else{r=NF(a,f,s,true)}a.setItemGraphicEl(t,r);r.__pictorialSymbolMeta=s;i.add(r);FF(r,f,s)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&EF(n,t,e.__pictorialSymbolMeta.animationModel,e)})).execute();this._data=a;return this.group};e.prototype.remove=function(t,e){var r=this.group;var i=this._data;if(t.get("animation")){if(i){i.eachItemGraphicEl((function(e){EF(i,Tu(e).dataIndex,t,e)}))}}else{r.removeAll()}};e.type="pictorialBar";return e}(mm);function xF(t,e,r,i){var a=t.getItemLayout(e);var n=r.get("symbolRepeat");var o=r.get("symbolClip");var s=r.get("symbolPosition")||"start";var l=r.get("symbolRotate");var u=(l||0)*Math.PI/180||0;var f=r.get("symbolPatternSize")||2;var h=r.isAnimationEnabled();var c={dataIndex:e,layout:a,itemModel:r,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:n,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",true)||0};wF(r,n,a,i,c);SF(t,e,a,n,o,c.boundingLength,c.pxSign,f,i,c);MF(r,c.symbolScale,u,i,c);var v=c.symbolSize;var d=R_(r.get("symbolOffset"),v);IF(r,v,a,n,o,d,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c);return c}function wF(t,e,r,i,a){var n=i.valueDim;var o=t.get("symbolBoundingData");var s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var l=s.toGlobalCoord(s.dataToCoord(0));var u=1-+(r[n.wh]<=0);var f;if(et(o)){var h=[bF(s,o[0])-l,bF(s,o[1])-l];h[1]<h[0]&&h.reverse();f=h[u]}else if(o!=null){f=bF(s,o)-l}else if(e){f=i.coordSysExtent[n.index][u]-l}else{f=r[n.wh]}a.boundingLength=f;if(e){a.repeatCutLength=r[n.wh]}a.pxSign=f>0?1:-1}function bF(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function SF(t,e,r,i,a,n,o,s,l,u){var f=l.valueDim;var h=l.categoryDim;var c=Math.abs(r[h.wh]);var v=t.getItemVisual(e,"symbolSize");var d;if(et(v)){d=v.slice()}else{if(v==null){d=["100%","100%"]}else{d=[v,v]}}d[h.index]=Vn(d[h.index],c);d[f.index]=Vn(d[f.index],i?c:Math.abs(n));u.symbolSize=d;var p=u.symbolScale=[d[0]/s,d[1]/s];p[f.index]*=(l.isHorizontal?-1:1)*o}function MF(t,e,r,i,a){var n=t.get(gF)||0;if(n){mF.attr({scaleX:e[0],scaleY:e[1],rotation:r});mF.updateTransform();n/=mF.getLineScale();n*=e[i.valueDim.index]}a.valueLineWidth=n||0}function IF(t,e,r,i,a,n,o,s,l,u,f,h){var c=f.categoryDim;var v=f.valueDim;var d=h.pxSign;var p=Math.max(e[v.index]+s,0);var g=p;if(i){var y=Math.abs(l);var m=dt(t.get("symbolMargin"),"15%")+"";var _=false;if(m.lastIndexOf("!")===m.length-1){_=true;m=m.slice(0,m.length-1)}var x=Vn(m,e[v.index]);var w=Math.max(p+x*2,0);var b=_?0:x*2;var S=io(i);var M=S?i:GF((y+b)/w);var I=y-M*p;x=I/2/(_?M:Math.max(M-1,1));w=p+x*2;b=_?0:x*2;if(!S&&i!=="fixed"){M=u?GF((Math.abs(u)+b)/w):0}g=M*w-b;h.repeatTimes=M;h.symbolMargin=x}var T=d*(g/2);var D=h.pathPosition=[];D[c.index]=r[c.wh]/2;D[v.index]=o==="start"?T:o==="end"?l-T:l/2;if(n){D[0]+=n[0];D[1]+=n[1]}var C=h.bundlePosition=[];C[c.index]=r[c.xy];C[v.index]=r[v.xy];var A=h.barRectShape=F({},r);A[v.wh]=d*Math.max(Math.abs(r[v.wh]),Math.abs(D[v.index]+T));A[c.wh]=r[c.wh];var k=h.clipShape={};k[c.xy]=-r[c.xy];k[c.wh]=f.ecSize[c.wh];k[v.xy]=0;k[v.wh]=r[v.wh]}function TF(t){var e=t.symbolPatternSize;var r=O_(t.symbolType,-e/2,-e/2,e,e);r.attr({culling:true});r.type!=="image"&&r.setStyle({strokeNoScale:true});return r}function DF(t,e,r,i){var a=t.__pictorialBundle;var n=r.symbolSize;var o=r.valueLineWidth;var s=r.pathPosition;var l=e.valueDim;var u=r.repeatTimes||0;var f=0;var h=n[e.valueDim.index]+o+r.symbolMargin*2;VF(t,(function(t){t.__pictorialAnimationIndex=f;t.__pictorialRepeatTimes=u;if(f<u){BF(t,null,d(f),r,i)}else{BF(t,null,{scaleX:0,scaleY:0},r,i,(function(){a.remove(t)}))}f++}));for(;f<u;f++){var c=TF(r);c.__pictorialAnimationIndex=f;c.__pictorialRepeatTimes=u;a.add(c);var v=d(f);BF(c,{x:v.x,y:v.y,scaleX:0,scaleY:0},{scaleX:v.scaleX,scaleY:v.scaleY,rotation:v.rotation},r,i)}function d(t){var e=s.slice();var i=r.pxSign;var a=t;if(r.symbolRepeatDirection==="start"?i>0:i<0){a=u-1-t}e[l.index]=h*(a-u/2+.5)+s[l.index];return{x:e[0],y:e[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function CF(t,e,r,i){var a=t.__pictorialBundle;var n=t.__pictorialMainPath;if(!n){n=t.__pictorialMainPath=TF(r);a.add(n);BF(n,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,i)}else{BF(n,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,i)}}function AF(t,e,r){var i=F({},e.barRectShape);var a=t.__pictorialBarRect;if(!a){a=t.__pictorialBarRect=new lu({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});a.disableMorphing=true;t.add(a)}else{BF(a,null,{shape:i},e,r)}}function kF(t,e,r,i){if(r.symbolClip){var a=t.__pictorialClipPath;var n=F({},r.clipShape);var o=e.valueDim;var s=r.animationModel;var l=r.dataIndex;if(a){fc(a,{shape:n},s,l)}else{n[o.wh]=0;a=new lu({shape:n});t.__pictorialBundle.setClipPath(a);t.__pictorialClipPath=a;var u={};u[o.wh]=r.clipShape[o.wh];Kc[i?"updateProps":"initProps"](a,{shape:u},s,l)}}}function LF(t,e){var r=t.getItemModel(e);r.getAnimationDelayParams=PF;r.isAnimationEnabled=OF;return r}function PF(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function OF(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function NF(t,e,r,i){var a=new Tn;var n=new Tn;a.add(n);a.__pictorialBundle=n;n.x=r.bundlePosition[0];n.y=r.bundlePosition[1];if(r.symbolRepeat){DF(a,e,r)}else{CF(a,e,r)}AF(a,r,i);kF(a,e,r,i);a.__pictorialShapeStr=zF(t,r);a.__pictorialSymbolMeta=r;return a}function RF(t,e,r){var i=r.animationModel;var a=r.dataIndex;var n=t.__pictorialBundle;fc(n,{x:r.bundlePosition[0],y:r.bundlePosition[1]},i,a);if(r.symbolRepeat){DF(t,e,r,true)}else{CF(t,e,r,true)}AF(t,r,true);kF(t,e,r,true)}function EF(t,e,r,i){var a=i.__pictorialBarRect;a&&a.removeTextContent();var n=[];VF(i,(function(t){n.push(t)}));i.__pictorialMainPath&&n.push(i.__pictorialMainPath);i.__pictorialClipPath&&(r=null);X(n,(function(t){vc(t,{scaleX:0,scaleY:0},r,e,(function(){i.parent&&i.parent.remove(i)}))}));t.setItemGraphicEl(e,null)}function zF(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function VF(t,e,r){X(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(r,i)}))}function BF(t,e,r,i,a,n){e&&t.attr(e);if(i.symbolClip&&!a){r&&t.attr(r)}else{r&&Kc[a?"updateProps":"initProps"](t,r,i.animationModel,i.dataIndex,n)}}function FF(t,e,r){var i=r.dataIndex;var a=r.itemModel;var n=a.getModel("emphasis");var o=n.getModel("itemStyle").getItemStyle();var s=a.getModel(["blur","itemStyle"]).getItemStyle();var l=a.getModel(["select","itemStyle"]).getItemStyle();var u=a.getShallow("cursor");var f=n.get("focus");var h=n.get("blurScope");var c=n.get("scale");VF(t,(function(t){if(t instanceof tu){var e=t.style;t.useStyle(F({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},r.style))}else{t.useStyle(r.style)}var i=t.ensureState("emphasis");i.style=o;if(c){i.scaleX=t.scaleX*1.1;i.scaleY=t.scaleY*1.1}t.ensureState("blur").style=s;t.ensureState("select").style=l;u&&(t.cursor=u);t.z2=r.z2}));var v=e.valueDim.posDesc[+(r.boundingLength>0)];var d=t.__pictorialBarRect;tv(d,ev(a),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:ID(e.seriesModel.getData(),i),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:v});Lf(t,f,h,n.get("disabled"))}function GF(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var WF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;r.defaultSymbol="roundRect";return r}e.prototype.getInitialData=function(e){e.stack=null;return t.prototype.getInitialData.apply(this,arguments)};e.type="series.pictorialBar";e.dependencies=["grid"];e.defaultOption=Av(_C.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return e}(_C);function HF(t){t.registerChartView(_F);t.registerSeriesModel(WF);t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,tt(kS,"pictorialBar"));t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,LS("pictorialBar"))}var YF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._layers=[];return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this;var n=this.group;var o=t.getLayerSeries();var s=i.getLayout("layoutInfo");var l=s.rect;var u=s.boundaryGap;n.x=0;n.y=l.y+u[0];function f(t){return t.name}var h=new fb(this._layersSeries||[],o,f,f);var c=[];h.add(Q(v,this,"add")).update(Q(v,this,"update")).remove(Q(v,this,"remove")).execute();function v(e,r,s){var l=a._layers;if(e==="remove"){n.remove(l[r]);return}var u=[];var f=[];var h;var v=o[r].indices;var d=0;for(;d<v.length;d++){var p=i.getItemLayout(v[d]);var g=p.x;var y=p.y0;var m=p.y;u.push(g,y);f.push(g,y+m);h=i.getItemVisual(v[d],"style")}var _;var x=i.getItemLayout(v[0]);var w=t.getModel("label");var b=w.get("margin");var S=t.getModel("emphasis");if(e==="add"){var M=c[r]=new Tn;_=new UD({shape:{points:u,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});M.add(_);n.add(M);if(t.isAnimationEnabled()){_.setClipPath(UF(_.getBoundingRect(),t,(function(){_.removeClipPath()})))}}else{var M=l[s];_=M.childAt(0);n.add(M);c[r]=M;fc(_,{shape:{points:u,stackedOnPoints:f}},t);gc(_)}tv(_,ev(t),{labelDataIndex:v[d-1],defaultText:i.getName(v[d-1]),inheritColor:h.fill},{normal:{verticalAlign:"middle"}});_.setTextConfig({position:null,local:true});var I=_.getTextContent();if(I){I.x=x.x-b;I.y=x.y0+x.y/2}_.useStyle(h);i.setItemGraphicEl(r,_);Rf(_,t);Lf(_,S.get("focus"),S.get("blurScope"),S.get("disabled"))}this._layersSeries=o;this._layers=c};e.type="themeRiver";return e}(mm);function UF(t,e,r){var i=new lu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});hc(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,r);return i}var XF=2;var ZF=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new dA(Q(this.getData,this),Q(this.getRawData,this))};e.prototype.fixData=function(t){var e=t.length;var r={};var i=qo(t,(function(t){if(!r.hasOwnProperty(t[0]+"")){r[t[0]+""]=-1}return t[2]}));var a=[];i.buckets.each((function(t,e){a.push({name:e,dataList:t})}));var n=a.length;for(var o=0;o<n;++o){var s=a[o].name;for(var l=0;l<a[o].dataList.length;++l){var u=a[o].dataList[l][0]+"";r[u]=o}for(var u in r){if(r.hasOwnProperty(u)&&r[u]!==o){r[u]=o;t[e]=[u,0,s];e++}}}return t};e.prototype.getInitialData=function(t,e){var r=this.getReferringComponents("singleAxis",Ho).models[0];var i=r.get("type");var a=q(t.data,(function(t){return t[2]!==undefined}));var n=this.fixData(a||[]);var o=this.nameMap=Ct();var s=0;for(var l=0;l<n.length;++l){if(!o.get(n[l][XF])){o.set(n[l][XF],s);s++}}var u=Bb(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:db(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions;var f=new Vb(u,this);f.initData(n);return f};e.prototype.getLayerSeries=function(){var t=this.getData();var e=t.count();var r=[];for(var i=0;i<e;++i){r[i]=i}var a=t.mapDimension("single");var n=qo(r,(function(e){return t.get("name",e)}));var o=[];n.buckets.each((function(e,r){e.sort((function(e,r){return t.get(a,e)-t.get(a,r)}));o.push({name:r,indices:e})}));return o};e.prototype.getAxisTooltipData=function(t,e,r){if(!et(t)){t=t?[t]:[]}var i=this.getData();var a=this.getLayerSeries();var n=[];var o=a.length;var s;for(var l=0;l<o;++l){var u=Number.MAX_VALUE;var f=-1;var h=a[l].indices.length;for(var c=0;c<h;++c){var v=i.get(t[0],a[l].indices[c]);var d=Math.abs(v-e);if(d<=u){s=v;u=d;f=a[l].indices[c]}}n.push(f)}return{dataIndices:n,nestestValue:s}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getName(t);var n=i.get(i.mapDimension("value"),t);return Vy("nameValue",{name:a,value:n})};e.type="series.themeRiver";e.dependencies=["singleAxis"];e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return e}(nm);function jF(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData();var r=t.coordinateSystem;var i={};var a=r.getRect();i.rect=a;var n=t.get("boundaryGap");var o=r.getAxis();i.boundaryGap=n;if(o.orient==="horizontal"){n[0]=Vn(n[0],a.height);n[1]=Vn(n[1],a.height);var s=a.height-n[0]-n[1];qF(e,t,s)}else{n[0]=Vn(n[0],a.width);n[1]=Vn(n[1],a.width);var l=a.width-n[0]-n[1];qF(e,t,l)}e.setLayout("layoutInfo",i)}))}function qF(t,e,r){if(!t.count()){return}var i=e.coordinateSystem;var a=e.getLayerSeries();var n=t.mapDimension("single");var o=t.mapDimension("value");var s=Z(a,(function(e){return Z(e.indices,(function(e){var r=i.dataToPoint(t.get(n,e));r[1]=t.get(o,e);return r}))}));var l=KF(s);var u=l.y0;var f=r/l.max;var h=a.length;var c=a[0].indices.length;var v;for(var d=0;d<c;++d){v=u[d]*f;t.setItemLayout(a[0].indices[d],{layerIndex:0,x:s[0][d][0],y0:v,y:s[0][d][1]*f});for(var p=1;p<h;++p){v+=s[p-1][d][1]*f;t.setItemLayout(a[p].indices[d],{layerIndex:p,x:s[p][d][0],y0:v,y:s[p][d][1]*f})}}}function KF(t){var e=t.length;var r=t[0].length;var i=[];var a=[];var n=0;for(var o=0;o<r;++o){var s=0;for(var l=0;l<e;++l){s+=t[l][o][1]}if(s>n){n=s}i.push(s)}for(var u=0;u<r;++u){a[u]=(n-i[u])/2}n=0;for(var f=0;f<r;++f){var h=i[f]+a[f];if(h>n){n=h}}return{y0:a,max:n}}function $F(t){t.registerChartView(YF);t.registerSeriesModel(ZF);t.registerLayout(jF);t.registerProcessor(iA("themeRiver"))}var JF=2;var QF=4;var tG=function(t){u(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.z2=JF;n.textConfig={inside:true};Tu(n).seriesIndex=r.seriesIndex;var o=new cu({z2:QF,silent:e.getModel().get(["label","silent"])});n.setTextContent(o);n.updateData(true,e,r,i,a);return n}e.prototype.updateData=function(t,e,r,i,a){this.node=e;e.piece=this;r=r||this._seriesModel;i=i||this._ecModel;var n=this;Tu(n).dataIndex=e.dataIndex;var o=e.getModel();var s=o.getModel("emphasis");var l=e.getLayout();var u=F({},l);u.label=null;var f=e.getVisual("style");f.lineJoin="bevel";var h=e.getVisual("decal");if(h){f.decal=Sx(h,a)}var c=fA(o.getModel("itemStyle"),u,true);F(u,c);X(Ru,(function(t){var e=n.ensureState(t);var r=o.getModel([t,"itemStyle"]);e.style=r.getItemStyle();var i=fA(r,u);if(i){e.shape=i}}));if(t){n.setShape(u);n.shape.r=l.r0;fc(n,{shape:{r:l.r}},r,e.dataIndex)}else{fc(n,{shape:u},r);gc(n)}n.useStyle(f);this._updateLabel(r);var v=o.getShallow("cursor");v&&n.attr("cursor",v);this._seriesModel=r||this._seriesModel;this._ecModel=i||this._ecModel;var d=s.get("focus");var p=d==="ancestor"?e.getAncestorsIndices():d==="descendant"?e.getDescendantIndices():d;Lf(this,p,s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t){var e=this;var r=this.node.getModel();var i=r.getModel("label");var a=this.node.getLayout();var n=a.endAngle-a.startAngle;var o=(a.startAngle+a.endAngle)/2;var s=Math.cos(o);var l=Math.sin(o);var u=this;var f=u.getTextContent();var h=this.node.dataIndex;var c=i.get("minAngle")/180*Math.PI;var v=i.get("show")&&!(c!=null&&Math.abs(n)<c);f.ignore=!v;X(Eu,(function(i){var c=i==="normal"?r.getModel("label"):r.getModel([i,"label"]);var v=i==="normal";var p=v?f:f.ensureState(i);var g=t.getFormattedLabel(h,i);if(v){g=g||e.node.name}p.style=rv(c,{},null,i!=="normal",true);if(g){p.style.text=g}var y=c.get("show");if(y!=null&&!v){p.ignore=!y}var m=d(c,"position");var _=v?u:u.states[i];var x=_.style.fill;_.textConfig={outsideFill:c.get("color")==="inherit"?x:null,inside:m!=="outside"};var w;var b=d(c,"distance")||0;var S=d(c,"align");if(m==="outside"){w=a.r+b;S=o>Math.PI/2?"right":"left"}else{if(!S||S==="center"){if(n===2*Math.PI&&a.r0===0){w=0}else{w=(a.r+a.r0)/2}S="center"}else if(S==="left"){w=a.r0+b;if(o>Math.PI/2){S="right"}}else if(S==="right"){w=a.r-b;if(o>Math.PI/2){S="left"}}}p.style.align=S;p.style.verticalAlign=d(c,"verticalAlign")||"middle";p.x=w*s+a.cx;p.y=w*l+a.cy;var M=d(c,"rotate");var I=0;if(M==="radial"){I=-o;if(I<-Math.PI/2){I+=Math.PI}}else if(M==="tangential"){I=Math.PI/2-o;if(I>Math.PI/2){I-=Math.PI}else if(I<-Math.PI/2){I+=Math.PI}}else if(nt(M)){I=M*Math.PI/180}p.rotation=I}));function d(t,e){var r=t.get(e);if(r==null){return i.get(e)}return r}f.dirtyStyle()};return e}(Ph);var eG="sunburstRootToNode";var rG="sunburstHighlight";var iG="sunburstUnhighlight";function aG(t){t.registerAction({type:eG,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(e,r){var i=wO(t,[eG],e);if(i){var a=e.getViewRoot();if(a){t.direction=SO(a,i.node)?"rollUp":"drillDown"}e.resetViewRoot(i.node)}}}));t.registerAction({type:rG,update:"none"},(function(t,e,r){t=F({},t);e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(e){var r=wO(t,[rG],e);if(r){t.dataIndex=r.node.dataIndex}}r.dispatchAction(F(t,{type:"highlight"}))}));t.registerAction({type:iG,update:"updateView"},(function(t,e,r){t=F({},t);r.dispatchAction(F(t,{type:"downplay"}))}))}var nG=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){var a=this;this.seriesModel=t;this.api=r;this.ecModel=e;var n=t.getData();var o=n.tree.root;var s=t.getViewRoot();var l=this.group;var u=t.get("renderLabelForZeroData");var f=[];s.eachNode((function(t){f.push(t)}));var h=this._oldChildren||[];c(f,h);p(o,s);this._initEvents();this._oldChildren=f;function c(t,e){if(t.length===0&&e.length===0){return}new fb(e,t,r,r).add(i).update(i).remove(tt(i,null)).execute();function r(t){return t.getId()}function i(r,i){var a=r==null?null:t[r];var n=i==null?null:e[i];v(a,n)}}function v(i,a){if(!u&&i&&!i.getValue()){i=null}if(i!==o&&a!==o){if(a&&a.piece){if(i){a.piece.updateData(false,i,t,e,r);n.setItemGraphicEl(i.dataIndex,a.piece)}else{d(a)}}else if(i){var s=new tG(i,t,e,r);l.add(s);n.setItemGraphicEl(i.dataIndex,s)}}}function d(t){if(!t){return}if(t.piece){l.remove(t.piece);t.piece=null}}function p(i,n){if(n.depth>0){if(a.virtualPiece){a.virtualPiece.updateData(false,i,t,e,r)}else{a.virtualPiece=new tG(i,t,e,r);l.add(a.virtualPiece)}n.piece.off("click");a.virtualPiece.on("click",(function(t){a._rootToNode(n.parentNode)}))}else if(a.virtualPiece){l.remove(a.virtualPiece);a.virtualPiece=null}}};e.prototype._initEvents=function(){var t=this;this.group.off("click");this.group.on("click",(function(e){var r=false;var i=t.seriesModel.getViewRoot();i.eachNode((function(i){if(!r&&i.piece&&i.piece===e.target){var a=i.getModel().get("nodeClick");if(a==="rootToNode"){t._rootToNode(i)}else if(a==="link"){var n=i.getModel();var o=n.get("link");if(o){var s=n.get("target",true)||"_blank";kd(o,s)}}r=true}}))}))};e.prototype._rootToNode=function(t){if(t!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:eG,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})}};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="sunburst";return e}(mm);var oG=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreStyleOnData=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};sG(r);var i=this._levelModels=Z(t.levels||[],(function(t){return new Mv(t,this,e)}),this);var a=_O.createTree(r,this,n);function n(t){t.wrapMethod("getItemModel",(function(t,e){var r=a.getNodeByDataIndex(e);var n=i[r.depth];n&&(t.parentModel=n);return t}))}return a.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treePathInfo=MO(i,this);return r};e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){RO(this)};e.type="series.sunburst";e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};return e}(nm);function sG(t){var e=0;X(t.children,(function(t){sG(t);var r=t.value;et(r)&&(r=r[0]);e+=r}));var r=t.value;if(et(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}et(t.value)?t.value[0]=r:t.value=r}var lG=Math.PI/180;function uG(t,e,r){e.eachSeriesByType(t,(function(t){var e=t.get("center");var i=t.get("radius");if(!et(i)){i=[0,i]}if(!et(e)){e=[e,e]}var a=r.getWidth();var n=r.getHeight();var o=Math.min(a,n);var s=Vn(e[0],a);var l=Vn(e[1],n);var u=Vn(i[0],o/2);var f=Vn(i[1],o/2);var h=-t.get("startAngle")*lG;var c=t.get("minAngle")*lG;var v=t.getData().tree.root;var d=t.getViewRoot();var p=d.depth;var g=t.get("sort");if(g!=null){fG(d,g)}var y=0;X(d.children,(function(t){!isNaN(t.getValue())&&y++}));var m=d.getValue();var _=Math.PI/(m||y)*2;var x=d.depth>0;var w=d.height-(x?-1:1);var b=(f-u)/(w||1);var S=t.get("clockwise");var M=t.get("stillShowZeroSum");var I=S?1:-1;var T=function(e,r){if(!e){return}var i=r;if(e!==v){var a=e.getValue();var n=m===0&&M?_:a*_;if(n<c){n=c}i=r+I*n;var f=e.depth-p-(x?-1:1);var h=u+b*f;var d=u+b*(f+1);var g=t.getLevelModel(e);if(g){var y=g.get("r0",true);var w=g.get("r",true);var D=g.get("radius",true);if(D!=null){y=D[0];w=D[1]}y!=null&&(h=Vn(y,o/2));w!=null&&(d=Vn(w,o/2))}e.setLayout({angle:n,startAngle:r,endAngle:i,clockwise:S,cx:s,cy:l,r0:h,r:d})}if(e.children&&e.children.length){var C=0;X(e.children,(function(t){C+=T(t,r+C)}))}return i-r};if(x){var D=u;var C=u+b;var A=Math.PI*2;v.setLayout({angle:A,startAngle:h,endAngle:h+A,clockwise:S,cx:s,cy:l,r0:D,r:C})}T(d,h)}))}function fG(t,e){var r=t.children||[];t.children=hG(r,e);if(r.length){X(t.children,(function(t){fG(t,e)}))}}function hG(t,e){if(rt(e)){var r=Z(t,(function(t,e){var r=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return r}},index:e}}));r.sort((function(t,r){return e(t.params,r.params)}));return Z(r,(function(e){return t[e.index]}))}else{var i=e==="asc";return t.sort((function(t,e){var r=(t.getValue()-e.getValue())*(i?1:-1);return r===0?(t.dataIndex-e.dataIndex)*(i?-1:1):r}))}}function cG(t){var e={};function r(t,r,i){var a=t;while(a&&a.depth>1){a=a.parentNode}var n=r.getColorFromPalette(a.name||a.dataIndex+"",e);if(t.depth>1&&it(n)){n=Si(n,(t.depth-1)/(i-1)*.5)}return n}t.eachSeriesByType("sunburst",(function(t){var e=t.getData();var i=e.tree;i.eachNode((function(a){var n=a.getModel();var o=n.getModel("itemStyle").getItemStyle();if(!o.fill){o.fill=r(a,t,i.root.height)}var s=e.ensureUniqueItemVisual(a.dataIndex,"style");F(s,o)}))}))}function vG(t){t.registerChartView(nG);t.registerSeriesModel(oG);t.registerLayout(tt(uG,"sunburst"));t.registerProcessor(tt(iA,"sunburst"));t.registerVisual(cG);aG(t)}var dG={color:"fill",borderColor:"stroke"};var pG={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var gG=Bo();var yG=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};e.prototype.getInitialData=function(t,e){return Qb(null,this)};e.prototype.getDataParams=function(e,r,i){var a=t.prototype.getDataParams.call(this,e,r);i&&(a.info=gG(i).info);return a};e.type="series.custom";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,clip:false};return e}(nm);function mG(t,e){e=e||[0,0];return Z(["x","y"],(function(r,i){var a=this.getAxis(r);var n=e[i];var o=t[i]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(n-o)-a.dataToCoord(n+o))}),this)}function _G(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Q(mG,t)}}}function xG(t,e){e=e||[0,0];return Z([0,1],(function(r){var i=e[r];var a=t[r]/2;var n=[];var o=[];n[r]=i-a;o[r]=i+a;n[1-r]=o[1-r]=e[1-r];return Math.abs(this.dataToPoint(n)[r]-this.dataToPoint(o)[r])}),this)}function wG(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:Q(xG,t)}}}function bG(t,e){var r=this.getAxis();var i=e instanceof Array?e[0]:e;var a=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(i-a)-r.dataToCoord(i+a))}function SG(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Q(bG,t)}}}function MG(t,e){e=e||[0,0];return Z(["Radius","Angle"],(function(r,i){var a="get"+r+"Axis";var n=this[a]();var o=e[i];var s=t[i]/2;var l=n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s));if(r==="Angle"){l=l*Math.PI/180}return l}),this)}function IG(t){var e=t.getRadiusAxis();var r=t.getAngleAxis();var i=e.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]);var n=r.dataToAngle(i[1]);var o=t.coordToPoint([a,n]);o.push(a,n*Math.PI/180);return o},size:Q(MG,t)}}}function TG(t){var e=t.getRect();var r=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(e,r){return t.dataToPoint(e,r)}}}}function DG(t,e,r,i){return t&&(t.legacy||t.legacy!==false&&!r&&!i&&e!=="tspan"&&(e==="text"||Pt(t,"text")))}function CG(t,e,r){var i=t;var a;var n;var o;if(e==="text"){o=i}else{o={};Pt(i,"text")&&(o.text=i.text);Pt(i,"rich")&&(o.rich=i.rich);Pt(i,"textFill")&&(o.fill=i.textFill);Pt(i,"textStroke")&&(o.stroke=i.textStroke);Pt(i,"fontFamily")&&(o.fontFamily=i.fontFamily);Pt(i,"fontSize")&&(o.fontSize=i.fontSize);Pt(i,"fontStyle")&&(o.fontStyle=i.fontStyle);Pt(i,"fontWeight")&&(o.fontWeight=i.fontWeight);n={type:"text",style:o,silent:true};a={};var s=Pt(i,"textPosition");if(r){a.position=s?i.textPosition:"inside"}else{s&&(a.position=i.textPosition)}Pt(i,"textPosition")&&(a.position=i.textPosition);Pt(i,"textOffset")&&(a.offset=i.textOffset);Pt(i,"textRotation")&&(a.rotation=i.textRotation);Pt(i,"textDistance")&&(a.distance=i.textDistance)}AG(o,t);X(o.rich,(function(t){AG(t,t)}));return{textConfig:a,textContent:n}}function AG(t,e){if(!e){return}e.font=e.textFont||e.font;Pt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth);Pt(e,"textAlign")&&(t.align=e.textAlign);Pt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign);Pt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight);Pt(e,"textWidth")&&(t.width=e.textWidth);Pt(e,"textHeight")&&(t.height=e.textHeight);Pt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor);Pt(e,"textPadding")&&(t.padding=e.textPadding);Pt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor);Pt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth);Pt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius);Pt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor);Pt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur);Pt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX);Pt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY)}function kG(t,e,r){var i=t;i.textPosition=i.textPosition||r.position||"inside";r.offset!=null&&(i.textOffset=r.offset);r.rotation!=null&&(i.textRotation=r.rotation);r.distance!=null&&(i.textDistance=r.distance);var a=i.textPosition.indexOf("inside")>=0;var n=t.fill||"#000";LG(i,e);var o=i.textFill==null;if(a){if(o){i.textFill=r.insideFill||"#fff";!i.textStroke&&r.insideStroke&&(i.textStroke=r.insideStroke);!i.textStroke&&(i.textStroke=n);i.textStrokeWidth==null&&(i.textStrokeWidth=2)}}else{if(o){i.textFill=t.fill||r.outsideFill||"#000"}!i.textStroke&&r.outsideStroke&&(i.textStroke=r.outsideStroke)}i.text=e.text;i.rich=e.rich;X(e.rich,(function(t){LG(t,t)}));return i}function LG(t,e){if(!e){return}Pt(e,"fill")&&(t.textFill=e.fill);Pt(e,"stroke")&&(t.textStroke=e.fill);Pt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth);Pt(e,"font")&&(t.font=e.font);Pt(e,"fontStyle")&&(t.fontStyle=e.fontStyle);Pt(e,"fontWeight")&&(t.fontWeight=e.fontWeight);Pt(e,"fontSize")&&(t.fontSize=e.fontSize);Pt(e,"fontFamily")&&(t.fontFamily=e.fontFamily);Pt(e,"align")&&(t.textAlign=e.align);Pt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign);Pt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight);Pt(e,"width")&&(t.textWidth=e.width);Pt(e,"height")&&(t.textHeight=e.height);Pt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor);Pt(e,"padding")&&(t.textPadding=e.padding);Pt(e,"borderColor")&&(t.textBorderColor=e.borderColor);Pt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth);Pt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius);Pt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor);Pt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur);Pt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX);Pt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY);Pt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor);Pt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur);Pt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX);Pt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY)}var PG={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};var OG=$(PG);var NG=j(en,(function(t,e){t[e]=1;return t}),{});var RG=["","style","shape","extra"];var EG=Bo();function zG(t,e,r,i,a){var n=t+"Animation";var o=lc(t,i,a)||{};var s=EG(e).userDuring;if(o.duration>0){o.during=s?Q(ZG,{el:e,userDuring:s}):null;o.setToFinal=true;o.scope=t}F(o,r[n]);return o}function VG(t,e,r,i){i=i||{};var a=i.dataIndex,n=i.isInit,o=i.clearStyle;var s=r.isAnimationEnabled();var l=EG(t);var u=e.style;l.userDuring=e.during;var f={};var h={};$G(t,e,h);qG("shape",e,h);qG("extra",e,h);if(!n&&s){KG(t,e,f);jG("shape",t,e,f);jG("extra",t,e,f);JG(t,e,u,f)}h.style=u;WG(t,h,o);YG(t,e);if(s){if(n){var c={};X(RG,(function(t){var r=t?e[t]:e;if(r&&r.enterFrom){if(t){c[t]=c[t]||{}}F(t?c[t]:c,r.enterFrom)}}));var v=zG("enter",t,e,r,a);if(v.duration>0){t.animateFrom(c,v)}}else{HG(t,e,a||0,r,f)}}BG(t,e);u?t.dirty():t.markRedraw()}function BG(t,e){var r=EG(t).leaveToProps;for(var i=0;i<RG.length;i++){var a=RG[i];var n=a?e[a]:e;if(n&&n.leaveTo){if(!r){r=EG(t).leaveToProps={}}if(a){r[a]=r[a]||{}}F(a?r[a]:r,n.leaveTo)}}}function FG(t,e,r,i){if(t){var a=t.parent;var n=EG(t).leaveToProps;if(n){var o=zG("update",t,e,r,0);o.done=function(){a.remove(t);i&&i()};t.animateTo(n,o)}else{a.remove(t);i&&i()}}}function GG(t){return t==="all"}function WG(t,e,r){var i=e.style;if(!t.isGroup&&i){if(r){t.useStyle({});var a=t.animators;for(var n=0;n<a.length;n++){var o=a[n];if(o.targetName==="style"){o.changeTarget(t.style)}}}t.setStyle(i)}if(e){e.style=null;e&&t.attr(e);e.style=i}}function HG(t,e,r,i,a){if(a){var n=zG("update",t,e,i,r);if(n.duration>0){t.animateFrom(a,n)}}}function YG(t,e){Pt(e,"silent")&&(t.silent=e.silent);Pt(e,"ignore")&&(t.ignore=e.ignore);if(t instanceof Fs){Pt(e,"invisible")&&(t.invisible=e.invisible)}if(t instanceof jl){Pt(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}}var UG={};var XG={setTransform:function(t,e){UG.el[t]=e;return this},getTransform:function(t){return UG.el[t]},setShape:function(t,e){var r=UG.el;var i=r.shape||(r.shape={});i[t]=e;r.dirtyShape&&r.dirtyShape();return this},getShape:function(t){var e=UG.el.shape;if(e){return e[t]}},setStyle:function(t,e){var r=UG.el;var i=r.style;if(i){i[t]=e;r.dirtyStyle&&r.dirtyStyle()}return this},getStyle:function(t){var e=UG.el.style;if(e){return e[t]}},setExtra:function(t,e){var r=UG.el.extra||(UG.el.extra={});r[t]=e;return this},getExtra:function(t){var e=UG.el.extra;if(e){return e[t]}}};function ZG(){var t=this;var e=t.el;if(!e){return}var r=EG(e).userDuring;var i=t.userDuring;if(r!==i){t.el=t.userDuring=null;return}UG.el=e;i(XG)}function jG(t,e,r,i){var a=r[t];if(!a){return}var n=e[t];var o;if(n){var s=r.transition;var l=a.transition;if(l){!o&&(o=i[t]={});if(GG(l)){F(o,n)}else{var u=yo(l);for(var f=0;f<u.length;f++){var h=u[f];var c=n[h];o[h]=c}}}else if(GG(s)||W(s,t)>=0){!o&&(o=i[t]={});var v=$(n);for(var f=0;f<v.length;f++){var h=v[f];var c=n[h];if(QG(a[h],c)){o[h]=c}}}}}function qG(t,e,r){var i=e[t];if(!i){return}var a=r[t]={};var n=$(i);for(var o=0;o<n.length;o++){var s=n[o];a[s]=na(i[s])}}function KG(t,e,r){var i=e.transition;var a=GG(i)?en:yo(i||[]);for(var n=0;n<a.length;n++){var o=a[n];if(o==="style"||o==="shape"||o==="extra"){continue}var s=t[o];r[o]=s}}function $G(t,e,r){for(var i=0;i<OG.length;i++){var a=OG[i];var n=PG[a];var o=e[a];if(o){r[n[0]]=o[0];r[n[1]]=o[1]}}for(var i=0;i<en.length;i++){var s=en[i];if(e[s]!=null){r[s]=e[s]}}}function JG(t,e,r,i){if(!r){return}var a=t.style;var n;if(a){var o=r.transition;var s=e.transition;if(o&&!GG(o)){var l=yo(o);!n&&(n=i.style={});for(var u=0;u<l.length;u++){var f=l[u];var h=a[f];n[f]=h}}else if(t.getAnimationStyleProps&&(GG(s)||GG(o)||W(s,"style")>=0)){var c=t.getAnimationStyleProps();var v=c?c.style:null;if(v){!n&&(n=i.style={});var d=$(r);for(var u=0;u<d.length;u++){var f=d[u];if(v[f]){var h=a[f];n[f]=h}}}}}}function QG(t,e){return!U(t)?t!=null&&isFinite(t):t!==e}var tW=Bo();var eW=["percent","easing","shape","style","extra"];function rW(t){t.stopAnimation("keyframe");t.attr(tW(t))}function iW(t,e,r){if(!r.isAnimationEnabled()||!e){return}if(et(e)){X(e,(function(e){iW(t,e,r)}));return}var i=e.keyframes;var a=e.duration;if(r&&a==null){var n=lc("enter",r,0);a=n&&n.duration}if(!i||!a){return}var o=tW(t);X(RG,(function(r){if(r&&!t[r]){return}var n;i.sort((function(t,e){return t.percent-e.percent}));X(i,(function(i){var s=t.animators;var l=r?i[r]:i;if(!l){return}var u=$(l);if(!r){u=q(u,(function(t){return W(eW,t)<0}))}if(!u.length){return}if(!n){n=t.animate(r,e.loop,true);n.scope="keyframe"}for(var f=0;f<s.length;f++){if(s[f]!==n&&s[f].targetName===n.targetName){s[f].stopTracks(u)}}r&&(o[r]=o[r]||{});var h=r?o[r]:o;X(u,(function(e){h[e]=((r?t[r]:t)||{})[e]}));n.whenWithKeys(a*i.percent,l,u,i.easing)}));if(!n){return}n.delay(e.delay||0).duration(a).start(e.easing)}))}var aW="emphasis";var nW="normal";var oW="blur";var sW="select";var lW=[nW,aW,oW,sW];var uW={normal:["itemStyle"],emphasis:[aW,"itemStyle"],blur:[oW,"itemStyle"],select:[sW,"itemStyle"]};var fW={normal:["label"],emphasis:[aW,"label"],blur:[oW,"label"],select:[sW,"label"]};var hW=["x","y"];var cW="e\0\0";var vW={normal:{},emphasis:{},blur:{},select:{}};var dW={cartesian2d:_G,geo:wG,single:SG,polar:IG,calendar:TG};function pW(t){return t instanceof jl}function gW(t){return t instanceof Fs}function yW(t,e){e.copyTransform(t);if(gW(e)&&gW(t)){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel;e.invisible=t.invisible;e.ignore=t.ignore;if(pW(e)&&pW(t)){e.setShape(t.shape)}}}var mW=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){this._progressiveEls=null;var a=this._data;var n=t.getData();var o=this.group;var s=MW(t,n,e,r);if(!a){o.removeAll()}n.diff(a).add((function(e){TW(r,null,e,s(e,i),t,o,n)})).remove((function(e){var r=a.getItemGraphicEl(e);r&&FG(r,gG(r).option,t)})).update((function(e,l){var u=a.getItemGraphicEl(l);TW(r,u,e,s(e,i),t,o,n)})).execute();var l=t.get("clip",true)?jD(t.coordinateSystem,false,t):null;if(l){o.setClipPath(l)}else{o.removeClipPath()}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll();this._data=null};e.prototype.incrementalRender=function(t,e,r,i,a){var n=e.getData();var o=MW(e,n,r,i);var s=this._progressiveEls=[];function l(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var u=t.start;u<t.end;u++){var f=TW(null,null,u,o(u,a),e,this.group,n);if(f){f.traverse(l);s.push(f)}}};e.prototype.eachRendered=function(t){qc(this._progressiveEls||this.group,t)};e.prototype.filterForExposedEvent=function(t,e,r,i){var a=e.element;if(a==null||r.name===a){return true}while((r=r.__hostTarget||r.parent)&&r!==this.group){if(r.name===a){return true}}return false};e.type="custom";return e}(mm);function _W(t){var e=t.type;var r;if(e==="path"){var i=t.shape;var a=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null;var n=FW(i);r=Tc(n,null,a,i.layout||"center");gG(r).customPathData=n}else if(e==="image"){r=new tu({});gG(r).customImagePath=t.style.image}else if(e==="text"){r=new cu({})}else if(e==="group"){r=new Tn}else if(e==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var o=Ic(e);if(!o){var s="";co(s)}r=new o}gG(r).customGraphicType=e;r.name=t.name;r.z2EmphasisLift=1;r.z2SelectLift=1;return r}function xW(t,e,r,i,a,n,o){rW(e);var s=a&&a.normal.cfg;if(s){e.setTextConfig(s)}if(i&&i.transition==null){i.transition=hW}var l=i&&i.style;if(l){if(e.type==="text"){var u=l;Pt(u,"textFill")&&(u.fill=u.textFill);Pt(u,"textStroke")&&(u.stroke=u.textStroke)}var f=void 0;var h=pW(e)?l.decal:null;if(t&&h){h.dirty=true;f=Sx(h,t)}l.__decalPattern=f}if(gW(e)){if(l){var f=l.__decalPattern;if(f){l.decal=f}}}VG(e,i,n,{dataIndex:r,isInit:o,clearStyle:true});iW(e,i.keyframeAnimation,n)}function wW(t,e,r,i,a){var n=e.isGroup?null:e;var o=a&&a[t].cfg;if(n){var s=n.ensureState(t);if(i===false){var l=n.getState(t);if(l){l.style=null}}else{s.style=i||null}if(o){s.textConfig=o}uf(n)}}function bW(t,e,r){if(t.isGroup){return}var i=t;var a=r.currentZ;var n=r.currentZLevel;i.z=a;i.zlevel=n;var o=e.z2;o!=null&&(i.z2=o||0);for(var s=0;s<lW.length;s++){SW(i,e,lW[s])}}function SW(t,e,r){var i=r===nW;var a=i?e:PW(e,r);var n=a?a.z2:null;var o;if(n!=null){o=i?t:t.ensureState(r);o.z2=n||0}}function MW(t,e,r,i){var a=t.get("renderItem");var n=t.coordinateSystem;var o={};if(n){o=n.prepareCustoms?n.prepareCustoms(n):dW[n.type](n)}var s=G({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:x,style:b,ordinalRawValue:w,styleEmphasis:S,visual:T,barLayout:D,currentSeriesIndices:C,font:A},o.api||{});var l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:IW(t.getData())};var u;var f;var h={};var c={};var v={};var d={};for(var p=0;p<lW.length;p++){var g=lW[p];v[g]=t.getModel(uW[g]);d[g]=t.getModel(fW[g])}function y(t){return t===u?f||(f=e.getItemModel(t)):e.getItemModel(t)}function m(t,r){return!e.hasItemOption?v[r]:t===u?h[r]||(h[r]=y(t).getModel(uW[r])):y(t).getModel(uW[r])}function _(t,r){return!e.hasItemOption?d[r]:t===u?c[r]||(c[r]=y(t).getModel(fW[r])):y(t).getModel(fW[r])}return function(t,r){u=t;f=null;h={};c={};return a&&a(G({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:r?r.type:null},l),s)};function x(t,r){r==null&&(r=u);return e.getStore().get(e.getDimensionIndex(t||0),r)}function w(t,r){r==null&&(r=u);t=t||0;var i=e.getDimensionInfo(t);if(!i){var a=e.getDimensionIndex(t);return a>=0?e.getStore().get(a,r):undefined}var n=e.get(i.name,r);var o=i&&i.ordinalMeta;return o?o.categories[n]:n}function b(r,i){i==null&&(i=u);var a=e.getItemVisual(i,"style");var n=a&&a.fill;var o=a&&a.opacity;var s=m(i,nW).getItemStyle();n!=null&&(s.fill=n);o!=null&&(s.opacity=o);var l={inheritColor:it(n)?n:"#000"};var f=_(i,nW);var h=rv(f,null,l,false,true);h.text=f.getShallow("show")?pt(t.getFormattedLabel(i,nW),ID(e,i)):null;var c=iv(f,l,false);I(r,s);s=kG(s,h,c);r&&M(s,r);s.legacy=true;return s}function S(r,i){i==null&&(i=u);var a=m(i,aW).getItemStyle();var n=_(i,aW);var o=rv(n,null,null,true,true);o.text=n.getShallow("show")?gt(t.getFormattedLabel(i,aW),t.getFormattedLabel(i,nW),ID(e,i)):null;var s=iv(n,null,true);I(r,a);a=kG(a,o,s);r&&M(a,r);a.legacy=true;return a}function M(t,e){for(var r in e){if(Pt(e,r)){t[r]=e[r]}}}function I(t,e){if(t){t.textFill&&(e.textFill=t.textFill);t.textPosition&&(e.textPosition=t.textPosition)}}function T(t,r){r==null&&(r=u);if(Pt(dG,t)){var i=e.getItemVisual(r,"style");return i?i[dG[t]]:null}if(Pt(pG,t)){return e.getItemVisual(r,t)}}function D(t){if(n.type==="cartesian2d"){var e=n.getBaseAxis();return MS(G({axis:e},t))}}function C(){return r.getCurrentSeriesIndices()}function A(t){return fv(t,r)}}function IW(t){var e={};X(t.dimensions,(function(r){var i=t.getDimensionInfo(r);if(!i.isExtraCoord){var a=i.coordDim;var n=e[a]=e[a]||[];n[i.coordDimIndex]=t.getDimensionIndex(r)}}));return e}function TW(t,e,r,i,a,n,o){if(!i){n.remove(e);return}var s=DW(t,e,r,i,a,n);s&&o.setItemGraphicEl(r,s);s&&Lf(s,i.focus,i.blurScope,i.emphasisDisabled);return s}function DW(t,e,r,i,a,n){var o=-1;var s=e;if(e&&CW(e,i,a)){o=W(n.childrenRef(),e);e=null}var l=!e;var u=e;if(!u){u=_W(i);if(s){yW(s,u)}}else{u.clearStates()}if(i.morph===false){u.disableMorphing=true}else if(u.disableMorphing){u.disableMorphing=false}vW.normal.cfg=vW.normal.conOpt=vW.emphasis.cfg=vW.emphasis.conOpt=vW.blur.cfg=vW.blur.conOpt=vW.select.cfg=vW.select.conOpt=null;vW.isLegacy=false;kW(u,r,i,a,l,vW);AW(u,r,i,a,l);xW(t,u,r,i,vW,a,l);Pt(i,"info")&&(gG(u).info=i.info);for(var f=0;f<lW.length;f++){var h=lW[f];if(h!==nW){var c=PW(i,h);var v=OW(i,c,h);wW(h,u,c,v,vW)}}bW(u,i,a);if(i.type==="group"){NW(t,u,r,i,a)}if(o>=0){n.replaceAt(u,o)}else{n.add(u)}return u}function CW(t,e,r){var i=gG(t);var a=e.type;var n=e.shape;var o=e.style;return(r.isUniversalTransitionEnabled()||a!=null&&a!==i.customGraphicType||a==="path"&&GW(n)&&FW(n)!==i.customPathData||a==="image"&&Pt(o,"image")&&o.image!==i.customImagePath)}function AW(t,e,r,i,a){var n=r.clipPath;if(n===false){if(t&&t.getClipPath()){t.removeClipPath()}}else if(n){var o=t.getClipPath();if(o&&CW(o,n,i)){o=null}if(!o){o=_W(n);t.setClipPath(o)}xW(null,o,e,n,null,i,a)}}function kW(t,e,r,i,a,n){if(t.isGroup){return}LW(r,null,n);LW(r,aW,n);var o=n.normal.conOpt;var s=n.emphasis.conOpt;var l=n.blur.conOpt;var u=n.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var f=t.getTextContent();if(o===false){f&&t.removeTextContent()}else{o=n.normal.conOpt=o||{type:"text"};if(!f){f=_W(o);t.setTextContent(f)}else{f.clearStates()}xW(null,f,e,o,null,i,a);var h=o&&o.style;for(var c=0;c<lW.length;c++){var v=lW[c];if(v!==nW){var d=n[v].conOpt;wW(v,f,d,OW(o,d,v),null)}}h?f.dirty():f.markRedraw()}}}function LW(t,e,r){var i=!e?t:PW(t,e);var a=!e?t.style:OW(t,i,aW);var n=t.type;var o=i?i.textConfig:null;var s=t.textContent;var l=!s?null:!e?s:PW(s,e);if(a&&(r.isLegacy||DG(a,n,!!o,!!l))){r.isLegacy=true;var u=CG(a,n,!e);if(!o&&u.textConfig){o=u.textConfig}if(!l&&u.textContent){l=u.textContent}}if(!e&&l){var f=l;!f.type&&(f.type="text")}var h=!e?r.normal:r[e];h.cfg=o;h.conOpt=l}function PW(t,e){return!e?t:t?t[e]:null}function OW(t,e,r){var i=e&&e.style;if(i==null&&r===aW&&t){i=t.styleEmphasis}return i}function NW(t,e,r,i,a){var n=i.children;var o=n?n.length:0;var s=i.$mergeChildren;var l=s==="byName"||i.diffChildrenByName;var u=s===false;if(!o&&!l&&!u){return}if(l){EW({api:t,oldChildren:e.children()||[],newChildren:n||[],dataIndex:r,seriesModel:a,group:e});return}u&&e.removeAll();var f=0;for(;f<o;f++){var h=n[f];var c=e.childAt(f);if(h){if(h.ignore==null){h.ignore=false}DW(t,c,r,h,a,e)}else{c.ignore=true}}for(var v=e.childCount()-1;v>=f;v--){var d=e.childAt(v);RW(e,d,a)}}function RW(t,e,r){e&&FG(e,gG(t).option,r)}function EW(t){new fb(t.oldChildren,t.newChildren,zW,zW,t).add(VW).update(VW).remove(BW).execute()}function zW(t,e){var r=t&&t.name;return r!=null?r:cW+e}function VW(t,e){var r=this.context;var i=t!=null?r.newChildren[t]:null;var a=e!=null?r.oldChildren[e]:null;DW(r.api,a,r.dataIndex,i,r.seriesModel,r.group)}function BW(t){var e=this.context;var r=e.oldChildren[t];r&&FG(r,gG(r).option,e.seriesModel)}function FW(t){return t&&(t.pathData||t.d)}function GW(t){return t&&(Pt(t,"pathData")||Pt(t,"d"))}function WW(t){t.registerChartView(mW);t.registerSeriesModel(yG)}var HW=Bo();var YW=z;var UW=Q;var XW=function(){function t(){this._dragging=false;this.animationThreshold=15}t.prototype.render=function(t,e,r,i){var a=e.get("value");var n=e.get("status");this._axisModel=t;this._axisPointerModel=e;this._api=r;if(!i&&this._lastValue===a&&this._lastStatus===n){return}this._lastValue=a;this._lastStatus=n;var o=this._group;var s=this._handle;if(!n||n==="hide"){o&&o.hide();s&&s.hide();return}o&&o.show();s&&s.show();var l={};this.makeElOption(l,a,t,e,r);var u=l.graphicKey;if(u!==this._lastGraphicKey){this.clear(r)}this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(t,e);if(!o){o=this._group=new Tn;this.createPointerEl(o,l,t,e);this.createLabelEl(o,l,t,e);r.getZr().add(o)}else{var h=tt(ZW,e,f);this.updatePointerEl(o,l,h);this.updateLabelEl(o,l,h,e)}$W(o,e,true);this._renderHandle(a)};t.prototype.remove=function(t){this.clear(t)};t.prototype.dispose=function(t){this.clear(t)};t.prototype.determineAnimation=function(t,e){var r=e.get("animation");var i=t.axis;var a=i.type==="category";var n=e.get("snap");if(!n&&!a){return false}if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o){return true}if(n){var s=gk(t).seriesDataCount;var l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return false}return r===true};t.prototype.makeElOption=function(t,e,r,i,a){};t.prototype.createPointerEl=function(t,e,r,i){var a=e.pointer;if(a){var n=HW(t).pointerEl=new Kc[a.type](YW(e.pointer));t.add(n)}};t.prototype.createLabelEl=function(t,e,r,i){if(e.label){var a=HW(t).labelEl=new cu(YW(e.label));t.add(a);qW(a,i)}};t.prototype.updatePointerEl=function(t,e,r){var i=HW(t).pointerEl;if(i&&e.pointer){i.setStyle(e.pointer.style);r(i,{shape:e.pointer.shape})}};t.prototype.updateLabelEl=function(t,e,r,i){var a=HW(t).labelEl;if(a){a.setStyle(e.label.style);r(a,{x:e.label.x,y:e.label.y});qW(a,i)}};t.prototype._renderHandle=function(t){if(this._dragging||!this.updateHandleTransform){return}var e=this._axisPointerModel;var r=this._api.getZr();var i=this._handle;var a=e.getModel("handle");var n=e.get("status");if(!a.get("show")||!n||n==="hide"){i&&r.remove(i);this._handle=null;return}var o;if(!this._handle){o=true;i=this._handle=Wc(a.get("icon"),{cursor:"move",draggable:true,onmousemove:function(t){Ce(t.event)},onmousedown:UW(this._onHandleDragMove,this,0,0),drift:UW(this._onHandleDragMove,this),ondragend:UW(this._onHandleDragEnd,this)});r.add(i)}$W(i,e,false);i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");if(!et(s)){s=[s,s]}i.scaleX=s[0]/2;i.scaleY=s[1]/2;Cm(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate");this._moveHandleToValue(t,o)};t.prototype._moveHandleToValue=function(t,e){ZW(this._axisPointerModel,!e&&this._moveAnimation,this._handle,KW(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))};t.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(!r){return}this._dragging=true;var i=this.updateHandleTransform(KW(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i;r.stopAnimation();r.attr(KW(i));HW(r).lastProp=null;this._doDispatchAxisPointer()};t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(!t){return}var e=this._payloadInfo;var r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})};t.prototype._onHandleDragEnd=function(){this._dragging=false;var t=this._handle;if(!t){return}var e=this._axisPointerModel.get("value");this._moveHandleToValue(e);this._api.dispatchAction({type:"hideTip"})};t.prototype.clear=function(t){this._lastValue=null;this._lastStatus=null;var e=t.getZr();var r=this._group;var i=this._handle;if(e&&r){this._lastGraphicKey=null;r&&e.remove(r);i&&e.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}Am(this,"_doDispatchAxisPointer")};t.prototype.doClear=function(){};t.prototype.buildLabel=function(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}};return t}();function ZW(t,e,r,i){if(!jW(HW(r).lastProp,i)){HW(r).lastProp=i;e?fc(r,i,t):(r.stopAnimation(),r.attr(i))}}function jW(t,e){if(ot(t)&&ot(e)){var r=true;X(e,(function(e,i){r=r&&jW(t[i],e)}));return!!r}else{return t===e}}function qW(t,e){t[e.get(["label","show"])?"show":"hide"]()}function KW(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function $W(t,e,r){var i=e.get("z");var a=e.get("zlevel");t&&t.traverse((function(t){if(t.type!=="group"){i!=null&&(t.z=i);a!=null&&(t.zlevel=a);t.silent=r}}))}function JW(t){var e=t.get("type");var r=t.getModel(e+"Style");var i;if(e==="line"){i=r.getLineStyle();i.fill=null}else if(e==="shadow"){i=r.getAreaStyle();i.stroke=null}return i}function QW(t,e,r,i,a){var n=r.get("value");var o=eH(n,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])});var s=r.getModel("label");var l=bd(s.get("padding")||0);var u=s.getFont();var f=sn(o,u);var h=a.position;var c=f.width+l[1]+l[3];var v=f.height+l[0]+l[2];var d=a.align;d==="right"&&(h[0]-=c);d==="center"&&(h[0]-=c/2);var p=a.verticalAlign;p==="bottom"&&(h[1]-=v);p==="middle"&&(h[1]-=v/2);tH(h,c,v,i);var g=s.get("backgroundColor");if(!g||g==="auto"){g=e.get(["axisLine","lineStyle","color"])}t.label={x:h[0],y:h[1],style:rv(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function tH(t,e,r,i){var a=i.getWidth();var n=i.getHeight();t[0]=Math.min(t[0]+e,a)-e;t[1]=Math.min(t[1]+r,n)-r;t[0]=Math.max(t[0],0);t[1]=Math.max(t[1],0)}function eH(t,e,r,i,a){t=e.scale.parse(t);var n=e.scale.getLabel({value:t},{precision:a.precision});var o=a.formatter;if(o){var s={value:vM(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};X(i,(function(t){var e=r.getSeriesByIndex(t.seriesIndex);var i=t.dataIndexInside;var a=e&&e.getDataParams(i);a&&s.seriesData.push(a)}));if(it(o)){n=o.replace("{value}",n)}else if(rt(o)){n=o(s)}}return n}function rH(t,e,r){var i=Ne();Be(i,i,r.rotation);Ve(i,i,r.position);return Rc([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function iH(t,e,r,i,a,n){var o=JA.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]);QW(e,i,a,n,{position:rH(i.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function aH(t,e,r){r=r||0;return{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function nH(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function oH(t,e,r,i,a,n){return{cx:t,cy:e,r0:r,r:i,startAngle:a,endAngle:n,clockwise:true}}var sH=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.grid;var s=i.get("type");var l=lH(o,n).getOtherAxis(n).getGlobalExtent();var u=n.toGlobalCoord(n.dataToCoord(e,true));if(s&&s!=="none"){var f=JW(i);var h=uH[s](n,u,l);h.style=f;t.graphicKey=h.type;t.pointer=h}var c=GA(o.model,r);iH(e,t,c,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=GA(e.axis.grid.model,e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=rH(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.grid;var o=a.getGlobalExtent(true);var s=lH(n,a).getOtherAxis(a).getGlobalExtent();var l=a.dim==="x"?0:1;var u=[t.x,t.y];u[l]+=e[l];u[l]=Math.min(o[1],u[l]);u[l]=Math.max(o[0],u[l]);var f=(s[1]+s[0])/2;var h=[f,f];h[l]=u[l];var c=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:c[l]}};return e}(XW);function lH(t,e){var r={};r[e.dim+"AxisIndex"]=e.index;return t.getCartesian(r)}var uH={line:function(t,e,r){var i=aH([e,r[0]],[e,r[1]],fH(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=Math.max(1,t.getBandWidth());var a=r[1]-r[0];return{type:"Rect",shape:nH([e-i/2,r[0]],[i,a],fH(t))}}};function fH(t){return t.dim==="x"?0:1}var hH=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="axisPointer";e.defaultOption={show:"auto",z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return e}(Zd);var cH=Bo();var vH=X;function dH(t,e,r){if(c.node){return}var i=e.getZr();cH(i).records||(cH(i).records={});pH(i,e);var a=cH(i).records[t]||(cH(i).records[t]={});a.handler=r}function pH(t,e){if(cH(t).initialized){return}cH(t).initialized=true;r("click",tt(mH,"click"));r("mousemove",tt(mH,"mousemove"));r("globalout",yH);function r(r,i){t.on(r,(function(r){var a=_H(e);vH(cH(t).records,(function(t){t&&i(t,r,a.dispatchAction)}));gH(a.pendings,e)}))}}function gH(t,e){var r=t.showTip.length;var i=t.hideTip.length;var a;if(r){a=t.showTip[r-1]}else if(i){a=t.hideTip[i-1]}if(a){a.dispatchAction=null;e.dispatchAction(a)}}function yH(t,e,r){t.handler("leave",null,r)}function mH(t,e,r,i){e.handler(t,r,i)}function _H(t){var e={showTip:[],hideTip:[]};var r=function(i){var a=e[i.type];if(a){a.push(i)}else{i.dispatchAction=r;t.dispatchAction(i)}};return{dispatchAction:r,pendings:e}}function xH(t,e){if(c.node){return}var r=e.getZr();var i=(cH(r).records||{})[t];if(i){cH(r).records[t]=null}}var wH=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=e.getComponent("tooltip");var a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";dH("axisPointer",r,(function(t,e,r){if(a!=="none"&&(t==="leave"||a.indexOf(t)>=0)){r({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}}))};e.prototype.remove=function(t,e){xH("axisPointer",e)};e.prototype.dispose=function(t,e){xH("axisPointer",e)};e.type="axisPointer";return e}(dm);function bH(t,e){var r=[];var i=t.seriesIndex;var a;if(i==null||!(a=e.getSeriesByIndex(i))){return{point:[]}}var n=a.getData();var o=Vo(n,t);if(o==null||o<0||et(o)){return{point:[]}}var s=n.getItemGraphicEl(o);var l=a.coordinateSystem;if(a.getTooltipPosition){r=a.getTooltipPosition(o)||[]}else if(l&&l.dataToPoint){if(t.isStacked){var u=l.getBaseAxis();var f=l.getOtherAxis(u);var h=f.dim;var c=u.dim;var v=h==="x"||h==="radius"?1:0;var d=n.mapDimension(c);var p=[];p[v]=n.get(d,o);p[1-v]=n.get(n.getCalculationInfo("stackResultDimension"),o);r=l.dataToPoint(p)||[]}else{r=l.dataToPoint(n.getValues(Z(l.dimensions,(function(t){return n.mapDimension(t)})),o))||[]}}else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform);r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var SH=Bo();function MH(t,e,r){var i=t.currTrigger;var a=[t.x,t.y];var n=t;var o=t.dispatchAction||Q(r.dispatchAction,r);var s=e.getComponent("axisPointer").coordSysAxesInfo;if(!s){return}if(NH(a)){a=bH({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point}var l=NH(a);var u=n.axesInfo;var f=s.axesInfo;var h=i==="leave"||NH(a);var c={};var v={};var d={list:[],map:{}};var p={showPointer:tt(DH,v),showTooltip:tt(CH,d)};X(s.coordSysMap,(function(t,e){var r=l||t.containPoint(a);X(s.coordSysAxesInfo[e],(function(t,e){var i=t.axis;var n=PH(u,t);if(!h&&r&&(!u||n)){var o=n&&n.value;if(o==null&&!l){o=i.pointToData(a)}o!=null&&IH(t,o,p,false,c)}}))}));var g={};X(f,(function(t,e){var r=t.linkGroup;if(r&&!v[e]){X(r.axesInfo,(function(e,i){var a=v[i];if(e!==t&&a){var n=a.value;r.mapper&&(n=t.axis.scale.parse(r.mapper(n,OH(e),OH(t))));g[t.key]=n}}))}}));X(g,(function(t,e){IH(f[e],t,p,true,c)}));AH(v,f,c);kH(d,a,t,o);LH(f,o,r);return c}function IH(t,e,r,i,a){var n=t.axis;if(n.scale.isBlank()||!n.containData(e)){return}if(!t.involveSeries){r.showPointer(t,e);return}var o=TH(e,t);var s=o.payloadBatch;var l=o.snapToValue;if(s[0]&&a.seriesIndex==null){F(a,s[0])}if(!i&&t.snap){if(n.containData(l)&&l!=null){e=l}}r.showPointer(t,e,s);r.showTooltip(t,o,l)}function TH(t,e){var r=e.axis;var i=r.dim;var a=t;var n=[];var o=Number.MAX_VALUE;var s=-1;X(e.seriesModels,(function(e,l){var u=e.getData().mapDimensionsAll(i);var f;var h;if(e.getAxisTooltipData){var c=e.getAxisTooltipData(u,t,r);h=c.dataIndices;f=c.nestestValue}else{h=e.getData().indicesOfNearest(u[0],t,r.type==="category"?.5:null);if(!h.length){return}f=e.getData().get(u[0],h[0])}if(f==null||!isFinite(f)){return}var v=t-f;var d=Math.abs(v);if(d<=o){if(d<o||v>=0&&s<0){o=d;s=v;a=f;n.length=0}X(h,(function(t){n.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}));return{payloadBatch:n,snapToValue:a}}function DH(t,e,r,i){t[e.key]={value:r,payloadBatch:i}}function CH(t,e,r,i){var a=r.payloadBatch;var n=e.axis;var o=n.model;var s=e.axisPointerModel;if(!e.triggerTooltip||!a.length){return}var l=e.coordSys.model;var u=_k(l);var f=t.map[u];if(!f){f=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]};t.list.push(f)}f.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}function AH(t,e,r){var i=r.axesInfo=[];X(e,(function(e,r){var a=e.axisPointerModel.option;var n=t[r];if(n){!e.useHandle&&(a.status="show");a.value=n.value;a.seriesDataIndices=(n.payloadBatch||[]).slice()}else{!e.useHandle&&(a.status="hide")}a.status==="show"&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:a.value})}))}function kH(t,e,r,i){if(NH(e)||!t.list.length){i({type:"hideTip"});return}var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}function LH(t,e,r){var i=r.getZr();var a="axisPointerLastHighlights";var n=SH(i)[a]||{};var o=SH(i)[a]={};X(t,(function(t,e){var r=t.axisPointerModel.option;r.status==="show"&&X(r.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t}))}));var s=[];var l=[];X(n,(function(t,e){!o[e]&&l.push(t)}));X(o,(function(t,e){!n[e]&&s.push(t)}));l.length&&r.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:l});s.length&&r.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:s})}function PH(t,e){for(var r=0;r<(t||[]).length;r++){var i=t[r];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex){return i}}}function OH(t){var e=t.axis.model;var r={};var i=r.axisDim=t.axis.dim;r.axisIndex=r[i+"AxisIndex"]=e.componentIndex;r.axisName=r[i+"AxisName"]=e.name;r.axisId=r[i+"AxisId"]=e.id;return r}function NH(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function RH(t){wk.registerAxisPointerClass("CartesianAxisPointer",sH);t.registerComponentModel(hH);t.registerComponentView(wH);t.registerPreprocessor((function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;if(e&&!et(e)){t.axisPointer.link=[e]}}}));t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=uk(t,e)}));t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},MH)}function EH(t){sb(Ok);sb(RH)}var zH=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;if(n.dim==="angle"){this.animationThreshold=Math.PI/18}var o=n.polar;var s=o.getOtherAxis(n);var l=s.getExtent();var u=n.dataToCoord(e);var f=i.get("type");if(f&&f!=="none"){var h=JW(i);var c=BH[f](n,o,u,l);c.style=h;t.graphicKey=c.type;t.pointer=c}var v=i.get(["label","margin"]);var d=VH(e,r,i,o,v);QW(t,r,i,a,d)};return e}(XW);function VH(t,e,r,i,a){var n=e.axis;var o=n.dataToCoord(t);var s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=i.getRadiusAxis().getExtent();var u;var f;var h;if(n.dim==="radius"){var c=Ne();Be(c,c,s);Ve(c,c,[i.cx,i.cy]);u=Rc([o,-a],c);var v=e.getModel("axisLabel").get("rotate")||0;var d=JA.innerTextLayout(s,v*Math.PI/180,-1);f=d.textAlign;h=d.textVerticalAlign}else{var p=l[1];u=i.coordToPoint([p+a,o]);var g=i.cx;var y=i.cy;f=Math.abs(u[0]-g)/p<.3?"center":u[0]>g?"left":"right";h=Math.abs(u[1]-y)/p<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:f,verticalAlign:h}}var BH={line:function(t,e,r,i){return t.dim==="angle"?{type:"Line",shape:aH(e.coordToPoint([i[0],r]),e.coordToPoint([i[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:r}}},shadow:function(t,e,r,i){var a=Math.max(1,t.getBandWidth());var n=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:oH(e.cx,e.cy,i[0],i[1],(-r-a/2)*n,(-r+a/2)*n)}:{type:"Sector",shape:oH(e.cx,e.cy,r-a/2,r+a/2,0,Math.PI*2)}}};var FH=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.findAxisModel=function(t){var e;var r=this.ecModel;r.eachComponent(t,(function(t){if(t.getCoordSysModel()===this){e=t}}),this);return e};e.type="polar";e.dependencies=["radiusAxis","angleAxis"];e.defaultOption={z:0,center:["50%","50%"],radius:"80%"};return e}(Zd);var GH=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ho).models[0]};e.type="polarAxis";return e}(Zd);Y(GH,xM);var WH=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="angleAxis";return e}(GH);var HH=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="radiusAxis";return e}(GH);var YH=function(t){u(e,t);function e(e,r){return t.call(this,"radius",e,r)||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};return e}(QM);YH.prototype.dataToRadius=QM.prototype.dataToCoord;YH.prototype.radiusToData=QM.prototype.coordToData;var UH=Bo();var XH=function(t){u(e,t);function e(e,r){return t.call(this,"angle",e,r||[0,360])||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};e.prototype.calculateCategoryInterval=function(){var t=this;var e=t.getLabelModel();var r=t.scale;var i=r.getExtent();var a=r.count();if(i[1]-i[0]<1){return 0}var n=i[0];var o=t.dataToCoord(n+1)-t.dataToCoord(n);var s=Math.abs(o);var l=sn(n==null?"":n+"",e.getFont(),"center","top");var u=Math.max(l.height,7);var f=u/s;isNaN(f)&&(f=Infinity);var h=Math.max(0,Math.floor(f));var c=UH(t.model);var v=c.lastAutoInterval;var d=c.lastTickCount;if(v!=null&&d!=null&&Math.abs(v-h)<=1&&Math.abs(d-a)<=1&&v>h){h=v}else{c.lastTickCount=a;c.lastAutoInterval=h}return h};return e}(QM);XH.prototype.dataToAngle=QM.prototype.dataToCoord;XH.prototype.angleToData=QM.prototype.coordToData;var ZH=["radius","angle"];var jH=function(){function t(t){this.dimensions=ZH;this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new YH;this._angleAxis=new XH;this.axisPointerEnabled=true;this.name=t||"";this._radiusAxis.polar=this._angleAxis.polar=this}t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])};t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])};t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]};t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};t.prototype.getAxesByScale=function(t){var e=[];var r=this._angleAxis;var i=this._radiusAxis;r.scale.type===t&&e.push(r);i.scale.type===t&&e.push(i);return e};t.prototype.getAngleAxis=function(){return this._angleAxis};t.prototype.getRadiusAxis=function(){return this._radiusAxis};t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e};t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};t.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}};t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])};t.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]};t.prototype.pointToCoord=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=this.getAngleAxis();var a=i.getExtent();var n=Math.min(a[0],a[1]);var o=Math.max(a[0],a[1]);i.inverse?n=o-360:o=n+360;var s=Math.sqrt(e*e+r*r);e/=s;r/=s;var l=Math.atan2(-r,e)/Math.PI*180;var u=l<n?1:-1;while(l<n||l>o){l+=u*360}return[s,l]};t.prototype.coordToPoint=function(t){var e=t[0];var r=t[1]/180*Math.PI;var i=Math.cos(r)*e+this.cx;var a=-Math.sin(r)*e+this.cy;return[i,a]};t.prototype.getArea=function(){var t=this.getAngleAxis();var e=this.getRadiusAxis();var r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent();var a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(t,e){var r=t-this.cx;var i=e-this.cy;var a=r*r+i*i-1e-4;var n=this.r;var o=this.r0;return a<=n*n&&a>=o*o}}};t.prototype.convertToPixel=function(t,e,r){var i=qH(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=qH(e);return i===this?this.pointToData(r):null};return t}();function qH(t){var e=t.seriesModel;var r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function KH(t,e,r){var i=e.get("center");var a=r.getWidth();var n=r.getHeight();t.cx=Vn(i[0],a);t.cy=Vn(i[1],n);var o=t.getRadiusAxis();var s=Math.min(a,n)/2;var l=e.get("radius");if(l==null){l=[0,"100%"]}else if(!et(l)){l=[0,l]}var u=[Vn(l[0],s),Vn(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function $H(t,e){var r=this;var i=r.getAngleAxis();var a=r.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);a.scale.setExtent(Infinity,-Infinity);t.eachSeries((function(t){if(t.coordinateSystem===r){var e=t.getData();X(mM(e,"radius"),(function(t){a.scale.unionExtentFromData(e,t)}));X(mM(e,"angle"),(function(t){i.scale.unionExtentFromData(e,t)}))}}));uM(i.scale,i.model);uM(a.scale,a.model);if(i.type==="category"&&!i.onBand){var n=i.getExtent();var o=360/i.scale.count();i.inverse?n[1]+=o:n[1]-=o;i.setExtent(n[0],n[1])}}function JH(t){return t.mainType==="angleAxis"}function QH(t,e){t.type=e.get("type");t.scale=fM(e);t.onBand=e.get("boundaryGap")&&t.type==="category";t.inverse=e.get("inverse");if(JH(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle");t.setExtent(r,r+(t.inverse?-360:360))}e.axis=t;t.model=e}var tY={dimensions:ZH,create:function(t,e){var r=[];t.eachComponent("polar",(function(t,i){var a=new jH(i+"");a.update=$H;var n=a.getRadiusAxis();var o=a.getAngleAxis();var s=t.findAxisModel("radiusAxis");var l=t.findAxisModel("angleAxis");QH(n,s);QH(o,l);KH(a,t,e);r.push(a);t.coordinateSystem=a;a.model=t}));t.eachSeries((function(t){if(t.get("coordinateSystem")==="polar"){var e=t.getReferringComponents("polar",Ho).models[0];t.coordinateSystem=e.coordinateSystem}}));return r}};var eY=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function rY(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],r]);var a=t.coordToPoint([e[1],r]);return{x1:i[0],y1:i[1],x2:a[0],y2:a[1]}}function iY(t){var e=t.getRadiusAxis();return e.inverse?0:1}function aY(t){var e=t[0];var r=t[t.length-1];if(e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4){t.pop()}}var nY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=t.axis;var i=r.polar;var a=i.getRadiusAxis().getExtent();var n=r.getTicksCoords();var o=r.getMinorTicksCoords();var s=Z(r.getViewLabels(),(function(t){t=z(t);var e=r.scale;var i=e.type==="ordinal"?e.getRawOrdinalNumber(t.tickValue):t.tickValue;t.coord=r.dataToCoord(i);return t}));aY(s);aY(n);X(eY,(function(e){if(t.get([e,"show"])&&(!r.scale.isBlank()||e==="axisLine")){oY[e](this.group,t,i,n,o,a,s)}}),this)};e.type="angleAxis";return e}(wk);var oY={axisLine:function(t,e,r,i,a,n){var o=e.getModel(["axisLine","lineStyle"]);var s=iY(r);var l=s?0:1;var u;if(n[l]===0){u=new vh({shape:{cx:r.cx,cy:r.cy,r:n[s]},style:o.getLineStyle(),z2:1,silent:true})}else{u=new Nh({shape:{cx:r.cx,cy:r.cy,r:n[s],r0:n[l]},style:o.getLineStyle(),z2:1,silent:true})}u.style.fill=null;t.add(u)},axisTick:function(t,e,r,i,a,n){var o=e.getModel("axisTick");var s=(o.get("inside")?-1:1)*o.get("length");var l=n[iY(r)];var u=Z(i,(function(t){return new Hh({shape:rY(r,[l,l+s],t.coord)})}));t.add(Ac(u,{style:G(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("axisTick");var s=e.getModel("minorTick");var l=(o.get("inside")?-1:1)*s.get("length");var u=n[iY(r)];var f=[];for(var h=0;h<a.length;h++){for(var c=0;c<a[h].length;c++){f.push(new Hh({shape:rY(r,[u,u+l],a[h][c].coord)}))}}t.add(Ac(f,{style:G(s.getModel("lineStyle").getLineStyle(),G(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(t,e,r,i,a,n,o){var s=e.getCategories(true);var l=e.getModel("axisLabel");var u=l.get("margin");var f=e.get("triggerEvent");X(o,(function(i,a){var o=l;var h=i.tickValue;var c=n[iY(r)];var v=r.coordToPoint([c+u,i.coord]);var d=r.cx;var p=r.cy;var g=Math.abs(v[0]-d)/c<.3?"center":v[0]>d?"left":"right";var y=Math.abs(v[1]-p)/c<.3?"middle":v[1]>p?"top":"bottom";if(s&&s[h]){var m=s[h];if(ot(m)&&m.textStyle){o=new Mv(m.textStyle,l,l.ecModel)}}var _=new cu({silent:JA.isLabelSilent(e),style:rv(o,{x:v[0],y:v[1],fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:g,verticalAlign:y})});t.add(_);if(f){var x=JA.makeAxisEventDataBase(e);x.targetType="axisLabel";x.value=i.rawLabel;Tu(_).eventData=x}}),this)},splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];for(var h=0;h<i.length;h++){var c=u++%l.length;f[c]=f[c]||[];f[c].push(new Hh({shape:rY(r,n,i[h].coord)}))}for(var h=0;h<f.length;h++){t.add(Ac(f[h],{style:G({stroke:l[h%l.length]},s.getLineStyle()),silent:true,z:e.get("z")}))}},minorSplitLine:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("minorSplitLine");var s=o.getModel("lineStyle");var l=[];for(var u=0;u<a.length;u++){for(var f=0;f<a[u].length;f++){l.push(new Hh({shape:rY(r,n,a[u][f].coord)}))}}t.add(Ac(l,{style:s.getLineStyle(),silent:true,z:e.get("z")}))},splitArea:function(t,e,r,i,a,n){if(!i.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=Math.PI/180;var c=-i[0].coord*h;var v=Math.min(n[0],n[1]);var d=Math.max(n[0],n[1]);var p=e.get("clockwise");for(var g=1,y=i.length;g<=y;g++){var m=g===y?i[0].coord:i[g].coord;var _=u++%l.length;f[_]=f[_]||[];f[_].push(new Ph({shape:{cx:r.cx,cy:r.cy,r0:v,r:d,startAngle:c,endAngle:-m*h,clockwise:p},silent:true}));c=-m*h}for(var g=0;g<f.length;g++){t.add(Ac(f[g],{style:G({fill:l[g%l.length]},s.getAreaStyle()),silent:true}))}}};var sY=["axisLine","axisTickLabel","axisName"];var lY=["splitLine","splitArea","minorSplitLine"];var uY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=this._axisGroup;var i=this._axisGroup=new Tn;this.group.add(i);var a=t.axis;var n=a.polar;var o=n.getAngleAxis();var s=a.getTicksCoords();var l=a.getMinorTicksCoords();var u=o.getExtent()[0];var f=a.getExtent();var h=hY(n,t,u);var c=new JA(t,h);X(sY,c.add,c);i.add(c.getGroup());Bc(r,i,t);X(lY,(function(e){if(t.get([e,"show"])&&!a.scale.isBlank()){fY[e](this.group,t,n,u,f,s,l)}}),this)};e.type="radiusAxis";return e}(wk);var fY={splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];for(var h=0;h<n.length;h++){var c=u++%l.length;f[c]=f[c]||[];f[c].push(new vh({shape:{cx:r.cx,cy:r.cy,r:Math.max(n[h].coord,0)}}))}for(var h=0;h<f.length;h++){t.add(Ac(f[h],{style:G({stroke:l[h%l.length],fill:null},s.getLineStyle()),silent:true}))}},minorSplitLine:function(t,e,r,i,a,n,o){if(!o.length){return}var s=e.getModel("minorSplitLine");var l=s.getModel("lineStyle");var u=[];for(var f=0;f<o.length;f++){for(var h=0;h<o[f].length;h++){u.push(new vh({shape:{cx:r.cx,cy:r.cy,r:o[f][h].coord}}))}}t.add(Ac(u,{style:G({fill:null},l.getLineStyle()),silent:true}))},splitArea:function(t,e,r,i,a,n){if(!n.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=n[0].coord;for(var c=1;c<n.length;c++){var v=u++%l.length;f[v]=f[v]||[];f[v].push(new Ph({shape:{cx:r.cx,cy:r.cy,r0:h,r:n[c].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));h=n[c].coord}for(var c=0;c<f.length;c++){t.add(Ac(f[c],{style:G({fill:l[c%l.length]},s.getAreaStyle()),silent:true}))}}};function hY(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function cY(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function vY(t,e){return e.dim+t.model.componentIndex}function dY(t,e,r){var i={};var a=pY(q(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&t.coordinateSystem.type==="polar"})));e.eachSeriesByType(t,(function(t){if(t.coordinateSystem.type!=="polar"){return}var e=t.getData();var r=t.coordinateSystem;var n=r.getBaseAxis();var o=vY(r,n);var s=cY(t);var l=a[o][s];var u=l.offset;var f=l.width;var h=r.getOtherAxis(n);var c=t.coordinateSystem.cx;var v=t.coordinateSystem.cy;var d=t.get("barMinHeight")||0;var p=t.get("barMinAngle")||0;i[s]=i[s]||[];var g=e.mapDimension(h.dim);var y=e.mapDimension(n.dim);var m=qb(e,g);var _=n.dim!=="radius"||!t.get("roundCap",true);var x=h.dataToCoord(0);for(var w=0,b=e.count();w<b;w++){var S=e.get(g,w);var M=e.get(y,w);var I=S>=0?"p":"n";var T=x;if(m){if(!i[s][M]){i[s][M]={p:x,n:x}}T=i[s][M][I]}var D=void 0;var C=void 0;var A=void 0;var k=void 0;if(h.dim==="radius"){var L=h.dataToCoord(S)-x;var P=n.dataToCoord(M);if(Math.abs(L)<d){L=(L<0?-1:1)*d}D=T;C=T+L;A=P-u;k=A-f;m&&(i[s][M][I]=C)}else{var O=h.dataToCoord(S,_)-x;var N=n.dataToCoord(M);if(Math.abs(O)<p){O=(O<0?-1:1)*p}D=N+u;C=D+f;A=T;k=T+O;m&&(i[s][M][I]=k)}e.setItemLayout(w,{cx:c,cy:v,r0:D,r:C,startAngle:-A*Math.PI/180,endAngle:-k*Math.PI/180,clockwise:A>=k})}}))}function pY(t){var e={};X(t,(function(t,r){var i=t.getData();var a=t.coordinateSystem;var n=a.getBaseAxis();var o=vY(a,n);var s=n.getExtent();var l=n.type==="category"?n.getBandWidth():Math.abs(s[1]-s[0])/i.count();var u=e[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var f=u.stacks;e[o]=u;var h=cY(t);if(!f[h]){u.autoWidthCount++}f[h]=f[h]||{width:0,maxWidth:0};var c=Vn(t.get("barWidth"),l);var v=Vn(t.get("barMaxWidth"),l);var d=t.get("barGap");var p=t.get("barCategoryGap");if(c&&!f[h].width){c=Math.min(u.remainedWidth,c);f[h].width=c;u.remainedWidth-=c}v&&(f[h].maxWidth=v);d!=null&&(u.gap=d);p!=null&&(u.categoryGap=p)}));var r={};X(e,(function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=Vn(t.categoryGap,a);var o=Vn(t.gap,1);var s=t.remainedWidth;var l=t.autoWidthCount;var u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);X(i,(function(t,e){var r=t.maxWidth;if(r&&r<u){r=Math.min(r,s);if(t.width){r=Math.min(r,t.width)}s-=r;t.width=r;l--}}));u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);var f=0;var h;X(i,(function(t,e){if(!t.width){t.width=u}h=t;f+=t.width*(1+o)}));if(h){f-=h.width*o}var c=-f/2;X(i,(function(t,i){r[e][i]=r[e][i]||{offset:c,width:t.width};c+=t.width*(1+o)}))}));return r}var gY={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var yY={splitNumber:5};var mY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="polar";return e}(dm);function _Y(t){sb(RH);wk.registerAxisPointerClass("PolarAxisPointer",zH);t.registerCoordinateSystem("polar",tY);t.registerComponentModel(FH);t.registerComponentView(mY);NA(t,"angle",WH,gY);NA(t,"radius",HH,yY);t.registerComponentView(nY);t.registerComponentView(uY);t.registerLayout(tt(dY,"bar"))}function xY(t,e){e=e||{};var r=t.coordinateSystem;var i=t.axis;var a={};var n=i.position;var o=i.orient;var s=r.getRect();var l=[s.x,s.x+s.width,s.y,s.y+s.height];var u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[n]:l[0],o==="horizontal"?u.horizontal[n]:l[3]];var f={horizontal:0,vertical:1};a.rotation=Math.PI/2*f[o];var h={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=h[n];if(t.get(["axisTick","inside"])){a.tickDirection=-a.tickDirection}if(dt(e.labelInside,t.get(["axisLabel","inside"]))){a.labelDirection=-a.labelDirection}var c=e.rotate;c==null&&(c=t.get(["axisLabel","rotate"]));a.labelRotation=n==="top"?-c:c;a.z2=1;return a}var wY=["axisLine","axisTickLabel","axisName"];var bY=["splitArea","splitLine"];var SY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="SingleAxisPointer";return r}e.prototype.render=function(e,r,i,a){var n=this.group;n.removeAll();var o=this._axisGroup;this._axisGroup=new Tn;var s=xY(e);var l=new JA(e,s);X(wY,l.add,l);n.add(this._axisGroup);n.add(l.getGroup());X(bY,(function(t){if(e.get([t,"show"])){MY[t](this,this.group,this._axisGroup,e)}}),this);Bc(o,this._axisGroup,e);t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){Mk(this)};e.type="singleAxis";return e}(wk);var MY={splitLine:function(t,e,r,i){var a=i.axis;if(a.scale.isBlank()){return}var n=i.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");s=s instanceof Array?s:[s];var l=o.get("width");var u=i.coordinateSystem.getRect();var f=a.isHorizontal();var h=[];var c=0;var v=a.getTicksCoords({tickModel:n});var d=[];var p=[];for(var g=0;g<v.length;++g){var y=a.toGlobalCoord(v[g].coord);if(f){d[0]=y;d[1]=u.y;p[0]=y;p[1]=u.y+u.height}else{d[0]=u.x;d[1]=y;p[0]=u.x+u.width;p[1]=y}var m=new Hh({shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},silent:true});Lc(m.shape,l);var _=c++%s.length;h[_]=h[_]||[];h[_].push(m)}var x=o.getLineStyle(["color"]);for(var g=0;g<h.length;++g){e.add(Ac(h[g],{style:G({stroke:s[g%s.length]},x),silent:true}))}},splitArea:function(t,e,r,i){Sk(t,r,i,i)}};var IY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getCoordSysModel=function(){return this};e.type="singleAxis";e.layoutMode="box";e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return e}(Zd);Y(IY,xM.prototype);var TY=function(t){u(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]};return e}(QM);var DY=["single"];var CY=function(){function t(t,e,r){this.type="single";this.dimension="single";this.dimensions=DY;this.axisPointerEnabled=true;this.model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=this.dimension;var a=new TY(i,fM(t),[0,0],t.get("type"),t.get("position"));var n=a.type==="category";a.onBand=n&&t.get("boundaryGap");a.inverse=t.get("inverse");a.orient=t.get("orient");t.axis=a;a.model=t;a.coordinateSystem=this;this._axis=a};t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();X(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this);uM(this._axis.scale,this._axis.model)}}),this)};t.prototype.resize=function(t,e){this._rect=Bd({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()};t.prototype.getRect=function(){return this._rect};t.prototype._adjustAxis=function(){var t=this._rect;var e=this._axis;var r=e.isHorizontal();var i=r?[0,t.width]:[0,t.height];var a=e.inverse?1:0;e.setExtent(i[a],i[1-a]);this._updateAxisTransform(e,r?t.x:t.y)};t.prototype._updateAxisTransform=function(t,e){var r=t.getExtent();var i=r[0]+r[1];var a=t.isHorizontal();t.toGlobalCoord=a?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=a?function(t){return t-e}:function(t){return i-t+e}};t.prototype.getAxis=function(){return this._axis};t.prototype.getBaseAxis=function(){return this._axis};t.prototype.getAxes=function(){return[this._axis]};t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};t.prototype.containPoint=function(t){var e=this.getRect();var r=this.getAxis();var i=r.orient;if(i==="horizontal"){return r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height}else{return r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height}};t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]};t.prototype.dataToPoint=function(t){var e=this.getAxis();var r=this.getRect();var i=[];var a=e.orient==="horizontal"?0:1;if(t instanceof Array){t=t[0]}i[a]=e.toGlobalCoord(e.dataToCoord(+t));i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2;return i};t.prototype.convertToPixel=function(t,e,r){var i=AY(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=AY(e);return i===this?this.pointToData(r):null};return t}();function AY(t){var e=t.seriesModel;var r=t.singleAxisModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function kY(t,e){var r=[];t.eachComponent("singleAxis",(function(i,a){var n=new CY(i,t,e);n.name="single_"+a;n.resize(i,e);i.coordinateSystem=n;r.push(n)}));t.eachSeries((function(t){if(t.get("coordinateSystem")==="singleAxis"){var e=t.getReferringComponents("singleAxis",Ho).models[0];t.coordinateSystem=e&&e.coordinateSystem}}));return r}var LY={create:kY,dimensions:DY};var PY=["x","y"];var OY=["width","height"];var NY=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.coordinateSystem;var s=zY(o,1-EY(n));var l=o.dataToPoint(e)[0];var u=i.get("type");if(u&&u!=="none"){var f=JW(i);var h=RY[u](n,l,s);h.style=f;t.graphicKey=h.type;t.pointer=h}var c=xY(r);iH(e,t,c,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=xY(e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=rH(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.coordinateSystem;var o=EY(a);var s=zY(n,o);var l=[t.x,t.y];l[o]+=e[o];l[o]=Math.min(s[1],l[o]);l[o]=Math.max(s[0],l[o]);var u=zY(n,1-o);var f=(u[1]+u[0])/2;var h=[f,f];h[o]=l[o];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}};return e}(XW);var RY={line:function(t,e,r){var i=aH([e,r[0]],[e,r[1]],EY(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=t.getBandWidth();var a=r[1]-r[0];return{type:"Rect",shape:nH([e-i/2,r[0]],[i,a],EY(t))}}};function EY(t){return t.isHorizontal()?0:1}function zY(t,e){var r=t.getRect();return[r[PY[e]],r[PY[e]]+r[OY[e]]]}var VY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="single";return e}(dm);function BY(t){sb(RH);wk.registerAxisPointerClass("SingleAxisPointer",NY);t.registerComponentView(VY);t.registerComponentView(SY);t.registerComponentModel(IY);NA(t,"single",IY,IY.defaultOption);t.registerCoordinateSystem("single",LY)}var FY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r,i){var a=Yd(e);t.prototype.init.apply(this,arguments);GY(e,a)};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);GY(this.option,e)};e.prototype.getCellSize=function(){return this.option.cellSize};e.type="calendar";e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return e}(Zd);function GY(t,e){var r=t.cellSize;var i;if(!et(r)){i=t.cellSize=[r,r]}else{i=r}if(i.length===1){i[1]=i[0]}var a=Z([0,1],(function(t){if(Gd(e,t)){i[t]="auto"}return i[t]!=null&&i[t]!=="auto"}));Hd(t,e,{type:"box",ignoreSize:a})}var WY=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();var a=t.coordinateSystem;var n=a.getRangeInfo();var o=a.getOrient();var s=e.getLocaleModel();this._renderDayRect(t,n,i);this._renderLines(t,n,o,i);this._renderYearText(t,n,o,i);this._renderMonthText(t,s,o,i);this._renderWeekText(t,s,n,o,i)};e.prototype._renderDayRect=function(t,e,r){var i=t.coordinateSystem;var a=t.getModel("itemStyle").getItemStyle();var n=i.getCellWidth();var o=i.getCellHeight();for(var s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],false).tl;var u=new lu({shape:{x:l[0],y:l[1],width:n,height:o},cursor:"default",style:a});r.add(u)}};e.prototype._renderLines=function(t,e,r,i){var a=this;var n=t.coordinateSystem;var o=t.getModel(["splitLine","lineStyle"]).getLineStyle();var s=t.get(["splitLine","show"]);var l=o.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var u=e.start;for(var f=0;u.time<=e.end.time;f++){c(u.formatedDate);if(f===0){u=n.getDateInfo(e.start.y+"-"+e.start.m)}var h=u.date;h.setMonth(h.getMonth()+1);u=n.getDateInfo(h)}c(n.getNextNDay(e.end.time,1).formatedDate);function c(e){a._firstDayOfMonth.push(n.getDateInfo(e));a._firstDayPoints.push(n.dataToRect([e],false).tl);var l=a._getLinePointsOfOneWeek(t,e,r);a._tlpoints.push(l[0]);a._blpoints.push(l[l.length-1]);s&&a._drawSplitline(l,o,i)}s&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,r),o,i);s&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,r),o,i)};e.prototype._getEdgesPoints=function(t,e,r){var i=[t[0].slice(),t[t.length-1].slice()];var a=r==="horizontal"?0:1;i[0][a]=i[0][a]-e/2;i[1][a]=i[1][a]+e/2;return i};e.prototype._drawSplitline=function(t,e,r){var i=new Fh({z2:20,shape:{points:t},style:e});r.add(i)};e.prototype._getLinePointsOfOneWeek=function(t,e,r){var i=t.coordinateSystem;var a=i.getDateInfo(e);var n=[];for(var o=0;o<7;o++){var s=i.getNextNDay(a.time,o);var l=i.dataToRect([s.time],false);n[2*s.day]=l.tl;n[2*s.day+1]=l[r==="horizontal"?"bl":"tr"]}return n};e.prototype._formatterLabel=function(t,e){if(it(t)&&t){return Dd(t,e)}if(rt(t)){return t(e)}return e.nameMap};e.prototype._yearTextPositionControl=function(t,e,r,i,a){var n=e[0];var o=e[1];var s=["center","bottom"];if(i==="bottom"){o+=a;s=["center","top"]}else if(i==="left"){n-=a}else if(i==="right"){n+=a;s=["center","top"]}else{o-=a}var l=0;if(i==="left"||i==="right"){l=Math.PI/2}return{rotation:l,x:n,y:o,style:{align:s[0],verticalAlign:s[1]}}};e.prototype._renderYearText=function(t,e,r,i){var a=t.getModel("yearLabel");if(!a.get("show")){return}var n=a.get("margin");var o=a.get("position");if(!o){o=r!=="horizontal"?"top":"left"}var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var l=(s[0][0]+s[1][0])/2;var u=(s[0][1]+s[1][1])/2;var f=r==="horizontal"?0:1;var h={top:[l,s[f][1]],bottom:[l,s[1-f][1]],left:[s[1-f][0],u],right:[s[f][0],u]};var c=e.start.y;if(+e.end.y>+e.start.y){c=c+"-"+e.end.y}var v=a.get("formatter");var d={start:e.start.y,end:e.end.y,nameMap:c};var p=this._formatterLabel(v,d);var g=new cu({z2:30,style:rv(a,{text:p})});g.attr(this._yearTextPositionControl(g,h[o],r,o,n));i.add(g)};e.prototype._monthTextPositionControl=function(t,e,r,i,a){var n="left";var o="top";var s=t[0];var l=t[1];if(r==="horizontal"){l=l+a;if(e){n="center"}if(i==="start"){o="bottom"}}else{s=s+a;if(e){o="middle"}if(i==="start"){n="right"}}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderMonthText=function(t,e,r,i){var a=t.getModel("monthLabel");if(!a.get("show")){return}var n=a.get("nameMap");var o=a.get("margin");var s=a.get("position");var l=a.get("align");var u=[this._tlpoints,this._blpoints];if(!n||it(n)){if(n){e=Fv(n)||e}n=e.get(["time","monthAbbr"])||[]}var f=s==="start"?0:1;var h=r==="horizontal"?0:1;o=s==="start"?-o:o;var c=l==="center";for(var v=0;v<u[f].length-1;v++){var d=u[f][v].slice();var p=this._firstDayOfMonth[v];if(c){var g=this._firstDayPoints[v];d[h]=(g[h]+u[0][v+1][h])/2}var y=a.get("formatter");var m=n[+p.m-1];var _={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:m};var x=this._formatterLabel(y,_);var w=new cu({z2:30,style:F(rv(a,{text:x}),this._monthTextPositionControl(d,c,r,s,o))});i.add(w)}};e.prototype._weekTextPositionControl=function(t,e,r,i,a){var n="center";var o="middle";var s=t[0];var l=t[1];var u=r==="start";if(e==="horizontal"){s=s+i+(u?1:-1)*a[0]/2;n=u?"right":"left"}else{l=l+i+(u?1:-1)*a[1]/2;o=u?"bottom":"top"}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderWeekText=function(t,e,r,i,a){var n=t.getModel("dayLabel");if(!n.get("show")){return}var o=t.coordinateSystem;var s=n.get("position");var l=n.get("nameMap");var u=n.get("margin");var f=o.getFirstDayOfWeek();if(!l||it(l)){if(l){e=Fv(l)||e}var h=e.get(["time","dayOfWeekShort"]);l=h||Z(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}))}var c=o.getNextNDay(r.end.time,7-r.lweek).time;var v=[o.getCellWidth(),o.getCellHeight()];u=Vn(u,Math.min(v[1],v[0]));if(s==="start"){c=o.getNextNDay(r.start.time,-(7+r.fweek)).time;u=-u}for(var d=0;d<7;d++){var p=o.getNextNDay(c,d);var g=o.dataToRect([p.time],false).center;var y=d;y=Math.abs((d+f)%7);var m=new cu({z2:30,style:F(rv(n,{text:l[y]}),this._weekTextPositionControl(g,i,s,u,v))});a.add(m)}};e.type="calendar";return e}(dm);var HY=864e5;var YY=function(){function t(e,r,i){this.type="calendar";this.dimensions=t.dimensions;this.getDimensionsInfo=t.getDimensionsInfo;this._model=e}t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};t.prototype.getRangeInfo=function(){return this._rangeInfo};t.prototype.getModel=function(){return this._model};t.prototype.getRect=function(){return this._rect};t.prototype.getCellWidth=function(){return this._sw};t.prototype.getCellHeight=function(){return this._sh};t.prototype.getOrient=function(){return this._orient};t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};t.prototype.getDateInfo=function(t){t=Kn(t);var e=t.getFullYear();var r=t.getMonth()+1;var i=r<10?"0"+r:""+r;var a=t.getDate();var n=a<10?"0"+a:""+a;var o=t.getDay();o=Math.abs((o+7-this.getFirstDayOfWeek())%7);return{y:e+"",m:i,d:n,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}};t.prototype.getNextNDay=function(t,e){e=e||0;if(e===0){return this.getDateInfo(t)}t=new Date(this.getDateInfo(t).time);t.setDate(t.getDate()+e);return this.getDateInfo(t)};t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1;var i=["width","height"];var a=this._model.getCellSize().slice();var n=this._model.getBoxLayoutParams();var o=this._orient==="horizontal"?[r,7]:[7,r];X([0,1],(function(t){if(u(a,t)){n[i[t]]=a[t]*o[t]}}));var s={width:e.getWidth(),height:e.getHeight()};var l=this._rect=Bd(n,s);X([0,1],(function(t){if(!u(a,t)){a[t]=l[i[t]]/o[t]}}));function u(t,e){return t[e]!=null&&t[e]!=="auto"}this._sw=a[0];this._sh=a[1]};t.prototype.dataToPoint=function(t,e){et(t)&&(t=t[0]);e==null&&(e=true);var r=this.getDateInfo(t);var i=this._rangeInfo;var a=r.formatedDate;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+HY)){return[NaN,NaN]}var n=r.day;var o=this._getRangeInfo([i.start.time,a]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+n*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]}return[this._rect.x+o*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]};t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time};t.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}};t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1;var r=Math.floor((t[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(r,e-1,i)}return this._getDateByWeeksAndDay(e,r-1,i)};t.prototype.convertToPixel=function(t,e,r){var i=UY(e);return i===this?i.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=UY(e);return i===this?i.pointToData(r):null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.prototype._initRangeOption=function(){var t=this._model.get("range");var e;if(et(t)&&t.length===1){t=t[0]}if(!et(t)){var r=t.toString();if(/^\d{4}$/.test(r)){e=[r+"-01-01",r+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r);var a=i.date;a.setMonth(a.getMonth()+1);var n=this.getNextNDay(a,-1);e=[i.formatedDate,n.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)){e=[r,r]}}else{e=t}if(!e){return t}var o=this._getRangeInfo(e);if(o.start.time>o.end.time){e.reverse()}return e};t.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];var r;if(e[0].time>e[1].time){r=true;e.reverse()}var i=Math.floor(e[1].time/HY)-Math.floor(e[0].time/HY)+1;var a=new Date(e[0].time);var n=a.getDate();var o=e[1].date.getDate();a.setDate(n+i-1);var s=a.getDate();if(s!==o){var l=a.getTime()-e[1].time>0?1:-1;while((s=a.getDate())!==o&&(a.getTime()-e[1].time)*l>0){i-=l;a.setDate(s-l)}}var u=Math.floor((i+e[0].day+6)/7);var f=r?-u+1:u-1;r&&e.reverse();return{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:u,nthWeek:f,fweek:e[0].day,lweek:e[1].day}};t.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek){return null}var a=(t-1)*7-i.fweek+e;var n=new Date(i.start.time);n.setDate(+i.start.d+a);return this.getDateInfo(n)};t.create=function(e,r){var i=[];e.eachComponent("calendar",(function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n}));e.eachSeries((function(t){if(t.get("coordinateSystem")==="calendar"){t.coordinateSystem=i[t.get("calendarIndex")||0]}}));return i};t.dimensions=["time","value"];return t}();function UY(t){var e=t.calendarModel;var r=t.seriesModel;var i=e?e.coordinateSystem:r?r.coordinateSystem:null;return i}function XY(t){t.registerComponentModel(FY);t.registerComponentView(WY);t.registerCoordinateSystem("calendar",YY)}function ZY(t,e){var r=t.existing;e.id=t.keyInfo.id;!e.type&&r&&(e.type=r.type);if(e.parentId==null){var i=e.parentOption;if(i){e.parentId=i.id}else if(r){e.parentId=r.parentId}}e.parentOption=null}function jY(t,e){var r;X(e,(function(e){t[e]!=null&&t[e]!=="auto"&&(r=true)}));return r}function qY(t,e,r){var i=F({},r);var a=t[e];var n=r.$action||"merge";if(n==="merge"){if(a){V(a,i,true);Hd(a,i,{ignoreSize:true});Ud(r,a);JY(r,a);JY(r,a,"shape");JY(r,a,"style");JY(r,a,"extra");r.clipPath=a.clipPath}else{t[e]=i}}else if(n==="replace"){t[e]=i}else if(n==="remove"){a&&(t[e]=null)}}var KY=["transition","enterFrom","leaveTo"];var $Y=KY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function JY(t,e,r){if(r){if(!t[r]&&e[r]){t[r]={}}t=t[r];e=e[r]}if(!t||!e){return}var i=r?KY:$Y;for(var a=0;a<i.length;a++){var n=i[a];if(t[n]==null&&e[n]!=null){t[n]=e[n]}}}function QY(t,e){if(!t){return}t.hv=e.hv=[jY(e,["left","right"]),jY(e,["top","bottom"])];if(t.type==="group"){var r=t;var i=e;r.width==null&&(r.width=i.width=0);r.height==null&&(r.height=i.height=0)}}var tU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventAutoZ=true;return r}e.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null;t.prototype.mergeOption.call(this,e,r);this.option.elements=i};e.prototype.optionUpdated=function(t,e){var r=this.option;var i=(e?r:t).elements;var a=r.elements=e?[]:r.elements;var n=[];this._flatten(i,n,null);var o=bo(a,n,"normalMerge");var s=this._elOptionsToUpdate=[];X(o,(function(t,e){var r=t.newOption;if(!r){return}s.push(r);ZY(t,r);qY(a,e,r);QY(a[e],r)}),this);r.elements=q(a,(function(t){t&&delete t.$action;return t!=null}))};e.prototype._flatten=function(t,e,r){X(t,(function(t){if(!t){return}if(r){t.parentOption=r}e.push(t);var i=t.children;if(i&&i.length){this._flatten(i,e,t)}delete t.children}),this)};e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return t};e.type="graphic";e.defaultOption={elements:[]};return e}(Zd);var eU={path:null,compoundPath:null,group:Tn,image:tu,text:cu};var rU=Bo();var iU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._elMap=Ct()};e.prototype.render=function(t,e,r){if(t!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=t;this._updateElements(t);this._relocate(t,r)};e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(!e){return}var r=this._elMap;var i=this.group;var a=t.get("z");var n=t.get("zlevel");X(e,(function(e){var o=Lo(e.id,null);var s=o!=null?r.get(o):null;var l=Lo(e.parentId,null);var u=l!=null?r.get(l):i;var f=e.type;var h=e.style;if(f==="text"&&h){if(e.hv&&e.hv[1]){h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null}}var c=e.textContent;var v=e.textConfig;if(h&&DG(h,f,!!v,!!c)){var d=CG(h,f,true);if(!v&&d.textConfig){v=e.textConfig=d.textConfig}if(!c&&d.textContent){c=d.textContent}}var p=lU(e);var g=e.$action||"merge";var y=g==="merge";var m=g==="replace";if(y){var _=!s;var x=s;if(_){x=nU(o,u,e.type,r)}else{x&&(rU(x).isNew=false);rW(x)}if(x){VG(x,p,t,{isInit:_});sU(x,e,a,n)}}else if(m){oU(s,e,r,t);var w=nU(o,u,e.type,r);if(w){VG(w,p,t,{isInit:true});sU(w,e,a,n)}}else if(g==="remove"){BG(s,e);oU(s,e,r,t)}var b=r.get(o);if(b&&c){if(y){var S=b.getTextContent();S?S.attr(c):b.setTextContent(new cu(c))}else if(m){b.setTextContent(new cu(c))}}if(b){var M=e.clipPath;if(M){var I=M.type;var T=void 0;var _=false;if(y){var D=b.getClipPath();_=!D||rU(D).type!==I;T=_?aU(I):D}else if(m){_=true;T=aU(I)}b.setClipPath(T);VG(T,M,t,{isInit:_});iW(T,M.keyframeAnimation,t)}var C=rU(b);b.setTextConfig(v);C.option=e;uU(b,t,e);Zc({el:b,componentModel:t,itemName:b.name,itemTooltipOption:e.tooltip});iW(b,e.keyframeAnimation,t)}}))};e.prototype._relocate=function(t,e){var r=t.option.elements;var i=this.group;var a=this._elMap;var n=e.getWidth();var o=e.getHeight();var s=["x","y"];for(var l=0;l<r.length;l++){var u=r[l];var f=Lo(u.id,null);var h=f!=null?a.get(f):null;if(!h||!h.isGroup){continue}var c=h.parent;var v=c===i;var d=rU(h);var p=rU(c);d.width=Vn(d.option.width,v?n:p.width)||0;d.height=Vn(d.option.height,v?o:p.height)||0}for(var l=r.length-1;l>=0;l--){var u=r[l];var f=Lo(u.id,null);var h=f!=null?a.get(f):null;if(!h){continue}var c=h.parent;var p=rU(c);var g=c===i?{width:n,height:o}:{width:p.width,height:p.height};var y={};var m=Fd(h,u,g,null,{hv:u.hv,boundingMode:u.bounding},y);if(!rU(h).isNew&&m){var _=u.transition;var x={};for(var w=0;w<s.length;w++){var b=s[w];var S=y[b];if(_&&(GG(_)||W(_,b)>=0)){x[b]=S}else{h[b]=S}}fc(h,x,t,0)}else{h.attr(y)}}};e.prototype._clear=function(){var t=this;var e=this._elMap;e.each((function(r){oU(r,rU(r).option,e,t._lastGraphicModel)}));this._elMap=Ct()};e.prototype.dispose=function(){this._clear()};e.type="graphic";return e}(dm);function aU(t){var e=Pt(eU,t)?eU[t]:Ic(t);var r=new e({});rU(r).type=t;return r}function nU(t,e,r,i){var a=aU(r);e.add(a);i.set(t,a);rU(a).id=t;rU(a).isNew=true;return a}function oU(t,e,r,i){var a=t&&t.parent;if(a){t.type==="group"&&t.traverse((function(t){oU(t,e,r,i)}));FG(t,e,i);r.removeKey(rU(t).id)}}function sU(t,e,r,i){if(!t.isGroup){X([["cursor",Fs.prototype.cursor],["zlevel",i||0],["z",r||0],["z2",0]],(function(r){var i=r[0];if(Pt(e,i)){t[i]=pt(e[i],r[1])}else if(t[i]==null){t[i]=r[1]}}))}X($(e),(function(r){if(r.indexOf("on")===0){var i=e[r];t[r]=rt(i)?i:null}}));if(Pt(e,"draggable")){t.draggable=e.draggable}e.name!=null&&(t.name=e.name);e.id!=null&&(t.id=e.id)}function lU(t){t=F({},t);X(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Pd),(function(e){delete t[e]}));return t}function uU(t,e,r){var i=Tu(t).eventData;if(!t.silent&&!t.ignore&&!i){i=Tu(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}}if(i){i.info=r.info}}function fU(t){t.registerComponentModel(tU);t.registerComponentView(iU);t.registerPreprocessor((function(t){var e=t.graphic;if(et(e)){if(!e[0]||!e[0].elements){t.graphic=[{elements:e}]}else{t.graphic=[t.graphic[0]]}}else if(e&&!e.elements){t.graphic=[{elements:[e]}]}}))}var hU=["x","y","radius","angle","single"];var cU=["cartesian2d","polar","singleAxis"];function vU(t){var e=t.get("coordinateSystem");return W(cU,e)>=0}function dU(t){return t+"Axis"}function pU(t,e){var r=Ct();var i=[];var a=Ct();t.eachComponent({mainType:"dataZoom",query:e},(function(t){if(!a.get(t.uid)){s(t)}}));var n;do{n=false;t.eachComponent("dataZoom",o)}while(n);function o(t){if(!a.get(t.uid)&&l(t)){s(t);n=true}}function s(t){a.set(t.uid,true);i.push(t);u(t)}function l(t){var e=false;t.eachTargetAxis((function(t,i){var a=r.get(t);if(a&&a[i]){e=true}}));return e}function u(t){t.eachTargetAxis((function(t,e){(r.get(t)||r.set(t,[]))[e]=true}))}return i}function gU(t){var e=t.ecModel;var r={infoList:[],infoMap:Ct()};t.eachTargetAxis((function(t,i){var a=e.getComponent(dU(t),i);if(!a){return}var n=a.getCoordSysModel();if(!n){return}var o=n.uid;var s=r.infoMap.get(o);if(!s){s={model:n,axisModels:[]};r.infoList.push(s);r.infoMap.set(o,s)}s.axisModels.push(a)}));return r}var yU=function(){function t(){this.indexList=[];this.indexMap=[]}t.prototype.add=function(t){if(!this.indexMap[t]){this.indexList.push(t);this.indexMap[t]=true}};return t}();var mU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._autoThrottle=true;r._noTarget=true;r._rangePropMode=["percent","percent"];return r}e.prototype.init=function(t,e,r){var i=_U(t);this.settledOption=i;this.mergeDefaultAndTheme(t,r);this._doInit(i)};e.prototype.mergeOption=function(t){var e=_U(t);V(this.option,t,true);V(this.settledOption,e,true);this._doInit(e)};e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t);this._updateRangeUse(t);var r=this.settledOption;X([["start","startValue"],["end","endValue"]],(function(t,i){if(this._rangePropMode[i]==="value"){e[t[0]]=r[t[0]]=null}}),this);this._resetTarget()};e.prototype._resetTarget=function(){var t=this.get("orient",true);var e=this._targetAxisInfoMap=Ct();var r=this._fillSpecifiedTargetAxis(e);if(r){this._orient=t||this._makeAutoOrientByTargetAxis()}else{this._orient=t||"horizontal";this._fillAutoTargetAxisByOrient(e,this._orient)}this._noTarget=true;e.each((function(t){if(t.indexList.length){this._noTarget=false}}),this)};e.prototype._fillSpecifiedTargetAxis=function(t){var e=false;X(hU,(function(r){var i=this.getReferringComponents(dU(r),Yo);if(!i.specified){return}e=true;var a=new yU;X(i.models,(function(t){a.add(t.componentIndex)}));t.set(r,a)}),this);return e};e.prototype._fillAutoTargetAxisByOrient=function(t,e){var r=this.ecModel;var i=true;if(i){var a=e==="vertical"?"y":"x";var n=r.findComponents({mainType:a+"Axis"});o(n,a)}if(i){var n=r.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",true)===e}});o(n,"single")}function o(e,r){var a=e[0];if(!a){return}var n=new yU;n.add(a.componentIndex);t.set(r,n);i=false;if(r==="x"||r==="y"){var o=a.getReferringComponents("grid",Ho).models[0];o&&X(e,(function(t){if(a.componentIndex!==t.componentIndex&&o===t.getReferringComponents("grid",Ho).models[0]){n.add(t.componentIndex)}}))}}if(i){X(hU,(function(e){if(!i){return}var a=r.findComponents({mainType:dU(e),filter:function(t){return t.get("type",true)==="category"}});if(a[0]){var n=new yU;n.add(a[0].componentIndex);t.set(e,n);i=false}}),this)}};e.prototype._makeAutoOrientByTargetAxis=function(){var t;this.eachTargetAxis((function(e){!t&&(t=e)}),this);return t==="y"?"vertical":"horizontal"};e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}};e.prototype._updateRangeUse=function(t){var e=this._rangePropMode;var r=this.get("rangeMode");X([["start","startValue"],["end","endValue"]],(function(i,a){var n=t[i[0]]!=null;var o=t[i[1]]!=null;if(n&&!o){e[a]="percent"}else if(!n&&o){e[a]="value"}else if(r){e[a]=r[a]}else if(n){e[a]="percent"}}))};e.prototype.noTarget=function(){return this._noTarget};e.prototype.getFirstTargetAxisModel=function(){var t;this.eachTargetAxis((function(e,r){if(t==null){t=this.ecModel.getComponent(dU(e),r)}}),this);return t};e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(r,i){X(r.indexList,(function(r){t.call(e,i,r)}))}))};e.prototype.getAxisProxy=function(t,e){var r=this.getAxisModel(t,e);if(r){return r.__dzAxisProxy}};e.prototype.getAxisModel=function(t,e){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[e]){return this.ecModel.getComponent(dU(t),e)}};e.prototype.setRawRange=function(t){var e=this.option;var r=this.settledOption;X([["start","startValue"],["end","endValue"]],(function(i){if(t[i[0]]!=null||t[i[1]]!=null){e[i[0]]=r[i[0]]=t[i[0]];e[i[1]]=r[i[1]]=t[i[1]]}}),this);this._updateRangeUse(t)};e.prototype.setCalculatedRange=function(t){var e=this.option;X(["start","startValue","end","endValue"],(function(r){e[r]=t[r]}))};e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t){return t.getDataPercentWindow()}};e.prototype.getValueRange=function(t,e){if(t==null&&e==null){var r=this.findRepresentativeAxisProxy();if(r){return r.getDataValueWindow()}}else{return this.getAxisProxy(t,e).getDataValueWindow()}};e.prototype.findRepresentativeAxisProxy=function(t){if(t){return t.__dzAxisProxy}var e;var r=this._targetAxisInfoMap.keys();for(var i=0;i<r.length;i++){var a=r[i];var n=this._targetAxisInfoMap.get(a);for(var o=0;o<n.indexList.length;o++){var s=this.getAxisProxy(a,n.indexList[o]);if(s.hostedBy(this)){return s}if(!e){e=s}}}return e};e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};e.prototype.getOrient=function(){return this._orient};e.type="dataZoom";e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];e.defaultOption={z:4,filterMode:"filter",start:0,end:100};return e}(Zd);function _U(t){var e={};X(["start","end","startValue","endValue","throttle"],(function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}));return e}var xU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(mU);var wU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){this.dataZoomModel=t;this.ecModel=e;this.api=r};e.type="dataZoom";return e}(dm);var bU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(wU);var SU=X;var MU=Fn;var IU=function(){function t(t,e,r,i){this._dimName=t;this._axisIndex=e;this.ecModel=i;this._dataZoomModel=r}t.prototype.hostedBy=function(t){return this._dataZoomModel===t};t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};t.prototype.getTargetSeriesModels=function(){var t=[];this.ecModel.eachSeries((function(e){if(vU(e)){var r=dU(this._dimName);var i=e.getReferringComponents(r,Ho).models[0];if(i&&this._axisIndex===i.componentIndex){t.push(e)}}}),this);return t};t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};t.prototype.getMinMaxSpan=function(){return z(this._minMaxSpan)};t.prototype.calculateDataWindow=function(t){var e=this._dataExtent;var r=this.getAxisModel();var i=r.axis.scale;var a=this._dataZoomModel.getRangePropMode();var n=[0,100];var o=[];var s=[];var l;SU(["start","end"],(function(r,u){var f=t[r];var h=t[r+"Value"];if(a[u]==="percent"){f==null&&(f=n[u]);h=i.parse(zn(f,n,e))}else{l=true;h=h==null?e[u]:i.parse(h);f=zn(h,e,n)}s[u]=h==null||isNaN(h)?e[u]:h;o[u]=f==null||isNaN(f)?n[u]:f}));MU(s);MU(o);var u=this._minMaxSpan;l?f(s,o,e,n,false):f(o,s,n,e,true);function f(t,e,r,a,n){var o=n?"Span":"ValueSpan";tz(0,t,r,"all",u["min"+o],u["max"+o]);for(var s=0;s<2;s++){e[s]=zn(t[s],r,a,true);n&&(e[s]=i.parse(e[s]))}}return{valueWindow:s,percentWindow:o}};t.prototype.reset=function(t){if(t!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=TU(this,this._dimName,e);this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow;this._percentWindow=r.percentWindow;this._setAxisModel()};t.prototype.filterData=function(t,e){if(t!==this._dataZoomModel){return}var r=this._dimName;var i=this.getTargetSeriesModels();var a=t.get("filterMode");var n=this._valueWindow;if(a==="none"){return}SU(i,(function(t){var e=t.getData();var i=e.mapDimensionsAll(r);if(!i.length){return}if(a==="weakFilter"){var s=e.getStore();var l=Z(i,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){var e;var r;var a;for(var o=0;o<i.length;o++){var u=s.get(l[o],t);var f=!isNaN(u);var h=u<n[0];var c=u>n[1];if(f&&!h&&!c){return true}f&&(a=true);h&&(e=true);c&&(r=true)}return a&&e&&r}))}else{SU(i,(function(r){if(a==="empty"){t.setData(e=e.map(r,(function(t){return!o(t)?NaN:t})))}else{var i={};i[r]=n;e.selectRange(i)}}))}SU(i,(function(t){e.setApproximateExtent(n,t)}))}));function o(t){return t>=n[0]&&t<=n[1]}};t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={};var e=this._dataZoomModel;var r=this._dataExtent;SU(["min","max"],(function(i){var a=e.get(i+"Span");var n=e.get(i+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n));if(n!=null){a=zn(r[0]+n,r,[0,100],true)}else if(a!=null){n=zn(a,[0,100],r,true)-r[0]}t[i+"Span"]=a;t[i+"ValueSpan"]=n}),this)};t.prototype._setAxisModel=function(){var t=this.getAxisModel();var e=this._percentWindow;var r=this._valueWindow;if(!e){return}var i=Hn(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;if(e[0]!==0){a.setDeterminedMinMax("min",+r[0].toFixed(i))}if(e[1]!==100){a.setDeterminedMinMax("max",+r[1].toFixed(i))}a.freeze()};return t}();function TU(t,e,r){var i=[Infinity,-Infinity];SU(r,(function(t){_M(i,t.getData(),e)}));var a=t.getAxisModel();var n=nM(a.axis.scale,a,i).calculate();return[n.min,n.max]}var DU={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(r){r.eachTargetAxis((function(i,a){var n=t.getComponent(dU(i),a);e(i,a,n,r)}))}))}e((function(t,e,r,i){r.__dzAxisProxy=null}));var r=[];e((function(e,i,a,n){if(!a.__dzAxisProxy){a.__dzAxisProxy=new IU(e,i,n,t);r.push(a.__dzAxisProxy)}}));var i=Ct();X(r,(function(t){X(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))}));return i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,r){t.getAxisProxy(e,r).reset(t)}));t.eachTargetAxis((function(r,i){t.getAxisProxy(r,i).filterData(t,e)}))}));t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var r=e.getDataPercentWindow();var i=e.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}}))}};function CU(t){t.registerAction("dataZoom",(function(t,e){var r=pU(e,t);X(r,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var AU=false;function kU(t){if(AU){return}AU=true;t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,DU);CU(t);t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))}function LU(t){t.registerComponentModel(xU);t.registerComponentView(bU);kU(t)}var PU=function(){function t(){}return t}();var OU={};function NU(t,e){OU[t]=e}function RU(t){return OU[t]}var EU=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;X(this.option.feature,(function(t,r){var i=RU(r);if(i){if(i.getDefaultOption){i.defaultOption=i.getDefaultOption(e)}V(t,i.defaultOption)}}))};e.type="toolbox";e.layoutMode={type:"box",ignoreSize:true};e.defaultOption={show:true,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return e}(Zd);function zU(t,e,r){var i=e.getBoxLayoutParams();var a=e.get("padding");var n={width:r.getWidth(),height:r.getHeight()};var o=Bd(i,n,a);Rd(e.get("orient"),t,e.get("itemGap"),o.width,o.height);Fd(t,i,n,a)}function VU(t,e){var r=bd(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");t=new lu({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return t}var BU=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){var a=this.group;a.removeAll();if(!t.get("show")){return}var n=+t.get("itemSize");var o=t.get("orient")==="vertical";var s=t.get("feature")||{};var l=this._features||(this._features={});var u=[];X(s,(function(t,e){u.push(e)}));new fb(this._featureNames||[],u).add(f).update(f).remove(tt(f,null)).execute();this._featureNames=u;function f(a,n){var o=u[a];var f=u[n];var c=s[o];var v=new Mv(c,t,t.ecModel);var d;if(i&&i.newTitle!=null&&i.featureName===o){c.title=i.newTitle}if(o&&!f){if(FU(o)){d={onclick:v.option.onclick,featureName:o}}else{var p=RU(o);if(!p){return}d=new p}l[o]=d}else{d=l[f];if(!d){return}}d.uid=Tv("toolbox-feature");d.model=v;d.ecModel=e;d.api=r;var g=d instanceof PU;if(!o&&f){g&&d.dispose&&d.dispose(e,r);return}if(!v.get("show")||g&&d.unusable){g&&d.remove&&d.remove(e,r);return}h(v,d,o);v.setIconStatus=function(t,e){var r=this.option;var i=this.iconPaths;r.iconStatus=r.iconStatus||{};r.iconStatus[t]=e;if(i[t]){(e==="emphasis"?cf:vf)(i[t])}};if(d instanceof PU){if(d.render){d.render(v,e,r,i)}}}function h(i,s,l){var u=i.getModel("iconStyle");var f=i.getModel(["emphasis","iconStyle"]);var h=s instanceof PU&&s.getIcons?s.getIcons():i.get("icon");var c=i.get("title")||{};var v;var d;if(it(h)){v={};v[l]=h}else{v=h}if(it(c)){d={};d[l]=c}else{d=c}var p=i.iconPaths={};X(v,(function(l,h){var c=Wc(l,{},{x:-n/2,y:-n/2,width:n,height:n});c.setStyle(u.getItemStyle());var v=c.ensureState("emphasis");v.style=f.getItemStyle();var g=new cu({style:{text:d[h],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null},ignore:true});c.setTextContent(g);Zc({el:c,componentModel:t,itemName:h,formatterParamsExtra:{title:d[h]}});c.__title=d[h];c.on("mouseover",(function(){var e=f.getItemStyle();var i=o?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";g.setStyle({fill:f.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:f.get("textBackgroundColor")});c.setTextConfig({position:f.get("textPosition")||i});g.ignore=!t.get("showTitle");r.enterEmphasis(this)})).on("mouseout",(function(){if(i.get(["iconStatus",h])!=="emphasis"){r.leaveEmphasis(this)}g.hide()}));(i.get(["iconStatus",h])==="emphasis"?cf:vf)(c);a.add(c);c.on("click",Q(s.onclick,s,e,r,h));p[h]=c}))}zU(a,t,r);a.add(VU(a.getBoundingRect(),t));o||a.eachChild((function(t){var e=t.__title;var i=t.ensureState("emphasis");var o=i.textConfig||(i.textConfig={});var s=t.getTextContent();var l=s&&s.ensureState("emphasis");if(l&&!rt(l)&&e){var u=l.style||(l.style={});var f=sn(e,cu.makeFont(u));var h=t.x+a.x;var c=t.y+a.y+n;var v=false;if(c+f.height>r.getHeight()){o.position="top";v=true}var d=v?-5-f.height:n+10;if(h+f.width/2>r.getWidth()){o.position=["100%",d];u.align="right"}else if(h-f.width/2<0){o.position=[0,d];u.align="left"}}}))};e.prototype.updateView=function(t,e,r,i){X(this._features,(function(t){t instanceof PU&&t.updateView&&t.updateView(t.model,e,r,i)}))};e.prototype.remove=function(t,e){X(this._features,(function(r){r instanceof PU&&r.remove&&r.remove(t,e)}));this.group.removeAll()};e.prototype.dispose=function(t,e){X(this._features,(function(r){r instanceof PU&&r.dispose&&r.dispose(t,e)}))};e.type="toolbox";return e}(dm);function FU(t){return t.indexOf("my")===0}var GU=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){var r=this.model;var i=r.get("name")||t.get("title.0.text")||"echarts";var a=e.getZr().painter.getType()==="svg";var n=a?"svg":r.get("type",true)||"png";var o=e.getConnectedDataURL({type:n,backgroundColor:r.get("backgroundColor",true)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});var s=c.browser;if(rt(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=i+"."+n;l.target="_blank";l.href=o;var u=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});l.dispatchEvent(u)}else{if(window.navigator.msSaveOrOpenBlob||a){var f=o.split(",");var h=f[0].indexOf("base64")>-1;var v=a?decodeURIComponent(f[1]):f[1];h&&(v=window.atob(v));var d=i+"."+n;if(window.navigator.msSaveOrOpenBlob){var p=v.length;var g=new Uint8Array(p);while(p--){g[p]=v.charCodeAt(p)}var y=new Blob([g]);window.navigator.msSaveOrOpenBlob(y,d)}else{var m=document.createElement("iframe");document.body.appendChild(m);var _=m.contentWindow;var x=_.document;x.open("image/svg+xml","replace");x.write(v);x.close();_.focus();x.execCommand("SaveAs",true,d);document.body.removeChild(m)}}else{var w=r.get("lang");var b=""+'<body style="margin:0;">'+'<img src="'+o+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" />'+"</body>";var S=window.open();S.document.write(b);S.document.title=i}}};e.getDefaultOption=function(t){var e={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e};return e}(PU);var WU="__ec_magicType_stack__";var HU=[["line","bar"],["stack"]];var YU=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon");var r={};X(t.get("type"),(function(t){if(e[t]){r[t]=e[t]}}));return r};e.getDefaultOption=function(t){var e={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e};e.prototype.onclick=function(t,e,r){var i=this.model;var a=i.get(["seriesIndex",r]);if(!UU[r]){return}var n={series:[]};var o=function(t){var e=t.subType;var a=t.id;var o=UU[r](e,a,t,i);if(o){G(o,t.option);n.series.push(o)}var s=t.coordinateSystem;if(s&&s.type==="cartesian2d"&&(r==="line"||r==="bar")){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim;var f=u+"Axis";var h=t.getReferringComponents(f,Ho).models[0];var c=h.componentIndex;n[f]=n[f]||[];for(var v=0;v<=c;v++){n[f][c]=n[f][c]||{}}n[f][c].boundaryGap=r==="bar"}}};X(HU,(function(t){if(W(t,r)>=0){X(t,(function(t){i.setIconStatus(t,"normal")}))}}));i.setIconStatus(r,"emphasis");t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},o);var s;var l=r;if(r==="stack"){s=V({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title);if(i.get(["iconStatus",r])!=="emphasis"){l="tiled"}}e.dispatchAction({type:"changeMagicType",currentType:l,newOption:n,newTitle:s,featureName:"magicType"})};return e}(PU);var UU={line:function(t,e,r,i){if(t==="bar"){return V({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","line"])||{},true)}},bar:function(t,e,r,i){if(t==="line"){return V({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","bar"])||{},true)}},stack:function(t,e,r,i){var a=r.get("stack")===WU;if(t==="line"||t==="bar"){i.setIconStatus("stack",a?"normal":"emphasis");return V({id:e,stack:a?"":WU},i.get(["option","stack"])||{},true)}}};Kw({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var XU=new Array(60).join("-");var ZU="\t";function jU(t){var e={};var r=[];var i=[];t.eachRawSeries((function(t){var a=t.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var n=a.getBaseAxis();if(n.type==="category"){var o=n.dim+"_"+n.index;if(!e[o]){e[o]={categoryAxis:n,valueAxis:a.getOtherAxis(n),series:[]};i.push({axisDim:n.dim,axisIndex:n.index})}e[o].series.push(t)}else{r.push(t)}}else{r.push(t)}}));return{seriesGroupByCategoryAxis:e,other:r,meta:i}}function qU(t){var e=[];X(t,(function(t,r){var i=t.categoryAxis;var a=t.valueAxis;var n=a.dim;var o=[" "].concat(Z(t.series,(function(t){return t.name})));var s=[i.model.getCategories()];X(t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(n),(function(t){return t})))}));var l=[o.join(ZU)];for(var u=0;u<s[0].length;u++){var f=[];for(var h=0;h<s.length;h++){f.push(s[h][u])}l.push(f.join(ZU))}e.push(l.join("\n"))}));return e.join("\n\n"+XU+"\n\n")}function KU(t){return Z(t,(function(t){var e=t.getRawData();var r=[t.name];var i=[];e.each(e.dimensions,(function(){var t=arguments.length;var a=arguments[t-1];var n=e.getName(a);for(var o=0;o<t-1;o++){i[o]=arguments[o]}r.push((n?n+ZU:"")+i.join(ZU))}));return r.join("\n")})).join("\n\n"+XU+"\n\n")}function $U(t){var e=jU(t);return{value:q([qU(e.seriesGroupByCategoryAxis),KU(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+XU+"\n\n"),meta:e.meta}}function JU(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function QU(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(ZU)>=0){return true}}var tX=new RegExp("["+ZU+"]+","g");function eX(t){var e=t.split(/\n+/g);var r=JU(e.shift()).split(tX);var i=[];var a=Z(r,(function(t){return{name:t,data:[]}}));for(var n=0;n<e.length;n++){var o=JU(e[n]).split(tX);i.push(o.shift());for(var s=0;s<o.length;s++){a[s]&&(a[s].data[n]=o[s])}}return{series:a,categories:i}}function rX(t){var e=t.split(/\n+/g);var r=JU(e.shift());var i=[];for(var a=0;a<e.length;a++){var n=JU(e[a]);if(!n){continue}var o=n.split(tX);var s="";var l=void 0;var u=false;if(isNaN(o[0])){u=true;s=o[0];o=o.slice(1);i[a]={name:s,value:[]};l=i[a].value}else{l=i[a]=[]}for(var f=0;f<o.length;f++){l.push(+o[f])}if(l.length===1){u?i[a].value=l[0]:i[a]=l[0]}}return{name:r,data:i}}function iX(t,e){var r=t.split(new RegExp("\n*"+XU+"\n*","g"));var i={series:[]};X(r,(function(t,r){if(QU(t)){var a=eX(t);var n=e[r];var o=n.axisDim+"Axis";if(n){i[o]=i[o]||[];i[o][n.axisIndex]={data:a.categories};i.series=i.series.concat(a.series)}}else{var a=rX(t);i.series.push(a)}}));return i}var aX=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var r=e.getDom();var i=this.model;if(this._dom){r.removeChild(this._dom)}var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px";a.style.backgroundColor=i.get("backgroundColor")||"#fff";var n=document.createElement("h4");var o=i.get("lang")||[];n.innerHTML=o[0]||i.get("title");n.style.cssText="margin:10px 20px";n.style.color=i.get("textColor");var s=document.createElement("div");var l=document.createElement("textarea");s.style.cssText="overflow:auto";var u=i.get("optionToContent");var f=i.get("contentToOption");var h=$U(t);if(rt(u)){var c=u(e.getOption());if(it(c)){s.innerHTML=c}else if(ut(c)){s.appendChild(c)}}else{l.readOnly=i.get("readOnly");var v=l.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none";v.color=i.get("textColor");v.borderColor=i.get("textareaBorderColor");v.backgroundColor=i.get("textareaColor");l.value=h.value;s.appendChild(l)}var d=h.meta;var p=document.createElement("div");p.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var y=document.createElement("div");var m=document.createElement("div");g+=";background-color:"+i.get("buttonColor");g+=";color:"+i.get("buttonTextColor");var _=this;function x(){r.removeChild(a);_._dom=null}Te(y,"click",x);Te(m,"click",(function(){if(f==null&&u!=null||f!=null&&u==null){x();return}var t;try{if(rt(f)){t=f(s,e.getOption())}else{t=iX(l.value,d)}}catch(Th){x();throw new Error("Data view format error "+Th)}if(t){e.dispatchAction({type:"changeDataView",newOption:t})}x()}));y.innerHTML=o[1];m.innerHTML=o[2];m.style.cssText=y.style.cssText=g;!i.get("readOnly")&&p.appendChild(m);p.appendChild(y);a.appendChild(n);a.appendChild(s);a.appendChild(p);s.style.height=r.clientHeight-80+"px";r.appendChild(a);this._dom=a};e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.getDefaultOption=function(t){var e={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e};return e}(PU);function nX(t,e){return Z(t,(function(t,r){var i=e&&e[r];if(ot(i)&&!et(i)){var a=ot(t)&&!et(t);if(!a){t={value:t}}var n=i.name!=null&&t.name==null;t=G(t,i);n&&delete t.name;return t}else{return t}}))}Kw({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var r=[];X(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(!i){r.push(F({type:"scatter"},t))}else{var a=i.get("data");r.push({name:t.name,data:nX(t.data,a)})}}));e.mergeOption(G({series:r},t.newOption))}));var oX=X;var sX=Bo();function lX(t,e){var r=cX(t);oX(e,(function(e,i){var a=r.length-1;for(;a>=0;a--){var n=r[a];if(n[i]){break}}if(a<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var s=o.getPercentRange();r[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}}));r.push(e)}function uX(t){var e=cX(t);var r=e[e.length-1];e.length>1&&e.pop();var i={};oX(r,(function(t,r){for(var a=e.length-1;a>=0;a--){t=e[a][r];if(t){i[r]=t;break}}}));return i}function fX(t){sX(t).snapshots=null}function hX(t){return cX(t).length}function cX(t){var e=sX(t);if(!e.snapshots){e.snapshots=[{}]}return e.snapshots}var vX=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){fX(t);e.dispatchAction({type:"restore",from:this.uid})};e.getDefaultOption=function(t){var e={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e};return e}(PU);Kw({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var dX=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var pX=function(){function t(t,e,r){var i=this;this._targetInfoList=[];var a=yX(e,t);X(mX,(function(t,e){if(!r||!r.include||W(r.include,e)>=0){t(a,i._targetInfoList)}}))}t.prototype.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,(function(t,e,r){(t.coordRanges||(t.coordRanges=[])).push(e);if(!t.coordRange){t.coordRange=e;var i=wX[t.brushType](0,r,e);t.__rangeOffset={offset:SX[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}}));return t};t.prototype.matchOutputRanges=function(t,e,r){X(t,(function(t){var i=this.findTargetInfo(t,e);if(i&&i!==true){X(i.coordSyses,(function(i){var a=wX[t.brushType](1,i,t.range,true);r(t,a.values,i,e)}))}}),this)};t.prototype.setInputRanges=function(t,e){X(t,(function(t){var r=this.findTargetInfo(t,e);t.range=t.range||[];if(r&&r!==true){t.panelId=r.panelId;var i=wX[t.brushType](0,r.coordSys,t.coordRange);var a=t.__rangeOffset;t.range=a?SX[t.brushType](i.values,a.offset,IX(i.xyMinMax,a.xyMinMax)):i.values}}),this)};t.prototype.makePanelOpts=function(t,e){return Z(this._targetInfoList,(function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:cV(i),isTargetByCursor:dV(i,t,r.coordSysModel),getLinearBrushOtherExtent:vV(i)}}))};t.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return i===true||i&&W(i.coordSyses,e.coordinateSystem)>=0};t.prototype.findTargetInfo=function(t,e){var r=this._targetInfoList;var i=yX(e,t);for(var a=0;a<r.length;a++){var n=r[a];var o=t.panelId;if(o){if(n.panelId===o){return n}}else{for(var s=0;s<_X.length;s++){if(_X[s](i,n)){return n}}}}return true};return t}();function gX(t){t[0]>t[1]&&t.reverse();return t}function yX(t,e){return Go(t,e,{includeMainTypes:dX})}var mX={grid:function(t,e){var r=t.xAxisModels;var i=t.yAxisModels;var a=t.gridModels;var n=Ct();var o={};var s={};if(!r&&!i&&!a){return}X(r,(function(t){var e=t.axis.grid.model;n.set(e.id,e);o[e.id]=true}));X(i,(function(t){var e=t.axis.grid.model;n.set(e.id,e);s[e.id]=true}));X(a,(function(t){n.set(t.id,t);o[t.id]=true;s[t.id]=true}));n.each((function(t){var a=t.coordinateSystem;var n=[];X(a.getCartesians(),(function(t,e){if(W(r,t.getAxis("x").model)>=0||W(i,t.getAxis("y").model)>=0){n.push(t)}}));e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:xX.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){X(t.geoModels,(function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:xX.geo})}))}};var _X=[function(t,e){var r=t.xAxisModel;var i=t.yAxisModel;var a=t.gridModel;!a&&r&&(a=r.axis.grid.model);!a&&i&&(a=i.axis.grid.model);return a&&a===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}];var xX={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys;var e=t.getBoundingRect().clone();e.applyTransform(Nc(t));return e}};var wX={lineX:tt(bX,0),lineY:tt(bX,1),rect:function(t,e,r,i){var a=t?e.pointToData([r[0][0],r[1][0]],i):e.dataToPoint([r[0][0],r[1][0]],i);var n=t?e.pointToData([r[0][1],r[1][1]],i):e.dataToPoint([r[0][1],r[1][1]],i);var o=[gX([a[0],n[0]]),gX([a[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,i){var a=[[Infinity,-Infinity],[Infinity,-Infinity]];var n=Z(r,(function(r){var n=t?e.pointToData(r,i):e.dataToPoint(r,i);a[0][0]=Math.min(a[0][0],n[0]);a[1][0]=Math.min(a[1][0],n[1]);a[0][1]=Math.max(a[0][1],n[0]);a[1][1]=Math.max(a[1][1],n[1]);return n}));return{values:n,xyMinMax:a}}};function bX(t,e,r,i){var a=r.getAxis(["x","y"][t]);var n=gX(Z([0,1],(function(t){return e?a.coordToData(a.toLocalCoord(i[t]),true):a.toGlobalCoord(a.dataToCoord(i[t]))})));var o=[];o[t]=n;o[1-t]=[NaN,NaN];return{values:n,xyMinMax:o}}var SX={lineX:tt(MX,0),lineY:tt(MX,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return Z(t,(function(t,i){return[t[0]-r[0]*e[i][0],t[1]-r[1]*e[i][1]]}))}};function MX(t,e,r,i){return[e[0]-i[t]*r[0],e[1]-i[t]*r[1]]}function IX(t,e){var r=TX(t);var i=TX(e);var a=[r[0]/i[0],r[1]/i[1]];isNaN(a[0])&&(a[0]=1);isNaN(a[1])&&(a[1]=1);return a}function TX(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var DX=X;var CX=No("toolbox-dataZoom_");var AX=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){if(!this._brushController){this._brushController=new Az(r.getZr());this._brushController.on("brush",Q(this._onBrush,this)).mount()}OX(t,e,this,i,r);PX(t,e)};e.prototype.onclick=function(t,e,r){kX[r].call(this)};e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()};e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()};e.prototype._onBrush=function(t){var e=t.areas;if(!t.isEnd||!e.length){return}var r={};var i=this.ecModel;this._brushController.updateCovers([]);var a=new pX(LX(this.model),i,{include:["grid"]});a.matchOutputRanges(e,i,(function(t,e,r){if(r.type!=="cartesian2d"){return}var i=t.brushType;if(i==="rect"){n("x",r,e[0]);n("y",r,e[1])}else{n({lineX:"x",lineY:"y"}[i],r,e)}}));lX(i,r);this._dispatchZoomAction(r);function n(t,e,a){var n=e.getAxis(t);var s=n.model;var l=o(t,s,i);var u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();if(u.minValueSpan!=null||u.maxValueSpan!=null){a=tz(0,a.slice(),n.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)}l&&(r[l.id]={dataZoomId:l.id,startValue:a[0],endValue:a[1]})}function o(t,e,r){var i;r.eachComponent({mainType:"dataZoom",subType:"select"},(function(r){var a=r.getAxisModel(t,e.componentIndex);a&&(i=r)}));return i}};e.prototype._dispatchZoomAction=function(t){var e=[];DX(t,(function(t,r){e.push(z(t))}));e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})};e.getDefaultOption=function(t){var e={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e};return e}(PU);var kX={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(uX(this.ecModel))}};function LX(t){var e={xAxisIndex:t.get("xAxisIndex",true),yAxisIndex:t.get("yAxisIndex",true),xAxisId:t.get("xAxisId",true),yAxisId:t.get("yAxisId",true)};if(e.xAxisIndex==null&&e.xAxisId==null){e.xAxisIndex="all"}if(e.yAxisIndex==null&&e.yAxisId==null){e.yAxisIndex="all"}return e}function PX(t,e){t.setIconStatus("back",hX(e)>1?"emphasis":"normal")}function OX(t,e,r,i,a){var n=r._isZoomActive;if(i&&i.type==="takeGlobalCursor"){n=i.key==="dataZoomSelect"?i.dataZoomSelectActive:false}r._isZoomActive=n;t.setIconStatus("zoom",n?"emphasis":"normal");var o=new pX(LX(t),e,{include:["grid"]});var s=o.makePanelOpts(a,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));r._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:false)}yp("dataZoom",(function(t){var e=t.getComponent("toolbox",0);var r=["feature","dataZoom"];if(!e||e.get(r)==null){return}var i=e.getModel(r);var a=[];var n=LX(i);var o=Go(t,n);DX(o.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")}));DX(o.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")}));function s(t,e,r){var n=t.componentIndex;var o={type:"select",$fromToolbox:true,filterMode:i.get("filterMode",true)||"filter",id:CX+e+n};o[r]=n;a.push(o)}return a}));function NX(t){t.registerComponentModel(EU);t.registerComponentView(BU);NU("saveAsImage",GU);NU("magicType",YU);NU("dataView",aX);NU("dataZoom",AX);NU("restore",vX);sb(LU)}var RX=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="tooltip";e.dependencies=["axisPointer"];e.defaultOption={z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return e}(Zd);function EX(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function zX(t){if(!c.domSupported){return}var e=document.documentElement.style;for(var r=0,i=t.length;r<i;r++){if(t[r]in e){return t[r]}}}var VX=zX(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var BX=zX(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function FX(t,e){if(!t){return e}e=wd(e,true);var r=t.indexOf(e);t=r===-1?e:"-"+t.slice(0,r)+"-"+e;return t.toLowerCase()}function GX(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?e?r[e]:r:null}var WX=FX(BX,"transition");var HX=FX(VX,"transform");var YX="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(c.transform3dSupported?"will-change:transform;":"");function UX(t){t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top";return t}function XX(t,e,r){if(!it(r)||r==="inside"){return""}var i=t.get("backgroundColor");var a=t.get("borderWidth");e=Ad(e);var n=UX(r);var o=Math.max(Math.round(a)*1.5,6);var s="";var l=HX+":";var u;if(W(["left","right"],n)>-1){s+="top:50%";l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"}else{s+="left:50%";l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)"}var f=u*Math.PI/180;var h=o+a;var c=h*Math.abs(Math.cos(f))+h*Math.abs(Math.sin(f));var v=Math.round(((c-Math.SQRT2*a)/2+Math.SQRT2*a-(c-h)/2)*100)/100;s+=";"+n+":-"+v+"px";var d=e+" solid "+a+"px;";var p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+i+";"];return'<div style="'+p.join("")+'"></div>'}function ZX(t,e){var r="cubic-bezier(0.23,1,0.32,1)";var i=" "+t/2+"s "+r;var a="opacity"+i+",visibility"+i;if(!e){i=" "+t+"s "+r;a+=c.transformSupported?","+HX+i:",left"+i+",top"+i}return WX+":"+a}function jX(t,e,r){var i=t.toFixed(0)+"px";var a=e.toFixed(0)+"px";if(!c.transformSupported){return r?"top:"+a+";left:"+i+";":[["top",a],["left",i]]}var n=c.transform3dSupported;var o="translate"+(n?"3d":"")+"("+i+","+a+(n?",0":"")+")";return r?"top:0;left:0;"+HX+":"+o+";":[["top",0],["left",0],[VX,o]]}function qX(t){var e=[];var r=t.get("fontSize");var i=t.getTextColor();i&&e.push("color:"+i);e.push("font:"+t.getFont());r&&e.push("line-height:"+Math.round(r*3/2)+"px");var a=t.get("textShadowColor");var n=t.get("textShadowBlur")||0;var o=t.get("textShadowOffsetX")||0;var s=t.get("textShadowOffsetY")||0;a&&n&&e.push("text-shadow:"+o+"px "+s+"px "+n+"px "+a);X(["decoration","align"],(function(r){var i=t.get(r);i&&e.push("text-"+r+":"+i)}));return e.join(";")}function KX(t,e,r){var i=[];var a=t.get("transitionDuration");var n=t.get("backgroundColor");var o=t.get("shadowBlur");var s=t.get("shadowColor");var l=t.get("shadowOffsetX");var u=t.get("shadowOffsetY");var f=t.getModel("textStyle");var h=Jy(t,"html");var c=l+"px "+u+"px "+o+"px "+s;i.push("box-shadow:"+c);e&&a&&i.push(ZX(a,r));if(n){i.push("background-color:"+n)}X(["width","color","radius"],(function(e){var r="border-"+e;var a=wd(r);var n=t.get(a);n!=null&&i.push(r+":"+n+(e==="color"?"":"px"))}));i.push(qX(f));if(h!=null){i.push("padding:"+bd(h).join("px ")+"px")}return i.join(";")+";"}function $X(t,e,r,i,a){var n=e&&e.painter;if(r){var o=n&&n.getViewportRoot();if(o){fe(t,o,document.body,i,a)}}else{t[0]=i;t[1]=a;var s=n&&n.getViewportRootOffset();if(s){t[0]+=s.offsetLeft;t[1]+=s.offsetTop}}t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var JX=function(){function t(t,e,r){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._firstShow=true;this._longHide=true;if(c.wxa){return null}var i=document.createElement("div");i.domBelongToZr=true;this.el=i;var a=this._zr=e.getZr();var n=this._appendToBody=r&&r.appendToBody;$X(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2);if(n){document.body.appendChild(i)}else{t.appendChild(i)}this._container=t;var o=this;i.onmouseenter=function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true};i.onmousemove=function(t){t=t||window.event;if(!o._enterable){var e=a.handler;var r=a.painter.getViewportRoot();Me(r,t,true);e.dispatch("mousemove",t)}};i.onmouseleave=function(){o._inContent=false;if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}}}t.prototype.update=function(t){var e=this._container;var r=GX(e,"position");var i=e.style;if(i.position!=="absolute"&&r!=="absolute"){i.position="relative"}var a=t.get("alwaysShowContent");a&&this._moveIfResized();this.el.className=t.get("className")||""};t.prototype.show=function(t,e){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var r=this.el;var i=r.style;var a=this._styleCoord;if(!r.innerHTML){i.display="none"}else{i.cssText=YX+KX(t,!this._firstShow,this._longHide)+jX(a[0],a[1],true)+("border-color:"+Ad(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};t.prototype.setContent=function(t,e,r,i,a){var n=this.el;if(t==null){n.innerHTML="";return}var o="";if(it(a)&&r.get("trigger")==="item"&&!EX(r)){o=XX(r,i,a)}if(it(t)){n.innerHTML=t+o}else if(t){n.innerHTML="";if(!et(t)){t=[t]}for(var s=0;s<t.length;s++){if(ut(t[s])&&t[s].parentNode!==n){n.appendChild(t[s])}}if(o&&n.childNodes.length){var l=document.createElement("div");l.innerHTML=o;n.appendChild(l)}}};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]};t.prototype.moveTo=function(t,e){var r=this._styleCoord;$X(r,this._zr,this._appendToBody,t,e);if(r[0]!=null&&r[1]!=null){var i=this.el.style;var a=jX(r[0],r[1]);X(a,(function(t){i[t[0]]=t[1]}))}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){var t=this;var e=this.el.style;e.visibility="hidden";e.opacity="0";c.transform3dSupported&&(e.willChange="");this._show=false;this._longHideTimeout=setTimeout((function(){return t._longHide=true}),500)};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(Q(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)};return t}();var QX=function(){function t(t){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._zr=t.getZr();rZ(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()};t.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};t.prototype.setContent=function(t,e,r,i,a){var n=this;if(ot(t)){co("")}if(this.el){this._zr.remove(this.el)}var o=r.getModel("textStyle");this.el=new cu({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Jy(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")});X(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){n.el.style[t]=r.get(t)}));X(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){n.el.style[t]=o.get(t)||0}));this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){if(s._enterable){clearTimeout(s._hideTimeout);s._show=true}s._inContent=true}));this.el.on("mouseout",(function(){if(s._enterable){if(s._show){s.hideLater(s._hideDelay)}}s._inContent=false}))};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;var e=this.el.getBoundingRect();var r=eZ(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]};t.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;rZ(i,this._zr,t,e);t=i[0];e=i[1];var a=r.style;var n=tZ(a.borderWidth||0);var o=eZ(a);r.x=t+n+o.left;r.y=e+n+o.top;r.markRedraw()}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(Q(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){this._zr.remove(this.el)};return t}();function tZ(t){return Math.max(0,t)}function eZ(t){var e=tZ(t.shadowBlur||0);var r=tZ(t.shadowOffsetX||0);var i=tZ(t.shadowOffsetY||0);return{left:tZ(e-r),right:tZ(e+r),top:tZ(e-i),bottom:tZ(e+i)}}function rZ(t,e,r,i){t[0]=r;t[1]=i;t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var iZ=new lu({shape:{x:-1,y:-1,width:2,height:2}});var aZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){if(c.node||!e.getDom()){return}var r=t.getComponent("tooltip");var i=this._renderMode=jo(r.get("renderMode"));this._tooltipContent=i==="richText"?new QX(e):new JX(e.getDom(),e,{appendToBody:r.get("appendToBody",true)})};e.prototype.render=function(t,e,r){if(c.node||!r.getDom()){return}this.group.removeAll();this._tooltipModel=t;this._ecModel=e;this._api=r;this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t);i.setEnterable(t.get("enterable"));this._initGlobalListener();this._keepShow();if(this._renderMode!=="richText"&&t.get("transitionDuration")){Cm(this,"_updatePosition",50,"fixRate")}else{Am(this,"_updatePosition")}};e.prototype._initGlobalListener=function(){var t=this._tooltipModel;var e=t.get("triggerOn");dH("itemTooltip",this._api,Q((function(t,r,i){if(e!=="none"){if(e.indexOf(t)>=0){this._tryShow(r,i)}else if(t==="leave"){this._hide(i)}}}),this))};e.prototype._keepShow=function(){var t=this._tooltipModel;var e=this._ecModel;var r=this._api;var i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout((function(){!r.isDisposed()&&a.manuallyShowTip(t,e,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})}))}};e.prototype.manuallyShowTip=function(t,e,r,i){if(i.from===this.uid||c.node||!r.getDom()){return}var a=oZ(i,r);this._ticket="";var n=i.dataByCoordSys;var o=hZ(i,e,r);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform);this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:i.position,positionDefault:"bottom"},a)}else if(i.tooltip&&i.x!=null&&i.y!=null){var l=iZ;l.x=i.x;l.y=i.y;l.update();Tu(l).tooltipConfig={name:null,option:i.tooltip};this._tryShow({offsetX:i.x,offsetY:i.y,target:l},a)}else if(n){this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:n,tooltipOption:i.tooltipOption},a)}else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,e,r,i)){return}var u=bH(i,e);var f=u.point[0];var h=u.point[1];if(f!=null&&h!=null){this._tryShow({offsetX:f,offsetY:h,target:u.el,position:i.position,positionDefault:"bottom"},a)}}else if(i.x!=null&&i.y!=null){r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y});this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},a)}};e.prototype.manuallyHideTip=function(t,e,r,i){var a=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){a.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(i.from!==this.uid){this._hide(oZ(i,r))}};e.prototype._manuallyAxisShowTip=function(t,e,r,i){var a=i.seriesIndex;var n=i.dataIndex;var o=e.getComponent("axisPointer").coordSysAxesInfo;if(a==null||n==null||o==null){return}var s=e.getSeriesByIndex(a);if(!s){return}var l=s.getData();var u=nZ([l.getItemModel(n),s,(s.coordinateSystem||{}).model],this._tooltipModel);if(u.get("trigger")!=="axis"){return}r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:n,position:i.position});return true};e.prototype._tryShow=function(t,e){var r=t.target;var i=this._tooltipModel;if(!i){return}this._lastX=t.offsetX;this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length){this._showAxisTooltip(a,t)}else if(r){this._lastDataByCoordSys=null;var n;var o;x_(r,(function(t){if(Tu(t).dataIndex!=null){n=t;return true}if(Tu(t).tooltipConfig!=null){o=t;return true}}),true);if(n){this._showSeriesItemTooltip(t,n,e)}else if(o){this._showComponentItemTooltip(t,o,e)}else{this._hide(e)}}else{this._lastDataByCoordSys=null;this._hide(e)}};e.prototype._showOrMove=function(t,e){var r=t.get("showDelay");e=Q(e,this);clearTimeout(this._showTimout);r>0?this._showTimout=setTimeout(e,r):e()};e.prototype._showAxisTooltip=function(t,e){var r=this._ecModel;var i=this._tooltipModel;var a=[e.offsetX,e.offsetY];var n=nZ([e.tooltipOption],i);var o=this._renderMode;var s=[];var l=Vy("section",{blocks:[],noHeader:true});var u=[];var f=new Qy;X(t,(function(t){X(t.dataByAxis,(function(t){var e=r.getComponent(t.axisDim+"Axis",t.axisIndex);var a=t.value;if(!e||a==null){return}var n=eH(a,e.axis,r,t.seriesDataIndices,t.valueLabelOpt);var h=Vy("section",{header:n,noHeader:!xt(n),sortBlocks:true,blocks:[]});l.blocks.push(h);X(t.seriesDataIndices,(function(l){var c=r.getSeriesByIndex(l.seriesIndex);var v=l.dataIndexInside;var d=c.getDataParams(v);if(d.dataIndex<0){return}d.axisDim=t.axisDim;d.axisIndex=t.axisIndex;d.axisType=t.axisType;d.axisId=t.axisId;d.axisValue=vM(e.axis,{value:a});d.axisValueLabel=n;d.marker=f.makeTooltipMarker("item",Ad(d.color),o);var p=qg(c.formatTooltip(v,true,null));var g=p.frag;if(g){var y=nZ([c],i).get("valueFormatter");h.blocks.push(y?F({valueFormatter:y},g):g)}if(p.text){u.push(p.text)}s.push(d)}))}))}));l.blocks.reverse();u.reverse();var h=e.position;var c=n.get("order");var v=Yy(l,f,o,c,r.get("useUTC"),n.get("textStyle"));v&&u.unshift(v);var d=o==="richText"?"\n\n":"<br/>";var p=u.join(d);this._showOrMove(n,(function(){if(this._updateContentNotChangedOnAxis(t,s)){this._updatePosition(n,h,a[0],a[1],this._tooltipContent,s)}else{this._showTooltipContent(n,p,s,Math.random()+"",a[0],a[1],h,null,f)}}))};e.prototype._showSeriesItemTooltip=function(t,e,r){var i=this._ecModel;var a=Tu(e);var n=a.seriesIndex;var o=i.getSeriesByIndex(n);var s=a.dataModel||o;var l=a.dataIndex;var u=a.dataType;var f=s.getData(u);var h=this._renderMode;var c=t.positionDefault;var v=nZ([f.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,c?{position:c}:null);var d=v.get("trigger");if(d!=null&&d!=="item"){return}var p=s.getDataParams(l,u);var g=new Qy;p.marker=g.makeTooltipMarker("item",Ad(p.color),h);var y=qg(s.formatTooltip(l,false,u));var m=v.get("order");var _=v.get("valueFormatter");var x=y.frag;var w=x?Yy(_?F({valueFormatter:_},x):x,g,h,m,i.get("useUTC"),v.get("textStyle")):y.text;var b="item_"+s.name+"_"+l;this._showOrMove(v,(function(){this._showTooltipContent(v,w,p,b,t.offsetX,t.offsetY,t.position,t.target,g)}));r({type:"showTip",dataIndexInside:l,dataIndex:f.getRawIndex(l),seriesIndex:n,from:this.uid})};e.prototype._showComponentItemTooltip=function(t,e,r){var i=Tu(e);var a=i.tooltipConfig;var n=a.option||{};if(it(n)){var o=n;n={content:o,formatter:o}}var s=[n];var l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);if(l){s.push(l)}s.push({formatter:n.content});var u=t.positionDefault;var f=nZ(s,this._tooltipModel,u?{position:u}:null);var h=f.get("content");var c=Math.random()+"";var v=new Qy;this._showOrMove(f,(function(){var r=z(f.get("formatterParams")||{});this._showTooltipContent(f,h,r,c,t.offsetX,t.offsetY,t.position,e,v)}));r({type:"showTip",from:this.uid})};e.prototype._showTooltipContent=function(t,e,r,i,a,n,o,s,l){this._ticket="";if(!t.get("showContent")||!t.get("show")){return}var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var f=t.get("formatter");o=o||t.get("position");var h=e;var c=this._getNearestPoint([a,n],r,t.get("trigger"),t.get("borderColor"));var v=c.color;if(f){if(it(f)){var d=t.ecModel.get("useUTC");var p=et(r)?r[0]:r;var g=p&&p.axisType&&p.axisType.indexOf("time")>=0;h=f;if(g){h=rd(p.axisValue,h,d)}h=Td(h,r,true)}else if(rt(f)){var y=Q((function(e,i){if(e===this._ticket){u.setContent(i,l,t,v,o);this._updatePosition(t,o,a,n,u,r,s)}}),this);this._ticket=i;h=f(r,i,y)}else{h=f}}u.setContent(h,l,t,v,o);u.show(t,v);this._updatePosition(t,o,a,n,u,r,s)};e.prototype._getNearestPoint=function(t,e,r,i){if(r==="axis"||et(e)){return{color:i||(this._renderMode==="html"?"#fff":"none")}}if(!et(e)){return{color:i||e.color||e.borderColor}}};e.prototype._updatePosition=function(t,e,r,i,a,n,o){var s=this._api.getWidth();var l=this._api.getHeight();e=e||t.get("position");var u=a.getSize();var f=t.get("align");var h=t.get("verticalAlign");var c=o&&o.getBoundingRect().clone();o&&c.applyTransform(o.transform);if(rt(e)){e=e([r,i],n,a.el,c,{viewSize:[s,l],contentSize:u.slice()})}if(et(e)){r=Vn(e[0],s);i=Vn(e[1],l)}else if(ot(e)){var v=e;v.width=u[0];v.height=u[1];var d=Bd(v,{width:s,height:l});r=d.x;i=d.y;f=null;h=null}else if(it(e)&&o){var p=uZ(e,c,u,t.get("borderWidth"));r=p[0];i=p[1]}else{var p=sZ(r,i,a,s,l,f?null:20,h?null:20);r=p[0];i=p[1]}f&&(r-=fZ(f)?u[0]/2:f==="right"?u[0]:0);h&&(i-=fZ(h)?u[1]/2:h==="bottom"?u[1]:0);if(EX(t)){var p=lZ(r,i,a,s,l);r=p[0];i=p[1]}a.moveTo(r,i)};e.prototype._updateContentNotChangedOnAxis=function(t,e){var r=this._lastDataByCoordSys;var i=this._cbParamsList;var a=!!r&&r.length===t.length;a&&X(r,(function(r,n){var o=r.dataByAxis||[];var s=t[n]||{};var l=s.dataByAxis||[];a=a&&o.length===l.length;a&&X(o,(function(t,r){var n=l[r]||{};var o=t.seriesDataIndices||[];var s=n.seriesDataIndices||[];a=a&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===s.length;a&&X(o,(function(t,e){var r=s[e];a=a&&t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex}));i&&X(t.seriesDataIndices,(function(t){var r=t.seriesIndex;var n=e[r];var o=i[r];if(n&&o&&o.data!==n.data){a=false}}))}))}));this._lastDataByCoordSys=t;this._cbParamsList=e;return!!a};e.prototype._hide=function(t){this._lastDataByCoordSys=null;t({type:"hideTip",from:this.uid})};e.prototype.dispose=function(t,e){if(c.node||!e.getDom()){return}Am(this,"_updatePosition");this._tooltipContent.dispose();xH("itemTooltip",e)};e.type="tooltip";return e}(dm);function nZ(t,e,r){var i=e.ecModel;var a;if(r){a=new Mv(r,i,i);a=new Mv(e.option,a,i)}else{a=e}for(var n=t.length-1;n>=0;n--){var o=t[n];if(o){if(o instanceof Mv){o=o.get("tooltip",true)}if(it(o)){o={formatter:o}}if(o){a=new Mv(o,a,i)}}}return a}function oZ(t,e){return t.dispatchAction||Q(e.dispatchAction,e)}function sZ(t,e,r,i,a,n,o){var s=r.getSize();var l=s[0];var u=s[1];if(n!=null){if(t+l+n+2>i){t-=l+n}else{t+=n}}if(o!=null){if(e+u+o>a){e-=u+o}else{e+=o}}return[t,e]}function lZ(t,e,r,i,a){var n=r.getSize();var o=n[0];var s=n[1];t=Math.min(t+o,i)-o;e=Math.min(e+s,a)-s;t=Math.max(t,0);e=Math.max(e,0);return[t,e]}function uZ(t,e,r,i){var a=r[0];var n=r[1];var o=Math.ceil(Math.SQRT2*i)+8;var s=0;var l=0;var u=e.width;var f=e.height;switch(t){case"inside":s=e.x+u/2-a/2;l=e.y+f/2-n/2;break;case"top":s=e.x+u/2-a/2;l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2;l=e.y+f+o;break;case"left":s=e.x-a-o;l=e.y+f/2-n/2;break;case"right":s=e.x+u+o;l=e.y+f/2-n/2}return[s,l]}function fZ(t){return t==="center"||t==="middle"}function hZ(t,e,r){var i=Wo(t).queryOptionMap;var a=i.keys()[0];if(!a||a==="series"){return}var n=Uo(e,a,i.get(a),{useDefault:false,enableAll:false,enableNone:false});var o=n.models[0];if(!o){return}var s=r.getViewOfComponentModel(o);var l;s.group.traverse((function(e){var r=Tu(e).tooltipConfig;if(r&&r.name===t.name){l=e;return true}}));if(l){return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}function cZ(t){sb(RH);t.registerComponentModel(RX);t.registerComponentView(aZ);t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ot);t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ot)}var vZ=["rect","polygon","keep","clear"];function dZ(t,e){var r=yo(t?t.brush:[]);if(!r.length){return}var i=[];X(r,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];if(e instanceof Array){i=i.concat(e)}}));var a=t&&t.toolbox;if(et(a)){a=a[0]}if(!a){a={feature:{}};t.toolbox=[a]}var n=a.feature||(a.feature={});var o=n.brush||(n.brush={});var s=o.type||(o.type=[]);s.push.apply(s,i);pZ(s);if(e&&!s.length){s.push.apply(s,vZ)}}function pZ(t){var e={};X(t,(function(t){e[t]=1}));t.length=0;X(e,(function(e,r){t.push(r)}))}var gZ=X;function yZ(t){if(t){for(var e in t){if(t.hasOwnProperty(e)){return true}}}}function mZ(t,e,r){var i={};gZ(e,(function(e){var n=i[e]=a();gZ(t[e],(function(t,i){if(!hN.isValidType(i)){return}var a={type:i,visual:t};r&&r(a,e);n[i]=new hN(a);if(i==="opacity"){a=z(a);a.type="colorAlpha";n.__hidden.__alphaForOpacity=new hN(a)}}))}));return i;function a(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function _Z(t,e,r){var i;X(r,(function(t){if(e.hasOwnProperty(t)&&yZ(e[t])){i=true}}));i&&X(r,(function(r){if(e.hasOwnProperty(r)&&yZ(e[r])){t[r]=z(e[r])}else{delete t[r]}}))}function xZ(t,e,r,i,a,n){var o={};X(t,(function(t){var r=hN.prepareVisualTypes(e[t]);o[t]=r}));var s;function l(t){return d_(r,s,t)}function u(t,e){g_(r,s,t,e)}if(n==null){r.each(f)}else{r.each([n],f)}function f(t,f){s=n==null?t:f;var h=r.getRawDataItem(s);if(h&&h.visualMap===false){return}var c=i.call(a,t);var v=e[c];var d=o[c];for(var p=0,g=d.length;p<g;p++){var y=d[p];v[y]&&v[y].applyVisual(t,l,u)}}}function wZ(t,e,r,i){var a={};X(t,(function(t){var r=hN.prepareVisualTypes(e[t]);a[t]=r}));return{progress:function t(n,o){var s;if(i!=null){s=o.getDimensionIndex(i)}function l(t){return d_(o,f,t)}function u(t,e){g_(o,f,t,e)}var f;var h=o.getStore();while((f=n.next())!=null){var c=o.getRawDataItem(f);if(c&&c.visualMap===false){continue}var v=i!=null?h.get(s,f):f;var d=r(v);var p=e[d];var g=a[d];for(var y=0,m=g.length;y<m;y++){var _=g[y];p[_]&&p[_].applyVisual(v,l,u)}}}}}function bZ(t){var e=t.brushType;var r={point:function(i){return SZ[e].point(i,r,t)},rect:function(i){return SZ[e].rect(i,r,t)}};return r}var SZ={lineX:MZ(0),lineY:MZ(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&SM(r.range,t[0],t[1])},rect:function(t,e,r){var i=r.range;if(!t||i.length<=1){return false}var a=t.x;var n=t.y;var o=t.width;var s=t.height;var l=i[0];if(SM(i,a,n)||SM(i,a+o,n)||SM(i,a,n+s)||SM(i,a+o,n+s)||Je.create(t).contain(l[0],l[1])||Hc(a,n,a+o,n,i)||Hc(a,n,a,n+s,i)||Hc(a+o,n,a+o,n+s,i)||Hc(a,n+s,a+o,n+s,i)){return true}}}};function MZ(t){var e=["x","y"];var r=["width","height"];return{point:function(e,r,i){if(e){var a=i.range;var n=e[t];return IZ(n,a)}},rect:function(i,a,n){if(i){var o=n.range;var s=[i[e[t]],i[e[t]]+i[r[t]]];s[1]<s[0]&&s.reverse();return IZ(s[0],o)||IZ(s[1],o)||IZ(o[0],s)||IZ(o[1],s)}}}}function IZ(t,e){return e[0]<=t&&t<=e[1]}var TZ=["inBrush","outOfBrush"];var DZ="__ecBrushSelect";var CZ="__ecInBrushSelectEvent";function AZ(t){t.eachComponent({mainType:"brush"},(function(e){var r=e.brushTargetManager=new pX(e.option,t);r.setInputRanges(e.areas,t)}))}function kZ(t,e,r){var i=[];var a;var n;t.eachComponent({mainType:"brush"},(function(t){r&&r.type==="takeGlobalCursor"&&t.setBrushOption(r.key==="brush"?r.brushOption:{brushType:false})}));AZ(t);t.eachComponent({mainType:"brush"},(function(e,r){var o={brushId:e.id,brushIndex:r,brushName:e.name,areas:z(e.areas),selected:[]};i.push(o);var s=e.option;var l=s.brushLink;var u=[];var f=[];var h=[];var c=false;if(!r){a=s.throttleType;n=s.throttleDelay}var v=Z(e.areas,(function(t){var e=RZ[t.brushType];var r=G({boundingRect:e?e(t):void 0},t);r.selectors=bZ(r);return r}));var d=mZ(e.option,TZ,(function(t){t.mappingMethod="fixed"}));et(l)&&X(l,(function(t){u[t]=1}));function p(t){return l==="all"||!!u[t]}function g(t){return!!t.length}t.eachSeries((function(t,e){var r=h[e]=[];t.subType==="parallel"?y(t,e):m(t,e,r)}));function y(t,e){var r=t.coordinateSystem;c=c||r.hasAxisBrushed();p(e)&&r.eachActiveState(t.getData(),(function(t,e){t==="active"&&(f[e]=1)}))}function m(r,i,a){if(!r.brushSelector||NZ(e,i)){return}X(v,(function(i){if(e.brushTargetManager.controlSeries(i,r,t)){a.push(i)}c=c||g(a)}));if(p(i)&&g(a)){var n=r.getData();n.each((function(t){if(OZ(r,a,n,t)){f[t]=1}}))}}t.eachSeries((function(t,e){var r={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(r);var i=h[e];var a=t.getData();var n=p(e)?function(t){return f[t]?(r.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return OZ(t,i,a,e)?(r.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(p(e)?c:g(i))&&xZ(TZ,d,a,n)}))}));LZ(e,a,n,i,r)}function LZ(t,e,r,i,a){if(!a){return}var n=t.getZr();if(n[CZ]){return}if(!n[DZ]){n[DZ]=PZ}var o=Cm(n,DZ,r,e);o(t,i)}function PZ(t,e){if(!t.isDisposed()){var r=t.getZr();r[CZ]=true;t.dispatchAction({type:"brushSelect",batch:e});r[CZ]=false}}function OZ(t,e,r,i){for(var a=0,n=e.length;a<n;a++){var o=e[a];if(t.brushSelector(i,r,o.selectors,o)){return true}}}function NZ(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(et(r)?W(r,e)<0:e!==r)}var RZ={rect:function(t){return EZ(t.range)},polygon:function(t){var e;var r=t.range;for(var i=0,a=r.length;i<a;i++){e=e||[[Infinity,-Infinity],[Infinity,-Infinity]];var n=r[i];n[0]<e[0][0]&&(e[0][0]=n[0]);n[0]>e[0][1]&&(e[0][1]=n[0]);n[1]<e[1][0]&&(e[1][0]=n[1]);n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&EZ(e)}};function EZ(t){return new Je(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var zZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e;(this._brushController=new Az(e.getZr())).on("brush",Q(this._onBrush,this)).mount()};e.prototype.render=function(t,e,r,i){this.model=t;this._updateController(t,e,r,i)};e.prototype.updateTransform=function(t,e,r,i){AZ(e);this._updateController(t,e,r,i)};e.prototype.updateVisual=function(t,e,r,i){this.updateTransform(t,e,r,i)};e.prototype.updateView=function(t,e,r,i){this._updateController(t,e,r,i)};e.prototype._updateController=function(t,e,r,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())};e.prototype.dispose=function(){this._brushController.dispose()};e.prototype._onBrush=function(t){var e=this.model.id;var r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:z(r),$from:e});t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:z(r),$from:e})};e.type="brush";return e}(dm);var VZ="#ddd";var BZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.areas=[];r.brushOption={};return r}e.prototype.optionUpdated=function(t,e){var r=this.option;!e&&_Z(r,t,["inBrush","outOfBrush"]);var i=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:VZ};if(!i.hasOwnProperty("liftZ")){i.liftZ=5}};e.prototype.setAreas=function(t){if(!t){return}this.areas=Z(t,(function(t){return FZ(this.option,t)}),this)};e.prototype.setBrushOption=function(t){this.brushOption=FZ(this.option,t);this.brushType=this.brushOption.brushType};e.type="brush";e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return e}(Zd);function FZ(t,e){return V({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Mv(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,true)}var GZ=["rect","polygon","lineX","lineY","keep","clear"];var WZ=function(t){u(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r){var i;var a;var n;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType;a=t.brushOption.brushMode||"single";n=n||!!t.areas.length}));this._brushType=i;this._brushMode=a;X(t.get("type",true),(function(e){t.setIconStatus(e,(e==="keep"?a==="multiple":e==="clear"?n:e===i)?"emphasis":"normal")}))};e.prototype.updateView=function(t,e,r){this.render(t,e,r)};e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon",true);var r={};X(t.get("type",true),(function(t){if(e[t]){r[t]=e[t]}}));return r};e.prototype.onclick=function(t,e,r){var i=this._brushType;var a=this._brushMode;if(r==="clear"){e.dispatchAction({type:"axisAreaSelect",intervals:[]});e.dispatchAction({type:"brush",command:"clear",areas:[]})}else{e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?i:i===r?false:r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})}};e.getDefaultOption=function(t){var e={show:true,type:GZ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e};return e}(PU);function HZ(t){t.registerComponentView(zZ);t.registerComponentModel(BZ);t.registerPreprocessor(dZ);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,kZ);t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))}));t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ot);t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ot);NU("brush",WZ)}var YZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.type="title";e.defaultOption={z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return e}(Zd);var UZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();if(!t.get("show")){return}var i=this.group;var a=t.getModel("textStyle");var n=t.getModel("subtextStyle");var o=t.get("textAlign");var s=pt(t.get("textBaseline"),t.get("textVerticalAlign"));var l=new cu({style:rv(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:true}),z2:10});var u=l.getBoundingRect();var f=t.get("subtext");var h=new cu({style:rv(n,{text:f,fill:n.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var c=t.get("link");var v=t.get("sublink");var d=t.get("triggerEvent",true);l.silent=!c&&!d;h.silent=!v&&!d;if(c){l.on("click",(function(){kd(c,"_"+t.get("target"))}))}if(v){h.on("click",(function(){kd(v,"_"+t.get("subtarget"))}))}Tu(l).eventData=Tu(h).eventData=d?{componentType:"title",componentIndex:t.componentIndex}:null;i.add(l);f&&i.add(h);var p=i.getBoundingRect();var g=t.getBoxLayoutParams();g.width=p.width;g.height=p.height;var y=Bd(g,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));if(!o){o=t.get("left")||t.get("right");if(o==="middle"){o="center"}if(o==="right"){y.x+=y.width}else if(o==="center"){y.x+=y.width/2}}if(!s){s=t.get("top")||t.get("bottom");if(s==="center"){s="middle"}if(s==="bottom"){y.y+=y.height}else if(s==="middle"){y.y+=y.height/2}s=s||"top"}i.x=y.x;i.y=y.y;i.markRedraw();var m={align:o,verticalAlign:s};l.setStyle(m);h.setStyle(m);p=i.getBoundingRect();var _=y.margin;var x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var w=new lu({shape:{x:p.x-_[3],y:p.y-_[0],width:p.width+_[1]+_[3],height:p.height+_[0]+_[2],r:t.get("borderRadius")},style:x,subPixelOptimize:true,silent:true});i.add(w)};e.type="title";return e}(dm);function XZ(t){t.registerComponentModel(YZ);t.registerComponentView(UZ)}var ZZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode="box";return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);this._initData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this._initData()};e.prototype.setCurrentIndex=function(t){if(t==null){t=this.option.currentIndex}var e=this._data.count();if(this.option.loop){t=(t%e+e)%e}else{t>=e&&(t=e-1);t<0&&(t=0)}this.option.currentIndex=t};e.prototype.getCurrentIndex=function(){return this.option.currentIndex};e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};e.prototype.setPlayState=function(t){this.option.autoPlay=!!t};e.prototype.getPlayState=function(){return!!this.option.autoPlay};e.prototype._initData=function(){var t=this.option;var e=t.data||[];var r=t.axisType;var i=this._names=[];var a;if(r==="category"){a=[];X(e,(function(t,e){var r=Lo(xo(t),"");var n;if(ot(t)){n=z(t);n.value=e}else{n=e}a.push(n);i.push(r)}))}else{a=e}var n={category:"ordinal",time:"time",value:"number"}[r]||"number";var o=this._data=new Vb([{name:"value",type:n}],this);o.initData(a,i)};e.prototype.getData=function(){return this._data};e.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};e.type="timeline";e.defaultOption={z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return e}(Zd);var jZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline.slider";e.defaultOption=Av(ZZ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return e}(ZZ);Y(jZ,jg.prototype);var qZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline";return e}(dm);var KZ=function(t){u(e,t);function e(e,r,i,a){var n=t.call(this,e,r,i)||this;n.type=a||"value";return n}e.prototype.getLabelModel=function(){return this.model.getModel("label")};e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return e}(QM);var $Z=Math.PI;var JZ=Bo();var QZ=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.api=e};e.prototype.render=function(t,e,r){this.model=t;this.api=r;this.ecModel=e;this.group.removeAll();if(t.get("show",true)){var i=this._layout(t,r);var a=this._createGroup("_mainGroup");var n=this._createGroup("_labelGroup");var o=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){var e=o.scale.getLabel({value:t});return Vy("nameValue",{noName:true,value:e})};X(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,a,o,t)}),this);this._renderAxisLabel(i,n,o,t);this._position(i,t)}this._doPlayStop();this._updateTicksStatus()};e.prototype.remove=function(){this._clearTimer();this.group.removeAll()};e.prototype.dispose=function(){this._clearTimer()};e.prototype._layout=function(t,e){var r=t.get(["label","position"]);var i=t.get("orient");var a=ej(t,e);var n;if(r==null||r==="auto"){n=i==="horizontal"?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-"}else if(it(r)){n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][r]}else{n=r}var o={horizontal:"center",vertical:n>=0||n==="+"?"left":"right"};var s={horizontal:n>=0||n==="+"?"top":"bottom",vertical:"middle"};var l={horizontal:0,vertical:$Z/2};var u=i==="vertical"?a.height:a.width;var f=t.getModel("controlStyle");var h=f.get("show",true);var c=h?f.get("itemSize"):0;var v=h?f.get("itemGap"):0;var d=c+v;var p=t.get(["label","rotate"])||0;p=p*$Z/180;var g;var y;var m;var _=f.get("position",true);var x=h&&f.get("showPlayBtn",true);var w=h&&f.get("showPrevBtn",true);var b=h&&f.get("showNextBtn",true);var S=0;var M=u;if(_==="left"||_==="bottom"){x&&(g=[0,0],S+=d);w&&(y=[S,0],S+=d);b&&(m=[M-c,0],M-=d)}else{x&&(g=[M-c,0],M-=d);w&&(y=[0,0],S+=d);b&&(m=[M-c,0],M-=d)}var I=[S,M];if(t.get("inverse")){I.reverse()}return{viewRect:a,mainLength:u,orient:i,rotation:l[i],labelRotation:p,labelPosOpt:n,labelAlign:t.get(["label","align"])||o[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||s[i],playPosition:g,prevBtnPosition:y,nextBtnPosition:m,axisExtent:I,controlSize:c,controlGap:v}};e.prototype._position=function(t,e){var r=this._mainGroup;var i=this._labelGroup;var a=t.viewRect;if(t.orient==="vertical"){var n=Ne();var o=a.x;var s=a.y+a.height;Ve(n,n,[-o,-s]);Be(n,n,-$Z/2);Ve(n,n,[o,s]);a=a.clone();a.applyTransform(n)}var l=g(a);var u=g(r.getBoundingRect());var f=g(i.getBoundingRect());var h=[r.x,r.y];var c=[i.x,i.y];c[0]=h[0]=l[0][0];var v=t.labelPosOpt;if(v==null||it(v)){var d=v==="+"?0:1;y(h,u,l,1,d);y(c,f,l,1,1-d)}else{var d=v>=0?0:1;y(h,u,l,1,d);c[1]=h[1]+v}r.setPosition(h);i.setPosition(c);r.rotation=i.rotation=t.rotation;p(r);p(i);function p(t){t.originX=l[0][0]-t.x;t.originY=l[1][0]-t.y}function g(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,e,r,i,a){t[i]+=r[i][a]-e[i][a]}};e.prototype._createAxis=function(t,e){var r=e.getData();var i=e.get("axisType");var a=tj(e,i);a.getTicks=function(){return r.mapArray(["value"],(function(t){return{value:t}}))};var n=r.getDataExtent("value");a.setExtent(n[0],n[1]);a.calcNiceTicks();var o=new KZ("value",a,t.axisExtent,i);o.model=e;return o};e.prototype._createGroup=function(t){var e=this[t]=new Tn;this.group.add(e);return e};e.prototype._renderAxisLine=function(t,e,r,i){var a=r.getExtent();if(!i.get(["lineStyle","show"])){return}var n=new Hh({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:F({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1});e.add(n);var o=this._progressLine=new Hh({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:G({lineCap:"round",lineWidth:n.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});e.add(o)};e.prototype._renderAxisTick=function(t,e,r,i){var a=this;var n=i.getData();var o=r.scale.getTicks();this._tickSymbols=[];X(o,(function(t){var o=r.dataToCoord(t.value);var s=n.getItemModel(t.value);var l=s.getModel("itemStyle");var u=s.getModel(["emphasis","itemStyle"]);var f=s.getModel(["progress","itemStyle"]);var h={x:o,y:0,onclick:Q(a._changeTimeline,a,t.value)};var c=ij(s,l,e,h);c.ensureState("emphasis").style=u.getItemStyle();c.ensureState("progress").style=f.getItemStyle();Af(c);var v=Tu(c);if(s.get("tooltip")){v.dataIndex=t.value;v.dataModel=i}else{v.dataIndex=v.dataModel=null}a._tickSymbols.push(c)}))};e.prototype._renderAxisLabel=function(t,e,r,i){var a=this;var n=r.getLabelModel();if(!n.get("show")){return}var o=i.getData();var s=r.getViewLabels();this._tickLabels=[];X(s,(function(i){var n=i.tickValue;var s=o.getItemModel(n);var l=s.getModel("label");var u=s.getModel(["emphasis","label"]);var f=s.getModel(["progress","label"]);var h=r.dataToCoord(i.tickValue);var c=new cu({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Q(a._changeTimeline,a,n),silent:false,style:rv(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});c.ensureState("emphasis").style=rv(u);c.ensureState("progress").style=rv(f);e.add(c);Af(c);JZ(c).dataIndex=n;a._tickLabels.push(c)}))};e.prototype._renderControl=function(t,e,r,i){var a=t.controlSize;var n=t.rotation;var o=i.getModel("controlStyle").getItemStyle();var s=i.getModel(["emphasis","controlStyle"]).getItemStyle();var l=i.getPlayState();var u=i.get("inverse",true);f(t.nextBtnPosition,"next",Q(this._changeTimeline,this,u?"-":"+"));f(t.prevBtnPosition,"prev",Q(this._changeTimeline,this,u?"+":"-"));f(t.playPosition,l?"stop":"play",Q(this._handlePlayClick,this,!l),true);function f(t,r,l,u){if(!t){return}var f=hn(pt(i.get(["controlStyle",r+"BtnSize"]),a),a);var h=[0,-f/2,f,f];var c=rj(i,r+"Icon",h,{x:t[0],y:t[1],originX:a/2,originY:0,rotation:u?-n:0,rectHover:true,style:o,onclick:l});c.ensureState("emphasis").style=s;e.add(c);Af(c)}};e.prototype._renderCurrentPointer=function(t,e,r,i){var a=i.getData();var n=i.getCurrentIndex();var o=a.getItemModel(n).getModel("checkpointStyle");var s=this;var l={onCreate:function(t){t.draggable=true;t.drift=Q(s._handlePointerDrag,s);t.ondragend=Q(s._handlePointerDragend,s);aj(t,s._progressLine,n,r,i,true)},onUpdate:function(t){aj(t,s._progressLine,n,r,i)}};this._currentPointer=ij(o,o,this._mainGroup,{},this._currentPointer,l)};e.prototype._handlePlayClick=function(t){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})};e.prototype._handlePointerDrag=function(t,e,r){this._clearTimer();this._pointerChangeTimeline([r.offsetX,r.offsetY])};e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],true)};e.prototype._pointerChangeTimeline=function(t,e){var r=this._toAxisCoord(t)[0];var i=this._axis;var a=Fn(i.getExtent().slice());r>a[1]&&(r=a[1]);r<a[0]&&(r=a[0]);this._currentPointer.x=r;this._currentPointer.markRedraw();var n=this._progressLine;if(n){n.shape.x2=r;n.dirty()}var o=this._findNearestTick(r);var s=this.model;if(e||o!==s.getCurrentIndex()&&s.get("realtime")){this._changeTimeline(o)}};e.prototype._doPlayStop=function(){var t=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))}),this.model.get("playInterval"))}};e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return Rc(t,e,true)};e.prototype._findNearestTick=function(t){var e=this.model.getData();var r=Infinity;var i;var a=this._axis;e.each(["value"],(function(e,n){var o=a.dataToCoord(e);var s=Math.abs(o-t);if(s<r){r=s;i=n}}));return i};e.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();if(t==="+"){t=e+1}else if(t==="-"){t=e-1}this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})};e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex();var e=this._tickSymbols;var r=this._tickLabels;if(e){for(var i=0;i<e.length;i++){e&&e[i]&&e[i].toggleState("progress",i<t)}}if(r){for(var i=0;i<r.length;i++){r&&r[i]&&r[i].toggleState("progress",JZ(r[i]).dataIndex<=t)}}};e.type="timeline.slider";return e}(qZ);function tj(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new pS({ordinalMeta:t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new ES({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new yS}}}function ej(t,e){return Bd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function rj(t,e,r,i){var a=i.style;var n=Wc(t.get(["controlStyle",e]),i||{},new Je(r[0],r[1],r[2],r[3]));if(a){n.setStyle(a)}return n}function ij(t,e,r,i,a,n){var o=e.get("color");if(!a){var s=t.get("symbol");a=O_(s,-1,-1,2,2,o);a.setStyle("strokeNoScale",true);r.add(a);n&&n.onCreate(a)}else{a.setColor(o);r.add(a);n&&n.onUpdate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l);i=V({rectHover:true,z2:100},i,true);var u=N_(t.get("symbolSize"));i.scaleX=u[0]/2;i.scaleY=u[1]/2;var f=R_(t.get("symbolOffset"),u);if(f){i.x=(i.x||0)+f[0];i.y=(i.y||0)+f[1]}var h=t.get("symbolRotate");i.rotation=(h||0)*Math.PI/180||0;a.attr(i);a.updateTransform();return a}function aj(t,e,r,i,a,n){if(t.dragging){return}var o=a.getModel("checkpointStyle");var s=i.dataToCoord(a.getData().get("value",r));if(n||!o.get("animation",true)){t.attr({x:s,y:0});e&&e.attr({shape:{x2:s}})}else{var l={duration:o.get("animationDuration",true),easing:o.get("animationEasing",true)};t.stopAnimation(null,true);t.animateTo({x:s,y:0},l);e&&e.animateTo({shape:{x2:s}},l)}}function nj(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,r){var i=e.getComponent("timeline");if(i&&t.currentIndex!=null){i.setCurrentIndex(t.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()&&i.getPlayState()){i.setPlayState(false);r.dispatchAction({type:"timelinePlayChange",playState:false,from:t.from})}}e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",true)});return G({currentIndex:i.option.currentIndex},t)}));t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var r=e.getComponent("timeline");if(r&&t.playState!=null){r.setPlayState(t.playState)}}))}function oj(t){var e=t&&t.timeline;if(!et(e)){e=e?[e]:[]}X(e,(function(t){if(!t){return}sj(t)}))}function sj(t){var e=t.type;var r={number:"value",time:"time"};if(r[e]){t.axisType=r[e];delete t.type}lj(t);if(uj(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});if(!uj(i,"position")){i.position=t.controlPosition}if(i.position==="none"&&!uj(i,"show")){i.show=false;delete i.position}delete t.controlPosition}X(t.data||[],(function(t){if(ot(t)&&!et(t)){if(!uj(t,"value")&&uj(t,"name")){t.value=t.name}lj(t)}}))}function lj(t){var e=t.itemStyle||(t.itemStyle={});var r=e.emphasis||(e.emphasis={});var i=t.label||t.label||{};var a=i.normal||(i.normal={});var n={normal:1,emphasis:1};X(i,(function(t,e){if(!n[e]&&!uj(a,e)){a[e]=t}}));if(r.label&&!uj(i,"emphasis")){i.emphasis=r.label;delete r.label}}function uj(t,e){return t.hasOwnProperty(e)}function fj(t){t.registerComponentModel(jZ);t.registerComponentView(QZ);t.registerSubTypeDefaulter("timeline",(function(){return"slider"}));nj(t);t.registerPreprocessor(oj)}function hj(t,e){if(!t){return false}var r=et(t)?t:[t];for(var i=0;i<r.length;i++){if(r[i]&&r[i][e]){return true}}return false}function cj(t){mo(t,"label",["show"])}var vj=Bo();var dj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.createdBySelf=false;return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);this._mergeOption(t,r,false,true)};e.prototype.isAnimationEnabled=function(){if(c.node){return false}var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()};e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,false,false)};e.prototype._mergeOption=function(t,e,r,i){var a=this.mainType;if(!r){e.eachSeries((function(t){var r=t.get(this.mainType,true);var n=vj(t)[a];if(!r||!r.data){vj(t)[a]=null;return}if(!n){if(i){cj(r)}X(r.data,(function(t){if(t instanceof Array){cj(t[0]);cj(t[1])}else{cj(t)}}));n=this.createMarkerModelFromSeries(r,this,e);F(n,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:true});n.__hostSeries=t}else{n._mergeOption(r,e,true)}vj(t)[a]=n}),this)}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return Vy("section",{header:this.name,blocks:[Vy("nameValue",{name:n,value:a,noName:!n,noValue:a==null})]})};e.prototype.getData=function(){return this._data};e.prototype.setData=function(t){this._data=t};e.getMarkerModelFromSeries=function(t,e){return vj(t)[e]};e.type="marker";e.dependencies=["series","grid","polar","geo"];return e}(Zd);Y(dj,jg.prototype);var pj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markPoint";e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return e}(dj);function gj(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function yj(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function mj(t,e,r,i,a,n){var o=[];var s=qb(e,i);var l=s?e.getCalculationInfo("stackResultDimension"):i;var u=Tj(e,l,t);var f=e.indicesOfNearest(l,u)[0];o[a]=e.get(r,f);o[n]=e.get(l,f);var h=e.get(i,f);var c=Gn(e.get(i,f));c=Math.min(c,20);if(c>=0){o[n]=+o[n].toFixed(c)}return[o,h]}var _j={min:tt(mj,"min"),max:tt(mj,"max"),average:tt(mj,"average"),median:tt(mj,"median")};function xj(t,e){if(!e){return}var r=t.getData();var i=t.coordinateSystem;var a=i.dimensions;if(!yj(e)&&!et(e.coord)&&i){var n=wj(e,r,i,t);e=z(e);if(e.type&&_j[e.type]&&n.baseAxis&&n.valueAxis){var o=W(a,n.baseAxis.dim);var s=W(a,n.valueAxis.dim);var l=_j[e.type](r,n.baseDataDim,n.valueDataDim,o,s);e.coord=l[0];e.value=l[1]}else{e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}}if(e.coord==null){e.coord=[]}else{var u=e.coord;for(var f=0;f<2;f++){if(_j[u[f]]){u[f]=Tj(r,r.mapDimension(a[f]),u[f])}}}return e}function wj(t,e,r,i){var a={};if(t.valueIndex!=null||t.valueDim!=null){a.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim;a.valueAxis=r.getAxis(bj(i,a.valueDataDim));a.baseAxis=r.getOtherAxis(a.valueAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim)}else{a.baseAxis=i.getBaseAxis();a.valueAxis=r.getOtherAxis(a.baseAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim);a.valueDataDim=e.mapDimension(a.valueAxis.dim)}return a}function bj(t,e){var r=t.getData().getDimensionInfo(e);return r&&r.coordDim}function Sj(t,e){return t&&t.containData&&e.coord&&!gj(e)?t.containData(e.coord):true}function Mj(t,e,r){return t&&t.containZone&&e.coord&&r.coord&&!gj(e)&&!gj(r)?t.containZone(e.coord,r.coord):true}function Ij(t,e){return t?function(t,r,i,a){var n=a<2?t.coord&&t.coord[a]:t.value;return Qg(n,e[a])}:function(t,r,i,a){return Qg(t.value,e[a])}}function Tj(t,e,r){if(r==="average"){var i=0;var a=0;t.each(e,(function(t,e){if(!isNaN(t)){i+=t;a++}}));return i/a}else if(r==="median"){return t.getMedian(e)}else{return t.getDataExtent(e)[r==="max"?1:0]}}var Dj=Bo();var Cj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this.markerGroupMap=Ct()};e.prototype.render=function(t,e,r){var i=this;var a=this.markerGroupMap;a.each((function(t){Dj(t).keep=false}));e.eachSeries((function(t){var a=dj.getMarkerModelFromSeries(t,i.type);a&&i.renderSeries(t,a,e,r)}));a.each((function(t){!Dj(t).keep&&i.group.remove(t.group)}))};e.prototype.markKeep=function(t){Dj(t).keep=true};e.prototype.toggleBlurSeries=function(t,e){var r=this;X(t,(function(t){var i=dj.getMarkerModelFromSeries(t,r.type);if(i){var a=i.getData();a.eachItemGraphicEl((function(t){if(t){e?df(t):pf(t)}}))}}))};e.type="marker";return e}(dm);function Aj(t,e,r){var i=e.coordinateSystem;t.each((function(a){var n=t.getItemModel(a);var o;var s=Vn(n.get("x"),r.getWidth());var l=Vn(n.get("y"),r.getHeight());if(!isNaN(s)&&!isNaN(l)){o=[s,l]}else if(e.getMarkerPosition){o=e.getMarkerPosition(t.getValues(t.dimensions,a))}else if(i){var u=t.get(i.dimensions[0],a);var f=t.get(i.dimensions[1],a);o=i.dataToPoint([u,f])}if(!isNaN(s)){o[0]=s}if(!isNaN(l)){o[1]=l}t.setItemLayout(a,o)}))}var kj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries((function(t){var e=dj.getMarkerModelFromSeries(t,"markPoint");if(e){Aj(e.getData(),t,r);this.markerGroupMap.get(t.id).updateLayout()}}),this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new PD);var u=Lj(a,t,e);e.setData(u);Aj(e.getData(),t,i);u.each((function(t){var r=u.getItemModel(t);var i=r.getShallow("symbol");var a=r.getShallow("symbolSize");var n=r.getShallow("symbolRotate");var s=r.getShallow("symbolOffset");var l=r.getShallow("symbolKeepAspect");if(rt(i)||rt(a)||rt(n)||rt(s)){var f=e.getRawValue(t);var h=e.getDataParams(t);if(rt(i)){i=i(f,h)}if(rt(a)){a=a(f,h)}if(rt(n)){n=n(f,h)}if(rt(s)){s=s(f,h)}}var c=r.getModel("itemStyle").getItemStyle();var v=p_(o,"color");if(!c.fill){c.fill=v}u.setItemVisual(t,{symbol:i,symbolSize:a,symbolRotate:n,symbolOffset:s,symbolKeepAspect:l,style:c})}));l.updateData(u);this.group.add(l.group);u.eachItemGraphicEl((function(t){t.traverse((function(t){Tu(t).dataModel=e}))}));this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markPoint";return e}(Cj);function Lj(t,e,r){var i;if(t){i=Z(t&&t.dimensions,(function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return F(F({},r),{name:t,ordinalMeta:null})}))}else{i=[{name:"value",type:"float"}]}var a=new Vb(i,r);var n=Z(r.get("data"),tt(xj,e));if(t){n=q(n,tt(Sj,t))}var o=Ij(!!t,i);a.initData(n,null,o);return a}function Pj(t){t.registerComponentModel(pj);t.registerComponentView(kj);t.registerPreprocessor((function(t){if(hj(t.series,"markPoint")){t.markPoint=t.markPoint||{}}}))}var Oj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markLine";e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return e}(dj);var Nj=Bo();var Rj=function(t,e,r,i){var a=t.getData();var n;if(!et(i)){var o=i.type;if(o==="min"||o==="max"||o==="average"||o==="median"||i.xAxis!=null||i.yAxis!=null){var s=void 0;var l=void 0;if(i.yAxis!=null||i.xAxis!=null){s=e.getAxis(i.yAxis!=null?"y":"x");l=dt(i.yAxis,i.xAxis)}else{var u=wj(i,a,e,t);s=u.valueAxis;var f=Kb(a,u.valueDataDim);l=Tj(a,f,o)}var h=s.dim==="x"?0:1;var c=1-h;var v=z(i);var d={coord:[]};v.type=null;v.coord=[];v.coord[c]=-Infinity;d.coord[c]=Infinity;var p=r.get("precision");if(p>=0&&nt(l)){l=+l.toFixed(Math.min(p,20))}v.coord[h]=d.coord[h]=l;n=[v,d,{type:o,valueIndex:i.valueIndex,value:l}]}else{n=[]}}else{n=i}var g=[xj(t,n[0]),xj(t,n[1]),F({},n[2])];g[2].type=g[2].type||null;V(g[2],g[0]);V(g[2],g[1]);return g};function Ej(t){return!isNaN(t)&&!isFinite(t)}function zj(t,e,r,i){var a=1-t;var n=i.dimensions[t];return Ej(e[a])&&Ej(r[a])&&e[t]===r[t]&&i.getAxis(n).containData(e[t])}function Vj(t,e){if(t.type==="cartesian2d"){var r=e[0].coord;var i=e[1].coord;if(r&&i&&(zj(1,r,i,t)||zj(0,r,i,t))){return true}}return Sj(t,e[0])&&Sj(t,e[1])}function Bj(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=Vn(o.get("x"),a.getWidth());var u=Vn(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){s=i.getMarkerPosition(t.getValues(t.dimensions,e))}else{var f=n.dimensions;var h=t.get(f[0],e);var c=t.get(f[1],e);s=n.dataToPoint([h,c])}if(qD(n,"cartesian2d")){var v=n.getAxis("x");var d=n.getAxis("y");var f=n.dimensions;if(Ej(t.get(f[0],e))){s[0]=v.toGlobalCoord(v.getExtent()[r?0:1])}else if(Ej(t.get(f[1],e))){s[1]=d.toGlobalCoord(d.getExtent()[r?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}t.setItemLayout(e,s)}var Fj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries((function(t){var e=dj.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData();var a=Nj(e).from;var n=Nj(e).to;a.each((function(e){Bj(a,e,true,t,r);Bj(n,e,false,t,r)}));i.each((function(t){i.setItemLayout(t,[a.getItemLayout(t),n.getItemLayout(t)])}));this.markerGroupMap.get(t.id).updateLayout()}}),this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new XR);this.group.add(l.group);var u=Gj(a,t,e);var f=u.from;var h=u.to;var c=u.line;Nj(e).from=f;Nj(e).to=h;e.setData(c);var v=e.get("symbol");var d=e.get("symbolSize");var p=e.get("symbolRotate");var g=e.get("symbolOffset");if(!et(v)){v=[v,v]}if(!et(d)){d=[d,d]}if(!et(p)){p=[p,p]}if(!et(g)){g=[g,g]}u.from.each((function(t){y(f,t,true);y(h,t,false)}));c.each((function(t){var e=c.getItemModel(t).getModel("lineStyle").getLineStyle();c.setItemLayout(t,[f.getItemLayout(t),h.getItemLayout(t)]);if(e.stroke==null){e.stroke=f.getItemVisual(t,"style").fill}c.setItemVisual(t,{fromSymbolKeepAspect:f.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(t,"symbolOffset"),fromSymbolRotate:f.getItemVisual(t,"symbolRotate"),fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})}));l.updateData(c);u.line.eachItemGraphicEl((function(t){Tu(t).dataModel=e;t.traverse((function(t){Tu(t).dataModel=e}))}));function y(e,r,a){var n=e.getItemModel(r);Bj(e,r,a,t,i);var s=n.getModel("itemStyle").getItemStyle();if(s.fill==null){s.fill=p_(o,"color")}e.setItemVisual(r,{symbolKeepAspect:n.get("symbolKeepAspect"),symbolOffset:pt(n.get("symbolOffset",true),g[a?0:1]),symbolRotate:pt(n.get("symbolRotate",true),p[a?0:1]),symbolSize:pt(n.get("symbolSize"),d[a?0:1]),symbol:pt(n.get("symbol",true),v[a?0:1]),style:s})}this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markLine";return e}(Cj);function Gj(t,e,r){var i;if(t){i=Z(t&&t.dimensions,(function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return F(F({},r),{name:t,ordinalMeta:null})}))}else{i=[{name:"value",type:"float"}]}var a=new Vb(i,r);var n=new Vb(i,r);var o=new Vb([],r);var s=Z(r.get("data"),tt(Rj,e,t,r));if(t){s=q(s,tt(Vj,t))}var l=Ij(!!t,i);a.initData(Z(s,(function(t){return t[0]})),null,l);n.initData(Z(s,(function(t){return t[1]})),null,l);o.initData(Z(s,(function(t){return t[2]})));o.hasItemOption=true;return{from:a,to:n,line:o}}function Wj(t){t.registerComponentModel(Oj);t.registerComponentView(Fj);t.registerPreprocessor((function(t){if(hj(t.series,"markLine")){t.markLine=t.markLine||{}}}))}var Hj=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markArea";e.defaultOption={z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return e}(dj);var Yj=Bo();var Uj=function(t,e,r,i){var a=i[0];var n=i[1];if(!a||!n){return}var o=xj(t,a);var s=xj(t,n);var l=o.coord;var u=s.coord;l[0]=dt(l[0],-Infinity);l[1]=dt(l[1],-Infinity);u[0]=dt(u[0],Infinity);u[1]=dt(u[1],Infinity);var f=B([{},o,s]);f.coord=[o.coord,s.coord];f.x0=o.x;f.y0=o.y;f.x1=s.x;f.y1=s.y;return f};function Xj(t){return!isNaN(t)&&!isFinite(t)}function Zj(t,e,r,i){var a=1-t;return Xj(e[a])&&Xj(r[a])}function jj(t,e){var r=e.coord[0];var i=e.coord[1];var a={coord:r,x:e.x0,y:e.y0};var n={coord:i,x:e.x1,y:e.y1};if(qD(t,"cartesian2d")){if(r&&i&&(Zj(1,r,i)||Zj(0,r,i))){return true}return Mj(t,a,n)}return Sj(t,a)||Sj(t,n)}function qj(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=Vn(o.get(r[0]),a.getWidth());var u=Vn(o.get(r[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){var f=t.getValues(["x0","y0"],e);var h=t.getValues(["x1","y1"],e);var c=n.clampData(f);var v=n.clampData(h);var d=[];if(r[0]==="x0"){d[0]=c[0]>v[0]?h[0]:f[0]}else{d[0]=c[0]>v[0]?f[0]:h[0]}if(r[1]==="y0"){d[1]=c[1]>v[1]?h[1]:f[1]}else{d[1]=c[1]>v[1]?f[1]:h[1]}s=i.getMarkerPosition(d,r,true)}else{var p=t.get(r[0],e);var g=t.get(r[1],e);var y=[p,g];n.clampData&&n.clampData(y,y);s=n.dataToPoint(y,true)}if(qD(n,"cartesian2d")){var m=n.getAxis("x");var _=n.getAxis("y");var p=t.get(r[0],e);var g=t.get(r[1],e);if(Xj(p)){s[0]=m.toGlobalCoord(m.getExtent()[r[0]==="x0"?0:1])}else if(Xj(g)){s[1]=_.toGlobalCoord(_.getExtent()[r[1]==="y0"?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}return s}var Kj=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var $j=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries((function(t){var e=dj.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var a=Z(Kj,(function(a){return qj(i,e,a,t,r)}));i.setItemLayout(e,a);var n=i.getItemGraphicEl(e);n.setShape("points",a)}))}}),this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,{group:new Tn});this.group.add(l.group);this.markKeep(l);var u=Jj(a,t,e);e.setData(u);u.each((function(e){var r=Z(Kj,(function(r){return qj(u,e,r,t,i)}));var n=a.getAxis("x").scale;var s=a.getAxis("y").scale;var l=n.getExtent();var f=s.getExtent();var h=[n.parse(u.get("x0",e)),n.parse(u.get("x1",e))];var c=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];Fn(h);Fn(c);var v=!(l[0]>h[1]||l[1]<h[0]||f[0]>c[1]||f[1]<c[0]);var d=!v;u.setItemLayout(e,{points:r,allClipped:d});var p=u.getItemModel(e).getModel("itemStyle").getItemStyle();var g=p_(o,"color");if(!p.fill){p.fill=g;if(it(p.fill)){p.fill=Di(p.fill,.4)}}if(!p.stroke){p.stroke=g}u.setItemVisual(e,"style",p)}));u.diff(Yj(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var r=new Vh({shape:{points:e.points}});u.setItemGraphicEl(t,r);l.group.add(r)}})).update((function(t,r){var i=Yj(l).data.getItemGraphicEl(r);var a=u.getItemLayout(t);if(!a.allClipped){if(i){fc(i,{shape:{points:a.points}},e,t)}else{i=new Vh({shape:{points:a.points}})}u.setItemGraphicEl(t,i);l.group.add(i)}else if(i){l.group.remove(i)}})).remove((function(t){var e=Yj(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute();u.eachItemGraphicEl((function(t,r){var i=u.getItemModel(r);var a=u.getItemVisual(r,"style");t.useStyle(u.getItemVisual(r,"style"));tv(t,ev(i),{labelFetcher:e,labelDataIndex:r,defaultText:u.getName(r)||"",inheritColor:it(a.fill)?Di(a.fill,1):"#000"});Rf(t,i);Lf(t,null,null,i.get(["emphasis","disabled"]));Tu(t).dataModel=e}));Yj(l).data=u;l.group.silent=e.get("silent")||t.get("silent")};e.type="markArea";return e}(Cj);function Jj(t,e,r){var i;var a;var n=["x0","y0","x1","y1"];if(t){var o=Z(t&&t.dimensions,(function(t){var r=e.getData();var i=r.getDimensionInfo(r.mapDimension(t))||{};return F(F({},i),{name:t,ordinalMeta:null})}));a=Z(n,(function(t,e){return{name:t,type:o[e%2].type}}));i=new Vb(a,r)}else{a=[{name:"value",type:"float"}];i=new Vb(a,r)}var s=Z(r.get("data"),tt(Uj,e,t,r));if(t){s=q(s,tt(jj,t))}var l=t?function(t,e,r,i){var n=t.coord[Math.floor(i/2)][i%2];return Qg(n,a[i])}:function(t,e,r,i){return Qg(t.value,a[i])};i.initData(s,null,l);i.hasItemOption=true;return i}function Qj(t){t.registerComponentModel(Hj);t.registerComponentView($j);t.registerPreprocessor((function(t){if(hj(t.series,"markArea")){t.markArea=t.markArea||{}}}))}var tq=function(t,e){if(e==="all"){return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}}else if(e==="inverse"){return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}}};var eq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);t.selected=t.selected||{};this._updateSelector(t)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);this._updateSelector(e)};e.prototype._updateSelector=function(t){var e=t.selector;var r=this.ecModel;if(e===true){e=t.selector=["all","inverse"]}if(et(e)){X(e,(function(t,i){it(t)&&(t={type:t});e[i]=V(t,tq(r,t.type))}))}};e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){var e=false;for(var r=0;r<t.length;r++){var i=t[r].get("name");if(this.isSelected(i)){this.select(i);e=true;break}}!e&&this.select(t[0].get("name"))}};e.prototype._updateData=function(t){var e=[];var r=[];t.eachRawSeries((function(i){var a=i.name;r.push(a);var n;if(i.legendVisualProvider){var o=i.legendVisualProvider;var s=o.getAllNames();if(!t.isSeriesFiltered(i)){r=r.concat(s)}if(s.length){e=e.concat(s)}else{n=true}}else{n=true}if(n&&Po(i)){e.push(i.name)}}));this._availableNames=r;var i=this.get("data")||e;var a=Ct();var n=Z(i,(function(t){if(it(t)||nt(t)){t={name:t}}if(a.get(t.name)){return null}a.set(t.name,true);return new Mv(t,this,this.ecModel)}),this);this._data=q(n,(function(t){return!!t}))};e.prototype.getData=function(){return this._data};e.prototype.select=function(t){var e=this.option.selected;var r=this.get("selectedMode");if(r==="single"){var i=this._data;X(i,(function(t){e[t.get("name")]=false}))}e[t]=true};e.prototype.unSelect=function(t){if(this.get("selectedMode")!=="single"){this.option.selected[t]=false}};e.prototype.toggleSelected=function(t){var e=this.option.selected;if(!e.hasOwnProperty(t)){e[t]=true}this[e[t]?"unSelect":"select"](t)};e.prototype.allSelect=function(){var t=this._data;var e=this.option.selected;X(t,(function(t){e[t.get("name",true)]=true}))};e.prototype.inverseSelect=function(){var t=this._data;var e=this.option.selected;X(t,(function(t){var r=t.get("name",true);if(!e.hasOwnProperty(r)){e[r]=true}e[r]=!e[r]}))};e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&W(this._availableNames,t)>=0};e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};e.type="legend.plain";e.dependencies=["series"];e.defaultOption={z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:true,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return e}(Zd);var rq=tt;var iq=X;var aq=Tn;var nq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=false;return r}e.prototype.init=function(){this.group.add(this._contentGroup=new aq);this.group.add(this._selectorGroup=new aq);this._isFirstRender=true};e.prototype.getContentGroup=function(){return this._contentGroup};e.prototype.getSelectorGroup=function(){return this._selectorGroup};e.prototype.render=function(t,e,r){var i=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!t.get("show",true)){return}var a=t.get("align");var n=t.get("orient");if(!a||a==="auto"){a=t.get("left")==="right"&&n==="vertical"?"right":"left"}var o=t.get("selector",true);var s=t.get("selectorPosition",true);if(o&&(!s||s==="auto")){s=n==="horizontal"?"end":"start"}this.renderInner(a,t,e,r,o,n,s);var l=t.getBoxLayoutParams();var u={width:r.getWidth(),height:r.getHeight()};var f=t.get("padding");var h=Bd(l,u,f);var c=this.layoutInner(t,a,h,i,o,s);var v=Bd(G({width:c.width,height:c.height},l),u,f);this.group.x=v.x-c.x;this.group.y=v.y-c.y;this.group.markRedraw();this.group.add(this._backgroundEl=VU(c,t))};e.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};e.prototype.renderInner=function(t,e,r,i,a,n,o){var s=this.getContentGroup();var l=Ct();var u=e.get("selectedMode");var f=[];r.eachRawSeries((function(t){!t.get("legendHoverLink")&&f.push(t.id)}));iq(e.getData(),(function(a,n){var o=a.get("name");if(!this.newlineDisabled&&(o===""||o==="\n")){var h=new aq;h.newline=true;s.add(h);return}var c=r.getSeriesByName(o)[0];if(l.get(o)){return}if(c){var v=c.getData();var d=v.getVisual("legendLineStyle")||{};var p=v.getVisual("legendIcon");var g=v.getVisual("style");var y=this._createItem(c,o,n,a,e,t,d,g,p,u,i);y.on("click",rq(lq,o,null,i,f)).on("mouseover",rq(fq,c.name,null,i,f)).on("mouseout",rq(hq,c.name,null,i,f));l.set(o,true)}else{r.eachRawSeries((function(r){if(l.get(o)){return}if(r.legendVisualProvider){var s=r.legendVisualProvider;if(!s.containName(o)){return}var h=s.indexOfName(o);var c=s.getItemVisual(h,"style");var v=s.getItemVisual(h,"legendIcon");var d=xi(c.fill);if(d&&d[3]===0){d[3]=.2;c=F(F({},c),{fill:Ci(d,"rgba")})}var p=this._createItem(r,o,n,a,e,t,{},c,v,u,i);p.on("click",rq(lq,null,o,i,f)).on("mouseover",rq(fq,null,o,i,f)).on("mouseout",rq(hq,null,o,i,f));l.set(o,true)}}),this)}}),this);if(a){this._createSelector(a,e,i,n,o)}};e.prototype._createSelector=function(t,e,r,i,a){var n=this.getSelectorGroup();iq(t,(function t(i){var a=i.type;var o=new cu({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:a==="all"?"legendAllSelect":"legendInverseSelect"})}});n.add(o);var s=e.getModel("selectorLabel");var l=e.getModel(["emphasis","selectorLabel"]);tv(o,{normal:s,emphasis:l},{defaultText:i.title});Af(o)}))};e.prototype._createItem=function(t,e,r,i,a,n,o,s,l,u,f){var h=t.visualDrawType;var c=a.get("itemWidth");var v=a.get("itemHeight");var d=a.isSelected(e);var p=i.get("symbolRotate");var g=i.get("symbolKeepAspect");var y=i.get("icon");l=y||l||"roundRect";var m=oq(l,i,o,s,h,d,f);var _=new aq;var x=i.getModel("textStyle");if(rt(t.getLegendIcon)&&(!y||y==="inherit")){_.add(t.getLegendIcon({itemWidth:c,itemHeight:v,icon:l,iconRotate:p,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}else{var w=y==="inherit"&&t.getData().getVisual("symbol")?p==="inherit"?t.getData().getVisual("symbolRotate"):p:0;_.add(sq({itemWidth:c,itemHeight:v,icon:l,iconRotate:w,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}var b=n==="left"?c+5:-5;var S=n;var M=a.get("formatter");var I=e;if(it(M)&&M){I=M.replace("{name}",e!=null?e:"")}else if(rt(M)){I=M(e)}var T=i.get("inactiveColor");_.add(new cu({style:rv(x,{text:I,x:b,y:v/2,fill:d?x.getTextColor():T,align:S,verticalAlign:"middle"})}));var D=new lu({shape:_.getBoundingRect(),invisible:true});var C=i.getModel("tooltip");if(C.get("show")){Zc({el:D,componentModel:a,itemName:e,itemTooltipOption:C.option})}_.add(D);_.eachChild((function(t){t.silent=true}));D.silent=!u;this.getContentGroup().add(_);Af(_);_.__legendDataIndex=r;return _};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getContentGroup();var s=this.getSelectorGroup();Rd(t.get("orient"),o,t.get("itemGap"),r.width,r.height);var l=o.getBoundingRect();var u=[-l.x,-l.y];s.markRedraw();o.markRedraw();if(a){Rd("horizontal",s,t.get("selectorItemGap",true));var f=s.getBoundingRect();var h=[-f.x,-f.y];var c=t.get("selectorButtonGap",true);var v=t.getOrient().index;var d=v===0?"width":"height";var p=v===0?"height":"width";var g=v===0?"y":"x";if(n==="end"){h[v]+=l[d]+c}else{u[v]+=f[d]+c}h[1-v]+=l[p]/2-f[p]/2;s.x=h[0];s.y=h[1];o.x=u[0];o.y=u[1];var y={x:0,y:0};y[d]=l[d]+c+f[d];y[p]=Math.max(l[p],f[p]);y[g]=Math.min(0,f[g]+h[1-v]);return y}else{o.x=u[0];o.y=u[1];return this.group.getBoundingRect()}};e.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};e.type="legend.plain";return e}(dm);function oq(t,e,r,i,a,n,o){function s(t,e){if(t.lineWidth==="auto"){t.lineWidth=e.lineWidth>0?2:0}iq(t,(function(r,i){t[i]==="inherit"&&(t[i]=e[i])}))}var l=e.getModel("itemStyle");var u=l.getItemStyle();var f=t.lastIndexOf("empty",0)===0?"fill":"stroke";var h=l.getShallow("decal");u.decal=!h||h==="inherit"?i.decal:Sx(h,o);if(u.fill==="inherit"){u.fill=i[a]}if(u.stroke==="inherit"){u.stroke=i[f]}if(u.opacity==="inherit"){u.opacity=(a==="fill"?i:r).opacity}s(u,i);var c=e.getModel("lineStyle");var v=c.getLineStyle();s(v,r);u.fill==="auto"&&(u.fill=i.fill);u.stroke==="auto"&&(u.stroke=i.fill);v.stroke==="auto"&&(v.stroke=i.fill);if(!n){var d=e.get("inactiveBorderWidth");var p=u[f];u.lineWidth=d==="auto"?i.lineWidth>0&&p?2:0:u.lineWidth;u.fill=e.get("inactiveColor");u.stroke=e.get("inactiveBorderColor");v.stroke=c.get("inactiveColor");v.lineWidth=c.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function sq(t){var e=t.icon||"roundRect";var r=O_(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);r.setStyle(t.itemStyle);r.rotation=(t.iconRotate||0)*Math.PI/180;r.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r}function lq(t,e,r,i){hq(t,e,r,i);r.dispatchAction({type:"legendToggleSelect",name:t!=null?t:e});fq(t,e,r,i)}function uq(t){var e=t.getZr().storage.getDisplayList();var r;var i=0;var a=e.length;while(i<a&&!(r=e[i].states.emphasis)){i++}return r&&r.hoverLayer}function fq(t,e,r,i){if(!uq(r)){r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}}function hq(t,e,r,i){if(!uq(r)){r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}}function cq(t){var e=t.findComponents({mainType:"legend"});if(e&&e.length){t.filterSeries((function(t){for(var r=0;r<e.length;r++){if(!e[r].isSelected(t.name)){return false}}return true}))}}function vq(t,e,r){var i={};var a=t==="toggleSelected";var n;r.eachComponent("legend",(function(r){if(a&&n!=null){r[n?"select":"unSelect"](e.name)}else if(t==="allSelect"||t==="inverseSelect"){r[t]()}else{r[t](e.name);n=r.isSelected(e.name)}var o=r.getData();X(o,(function(t){var e=t.get("name");if(e==="\n"||e===""){return}var a=r.isSelected(e);if(i.hasOwnProperty(e)){i[e]=i[e]&&a}else{i[e]=a}}))}));return t==="allSelect"||t==="inverseSelect"?{selected:i}:{name:e.name,selected:i}}function dq(t){t.registerAction("legendToggleSelect","legendselectchanged",tt(vq,"toggleSelected"));t.registerAction("legendAllSelect","legendselectall",tt(vq,"allSelect"));t.registerAction("legendInverseSelect","legendinverseselect",tt(vq,"inverseSelect"));t.registerAction("legendSelect","legendselected",tt(vq,"select"));t.registerAction("legendUnSelect","legendunselected",tt(vq,"unSelect"))}function pq(t){t.registerComponentModel(eq);t.registerComponentView(nq);t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,cq);t.registerSubTypeDefaulter("legend",(function(){return"plain"}));dq(t)}var gq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t};e.prototype.init=function(e,r,i){var a=Yd(e);t.prototype.init.call(this,e,r,i);yq(this,e,a)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);yq(this,this.option,e)};e.type="legend.scroll";e.defaultOption=Av(eq.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return e}(eq);function yq(t,e,r){var i=t.getOrient();var a=[1,1];a[i.index]=0;Hd(e,r,{type:"box",ignoreSize:!!a})}var mq=Tn;var _q=["width","height"];var xq=["x","y"];var wq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=true;r._currentIndex=0;return r}e.prototype.init=function(){t.prototype.init.call(this);this.group.add(this._containerGroup=new mq);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new mq)};e.prototype.resetInner=function(){t.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};e.prototype.renderInner=function(e,r,i,a,n,o,s){var l=this;t.prototype.renderInner.call(this,e,r,i,a,n,o,s);var u=this._controllerGroup;var f=r.get("pageIconSize",true);var h=et(f)?f:[f,f];v("pagePrev",0);var c=r.getModel("pageTextStyle");u.add(new cu({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:true}));v("pageNext",1);function v(t,e){var i=t+"DataIndex";var n=Wc(r.get("pageIcons",true)[r.getOrient().name][e],{onclick:Q(l._pageGo,l,i,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});n.name=t;u.add(n)}};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getSelectorGroup();var s=t.getOrient().index;var l=_q[s];var u=xq[s];var f=_q[1-s];var h=xq[1-s];a&&Rd("horizontal",o,t.get("selectorItemGap",true));var c=t.get("selectorButtonGap",true);var v=o.getBoundingRect();var d=[-v.x,-v.y];var p=z(r);a&&(p[l]=r[l]-v[l]-c);var g=this._layoutContentAndController(t,i,p,s,l,f,h,u);if(a){if(n==="end"){d[s]+=g[l]+c}else{var y=v[l]+c;d[s]-=y;g[u]-=y}g[l]+=v[l]+c;d[1-s]+=g[h]+g[f]/2-v[f]/2;g[f]=Math.max(g[f],v[f]);g[h]=Math.min(g[h],v[h]+d[1-s]);o.x=d[0];o.y=d[1];o.markRedraw()}return g};e.prototype._layoutContentAndController=function(t,e,r,i,a,n,o,s){var l=this.getContentGroup();var u=this._containerGroup;var f=this._controllerGroup;Rd(t.get("orient"),l,t.get("itemGap"),!i?null:r.width,i?null:r.height);Rd("horizontal",f,t.get("pageButtonItemGap",true));var h=l.getBoundingRect();var c=f.getBoundingRect();var v=this._showController=h[a]>r[a];var d=[-h.x,-h.y];if(!e){d[i]=l[s]}var p=[0,0];var g=[-c.x,-c.y];var y=pt(t.get("pageButtonGap",true),t.get("itemGap",true));if(v){var m=t.get("pageButtonPosition",true);if(m==="end"){g[i]+=r[a]-c[a]}else{p[i]+=c[a]+y}}g[1-i]+=h[n]/2-c[n]/2;l.setPosition(d);u.setPosition(p);f.setPosition(g);var _={x:0,y:0};_[a]=v?r[a]:h[a];_[n]=Math.max(h[n],c[n]);_[o]=Math.min(0,c[o]+g[1-i]);u.__rectSize=r[a];if(v){var x={x:0,y:0};x[a]=Math.max(r[a]-c[a]-y,0);x[n]=_[n];u.setClipPath(new lu({shape:x}));u.__rectSize=x[a]}else{f.eachChild((function(t){t.attr({invisible:true,silent:true})}))}var w=this._getPageInfo(t);w.pageIndex!=null&&fc(l,{x:w.contentPosition[0],y:w.contentPosition[1]},v?t:null);this._updatePageInfoView(t,w);return _};e.prototype._pageGo=function(t,e,r){var i=this._getPageInfo(e)[t];i!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})};e.prototype._updatePageInfoView=function(t,e){var r=this._controllerGroup;X(["pagePrev","pageNext"],(function(i){var a=i+"DataIndex";var n=e[a]!=null;var o=r.childOfName(i);if(o){o.setStyle("fill",n?t.get("pageIconColor",true):t.get("pageIconInactiveColor",true));o.cursor=n?"pointer":"default"}}));var i=r.childOfName("pageText");var a=t.get("pageFormatter");var n=e.pageIndex;var o=n!=null?n+1:0;var s=e.pageCount;i&&a&&i.setStyle("text",it(a)?a.replace("{current}",o==null?"":o+"").replace("{total}",s==null?"":s+""):a({current:o,total:s}))};e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",true);var r=this.getContentGroup();var i=this._containerGroup.__rectSize;var a=t.getOrient().index;var n=_q[a];var o=xq[a];var s=this._findTargetItemIndex(e);var l=r.children();var u=l[s];var f=l.length;var h=!f?0:1;var c={contentPosition:[r.x,r.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u){return c}var v=m(u);c.contentPosition[a]=-v.s;for(var d=s+1,p=v,g=v,y=null;d<=f;++d){y=m(l[d]);if(!y&&g.e>p.s+i||y&&!_(y,p.s)){if(g.i>p.i){p=g}else{p=y}if(p){if(c.pageNextDataIndex==null){c.pageNextDataIndex=p.i}++c.pageCount}}g=y}for(var d=s-1,p=v,g=v,y=null;d>=-1;--d){y=m(l[d]);if((!y||!_(g,y.s))&&p.i<g.i){g=p;if(c.pagePrevDataIndex==null){c.pagePrevDataIndex=p.i}++c.pageCount;++c.pageIndex}p=y}return c;function m(t){if(t){var e=t.getBoundingRect();var r=e[o]+t[o];return{s:r,e:r+e[n],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}};e.prototype._findTargetItemIndex=function(t){if(!this._showController){return 0}var e;var r=this.getContentGroup();var i;r.eachChild((function(r,a){var n=r.__legendDataIndex;if(i==null&&n!=null){i=a}if(n===t){e=a}}));return e!=null?e:i};e.type="legend.scroll";return e}(nq);function bq(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(r)}))}))}function Sq(t){sb(pq);t.registerComponentModel(gq);t.registerComponentView(wq);bq(t)}function Mq(t){sb(pq);sb(Sq)}var Iq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.inside";e.defaultOption=Av(mU.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return e}(mU);var Tq=Bo();function Dq(t,e,r){Tq(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);if(i){i.getRange=r}}))}function Cq(t,e){var r=Tq(t).coordSysRecordMap;var i=r.keys();for(var a=0;a<i.length;a++){var n=i[a];var o=r.get(n);var s=o.dataZoomInfoMap;if(s){var l=e.uid;var u=s.get(l);if(u){s.removeKey(l);if(!s.keys().length){Aq(r,o)}}}}}function Aq(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function kq(t,e){var r={model:e,containsPoint:tt(Pq,e),dispatchAction:tt(Lq,t),dataZoomInfoMap:null,controller:null};var i=r.controller=new eL(t.getZr());X(["pan","zoom","scrollMove"],(function(t){i.on(t,(function(e){var i=[];r.dataZoomInfoMap.each((function(a){if(!e.isAvailableBehavior(a.model.option)){return}var n=(a.getRange||{})[t];var o=n&&n(a.dzReferCoordSysInfo,r.model.mainType,r.controller,e);!a.model.get("disabled",true)&&o&&i.push({dataZoomId:a.model.id,start:o[0],end:o[1]})}));i.length&&r.dispatchAction(i)}))}));return r}function Lq(t,e){if(!t.isDisposed()){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}}function Pq(t,e,r,i){return t.coordinateSystem.containPoint([r,i])}function Oq(t){var e;var r="type_";var i={type_true:2,type_move:1,type_false:0,type_undefined:-1};var a=true;t.each((function(t){var n=t.model;var o=n.get("disabled",true)?false:n.get("zoomLock",true)?"move":true;if(i[r+o]>i[r+e]){e=o}a=a&&n.get("preventDefaultMouseMove",true)}));return{controlType:e,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!a}}}function Nq(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var r=Tq(e);var i=r.coordSysRecordMap||(r.coordSysRecordMap=Ct());i.each((function(t){t.dataZoomInfoMap=null}));t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var r=gU(t);X(r.infoList,(function(r){var a=r.model.uid;var n=i.get(a)||i.set(a,kq(e,r.model));var o=n.dataZoomInfoMap||(n.dataZoomInfoMap=Ct());o.set(t.uid,{dzReferCoordSysInfo:r,model:t,getRange:null})}))}));i.each((function(t){var e=t.controller;var r;var a=t.dataZoomInfoMap;if(a){var n=a.keys()[0];if(n!=null){r=a.get(n)}}if(!r){Aq(i,t);return}var o=Oq(a);e.enable(o.controlType,o.opt);e.setPointerChecker(t.containsPoint);Cm(t,"dispatchAction",r.model.get("throttle",true),"fixRate")}))}))}var Rq=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataZoom.inside";return e}e.prototype.render=function(e,r,i){t.prototype.render.apply(this,arguments);if(e.noTarget()){this._clear();return}this.range=e.getPercentRange();Dq(i,e,{pan:Q(Eq.pan,this),zoom:Q(Eq.zoom,this),scrollMove:Q(Eq.scrollMove,this)})};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){Cq(this.api,this.dataZoomModel);this.range=null};e.type="dataZoom.inside";return e}(wU);var Eq={zoom:function(t,e,r,i){var a=this.range;var n=a.slice();var o=t.axisModels[0];if(!o){return}var s=Vq[e](null,[i.originX,i.originY],o,r,t);var l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0];var u=Math.max(1/i.scale,0);n[0]=(n[0]-l)*u+l;n[1]=(n[1]-l)*u+l;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();tz(0,n,[0,100],0,f.minSpan,f.maxSpan);this.range=n;if(a[0]!==n[0]||a[1]!==n[1]){return n}},pan:zq((function(t,e,r,i,a,n){var o=Vq[i]([n.oldX,n.oldY],[n.newX,n.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength})),scrollMove:zq((function(t,e,r,i,a,n){var o=Vq[i]([0,0],[n.scrollDelta,n.scrollDelta],e,a,r);return o.signal*(t[1]-t[0])*n.scrollDelta}))};function zq(t){return function(e,r,i,a){var n=this.range;var o=n.slice();var s=e.axisModels[0];if(!s){return}var l=t(o,s,e,r,i,a);tz(l,o,[0,100],"all");this.range=o;if(n[0]!==o[0]||n[1]!==o[1]){return o}}}var Vq={grid:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem.getRect();t=t||[0,0];if(n.dim==="x"){o.pixel=e[0]-t[0];o.pixelLength=s.width;o.pixelStart=s.x;o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=s.height;o.pixelStart=s.y;o.signal=n.inverse?-1:1}return o},polar:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem;var l=s.getRadiusAxis().getExtent();var u=s.getAngleAxis().getExtent();t=t?s.pointToCoord(t):[0,0];e=s.pointToCoord(e);if(r.mainType==="radiusAxis"){o.pixel=e[0]-t[0];o.pixelLength=l[1]-l[0];o.pixelStart=l[0];o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=u[1]-u[0];o.pixelStart=u[0];o.signal=n.inverse?-1:1}return o},singleAxis:function(t,e,r,i,a){var n=r.axis;var o=a.model.coordinateSystem.getRect();var s={};t=t||[0,0];if(n.orient==="horizontal"){s.pixel=e[0]-t[0];s.pixelLength=o.width;s.pixelStart=o.x;s.signal=n.inverse?1:-1}else{s.pixel=e[1]-t[1];s.pixelLength=o.height;s.pixelStart=o.y;s.signal=n.inverse?-1:1}return s}};function Bq(t){kU(t);t.registerComponentModel(Iq);t.registerComponentView(Rq);Nq(t)}var Fq=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.slider";e.layoutMode="box";e.defaultOption=Av(mU.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return e}(mU);var Gq=lu;var Wq=7;var Hq=1;var Yq=30;var Uq=7;var Xq="horizontal";var Zq="vertical";var jq=5;var qq=["line","bar","candlestick","scatter"];var Kq={easing:"cubicOut",duration:100,delay:0};var $q=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._displayables={};return r}e.prototype.init=function(t,e){this.api=e;this._onBrush=Q(this._onBrush,this);this._onBrushEnd=Q(this._onBrushEnd,this)};e.prototype.render=function(e,r,i,a){t.prototype.render.apply(this,arguments);Cm(this,"_dispatchZoomAction",e.get("throttle"),"fixRate");this._orient=e.getOrient();if(e.get("show")===false){this.group.removeAll();return}if(e.noTarget()){this._clear();this.group.removeAll();return}if(!a||a.type!=="dataZoom"||a.from!==this.uid){this._buildView()}this._updateView()};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){Am(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush);t.off("mouseup",this._onBrushEnd)};e.prototype._buildView=function(){var t=this.group;t.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var e=this._displayables.sliderGroup=new Tn;this._renderBackground();this._renderHandle();this._renderDataShadow();t.add(e);this._positionGroup()};e.prototype._resetLocation=function(){var t=this.dataZoomModel;var e=this.api;var r=t.get("brushSelect");var i=r?Uq:0;var a=this._findCoordRect();var n={width:e.getWidth(),height:e.getHeight()};var o=this._orient===Xq?{right:n.width-a.x-a.width,top:n.height-Yq-Wq-i,width:a.width,height:Yq}:{right:Wq,top:a.y,width:Yq,height:a.height};var s=Yd(t.option);X(["right","top","width","height"],(function(t){if(s[t]==="ph"){s[t]=o[t]}}));var l=Bd(s,n);this._location={x:l.x,y:l.y};this._size=[l.width,l.height];this._orient===Zq&&this._size.reverse()};e.prototype._positionGroup=function(){var t=this.group;var e=this._location;var r=this._orient;var i=this.dataZoomModel.getFirstTargetAxisModel();var a=i&&i.get("inverse");var n=this._displayables.sliderGroup;var o=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(r===Xq&&!a?{scaleY:o?1:-1,scaleX:1}:r===Xq&&a?{scaleY:o?1:-1,scaleX:-1}:r===Zq&&!a?{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2});var s=t.getBoundingRect([n]);t.x=e.x-s.x;t.y=e.y-s.y;t.markRedraw()};e.prototype._getViewExtent=function(){return[0,this._size[0]]};e.prototype._renderBackground=function(){var t=this.dataZoomModel;var e=this._size;var r=this._displayables.sliderGroup;var i=t.get("brushSelect");r.add(new Gq({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new Gq({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Q(this._onClickPanel,this)});var n=this.api.getZr();if(i){a.on("mousedown",this._onBrushStart,this);a.cursor="crosshair";n.on("mousemove",this._onBrush);n.on("mouseup",this._onBrushEnd)}else{n.off("mousemove",this._onBrush);n.off("mouseup",this._onBrushEnd)}r.add(a)};e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!t){return}var e=this._size;var r=this._shadowSize||[];var i=t.series;var a=i.getRawData();var n=i.getShadowDim&&i.getShadowDim();var o=n&&a.getDimensionInfo(n)?i.getShadowDim():t.otherDim;if(o==null){return}var s=this._shadowPolygonPts;var l=this._shadowPolylinePts;if(a!==this._shadowData||o!==this._shadowDim||e[0]!==r[0]||e[1]!==r[1]){var u=a.getDataExtent(o);var f=(u[1]-u[0])*.3;u=[u[0]-f,u[1]+f];var h=[0,e[1]];var c=[0,e[0]];var v=[[e[0],0],[0,0]];var d=[];var p=c[1]/(a.count()-1);var g=0;var y=Math.round(a.count()/e[0]);var m;a.each([o],(function(t,e){if(y>0&&e%y){g+=p;return}var r=t==null||isNaN(t)||t==="";var i=r?0:zn(t,u,h,true);if(r&&!m&&e){v.push([v[v.length-1][0],0]);d.push([d[d.length-1][0],0])}else if(!r&&m){v.push([g,0]);d.push([g,0])}v.push([g,i]);d.push([g,i]);g+=p;m=r}));s=this._shadowPolygonPts=v;l=this._shadowPolylinePts=d}this._shadowData=a;this._shadowDim=o;this._shadowSize=[e[0],e[1]];var _=this.dataZoomModel;function x(t){var e=_.getModel(t?"selectedDataBackground":"dataBackground");var r=new Tn;var i=new Vh({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var a=new Fh({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});r.add(i);r.add(a);return r}for(var w=0;w<3;w++){var b=x(w===1);this._displayables.sliderGroup.add(b);this._displayables.dataShadowSegs.push(b)}};e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel;var e=t.get("showDataShadow");if(e===false){return}var r;var i=this.ecModel;t.eachTargetAxis((function(a,n){var o=t.getAxisProxy(a,n).getTargetSeriesModels();X(o,(function(t){if(r){return}if(e!==true&&W(qq,t.get("type"))<0){return}var o=i.getComponent(dU(a),n).axis;var s=Jq(a);var l;var u=t.coordinateSystem;if(s!=null&&u.getOtherAxis){l=u.getOtherAxis(o).inverse}s=t.getData().mapDimension(s);r={thisAxis:o,series:t,thisDim:a,otherDim:s,otherAxisInverse:l}}),this)}),this);return r};e.prototype._renderHandle=function(){var t=this.group;var e=this._displayables;var r=e.handles=[null,null];var i=e.handleLabels=[null,null];var a=this._displayables.sliderGroup;var n=this._size;var o=this.dataZoomModel;var s=this.api;var l=o.get("borderRadius")||0;var u=o.get("brushSelect");var f=e.filler=new Gq({silent:u,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});a.add(f);a.add(new Gq({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:n[0],height:n[1],r:l},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:Hq,fill:"rgba(0,0,0,0)"}}));X([0,1],(function(e){var n=o.get("handleIcon");if(!k_[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0){n="path://"+n}var s=O_(n,-1,0,2,2,null,true);s.attr({cursor:Qq(this._orient),draggable:true,drift:Q(this._onDragMove,this,e),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,true),onmouseout:Q(this._showDataInfo,this,false),z2:5});var l=s.getBoundingRect();var u=o.get("handleSize");this._handleHeight=Vn(u,this._size[1]);this._handleWidth=l.width/l.height*this._handleHeight;s.setStyle(o.getModel("handleStyle").getItemStyle());s.style.strokeNoScale=true;s.rectHover=true;s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle();Af(s);var f=o.get("handleColor");if(f!=null){s.style.fill=f}a.add(r[e]=s);var h=o.getModel("textStyle");t.add(i[e]=new cu({silent:true,invisible:true,style:rv(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=f;if(u){var c=Vn(o.get("moveHandleSize"),n[1]);var v=e.moveHandle=new lu({style:o.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:n[1]-.5,height:c}});var d=c*.8;var p=e.moveHandleIcon=O_(o.get("moveHandleIcon"),-d/2,-d/2,d,d,"#fff",true);p.silent=true;p.y=n[1]+c/2-.5;v.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(n[1]/2,Math.max(c,10));h=e.moveZone=new lu({invisible:true,shape:{y:n[1]-g,height:c+g}});h.on("mouseover",(function(){s.enterEmphasis(v)})).on("mouseout",(function(){s.leaveEmphasis(v)}));a.add(v);a.add(p);a.add(h)}h.attr({draggable:true,cursor:Qq(this._orient),drift:Q(this._onDragMove,this,"all"),ondragstart:Q(this._showDataInfo,this,true),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,true),onmouseout:Q(this._showDataInfo,this,false)})};e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange();var e=this._getViewExtent();this._handleEnds=[zn(t[0],[0,100],e,true),zn(t[1],[0,100],e,true)]};e.prototype._updateInterval=function(t,e){var r=this.dataZoomModel;var i=this._handleEnds;var a=this._getViewExtent();var n=r.findRepresentativeAxisProxy().getMinMaxSpan();var o=[0,100];tz(e,i,a,r.get("zoomLock")?"all":t,n.minSpan!=null?zn(n.minSpan,o,a,true):null,n.maxSpan!=null?zn(n.maxSpan,o,a,true):null);var s=this._range;var l=this._range=Fn([zn(i[0],a,o,true),zn(i[1],a,o,true)]);return!s||s[0]!==l[0]||s[1]!==l[1]};e.prototype._updateView=function(t){var e=this._displayables;var r=this._handleEnds;var i=Fn(r.slice());var a=this._size;X([0,1],(function(t){var i=e.handles[t];var n=this._handleHeight;i.attr({scaleX:n/2,scaleY:n/2,x:r[t]+(t?-1:1),y:a[1]/2-n/2})}),this);e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]});var n={x:i[0],width:i[1]-i[0]};if(e.moveHandle){e.moveHandle.setShape(n);e.moveZone.setShape(n);e.moveZone.getBoundingRect();e.moveHandleIcon&&e.moveHandleIcon.attr("x",n.x+n.width/2)}var o=e.dataShadowSegs;var s=[0,i[0],i[1],a[0]];for(var l=0;l<o.length;l++){var u=o[l];var f=u.getClipPath();if(!f){f=new lu;u.setClipPath(f)}f.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:a[1]})}this._updateDataInfo(t)};e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel;var r=this._displayables;var i=r.handleLabels;var a=this._orient;var n=["",""];if(e.get("showDetail")){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis;var l=this._range;var u=t?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var f=Fn(this._handleEnds.slice());h.call(this,0);h.call(this,1);function h(t){var e=Nc(r.handles[t].parent,this.group);var o=Ec(t===0?"right":"left",e);var s=this._handleWidth/2+jq;var l=Rc([f[t]+(t===0?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:a===Xq?"middle":o,align:a===Xq?o:"center",text:n[t]})}};e.prototype._formatLabel=function(t,e){var r=this.dataZoomModel;var i=r.get("labelFormatter");var a=r.get("labelPrecision");if(a==null||a==="auto"){a=e.getPixelPrecision()}var n=t==null||isNaN(t)?"":e.type==="category"||e.type==="time"?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return rt(i)?i(t,n):it(i)?i.replace("{value}",n):n};e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables;var r=e.handleLabels;r[0].attr("invisible",!t);r[1].attr("invisible",!t);e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)};e.prototype._onDragMove=function(t,e,r,i){this._dragging=true;Ce(i.event);var a=this._displayables.sliderGroup.getLocalTransform();var n=Rc([e,r],a,true);var o=this._updateInterval(t,n[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s);o&&s&&this._dispatchZoomAction(true)};e.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(false)};e.prototype._onClickPanel=function(t){var e=this._size;var r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(r[0]<0||r[0]>e[0]||r[1]<0||r[1]>e[1]){return}var i=this._handleEnds;var a=(i[0]+i[1])/2;var n=this._updateInterval("all",r[0]-a);this._updateView();n&&this._dispatchZoomAction(false)};e.prototype._onBrushStart=function(t){var e=t.offsetX;var r=t.offsetY;this._brushStart=new He(e,r);this._brushing=true;this._brushStartTime=+new Date};e.prototype._onBrushEnd=function(t){if(!this._brushing){return}var e=this._displayables.brushRect;this._brushing=false;if(!e){return}e.attr("ignore",true);var r=e.shape;var i=+new Date;if(i-this._brushStartTime<200&&Math.abs(r.width)<5){return}var a=this._getViewExtent();var n=[0,100];this._range=Fn([zn(r.x,a,n,true),zn(r.x+r.width,a,n,true)]);this._handleEnds=[r.x,r.x+r.width];this._updateView();this._dispatchZoomAction(false)};e.prototype._onBrush=function(t){if(this._brushing){Ce(t.event);this._updateBrushRect(t.offsetX,t.offsetY)}};e.prototype._updateBrushRect=function(t,e){var r=this._displayables;var i=this.dataZoomModel;var a=r.brushRect;if(!a){a=r.brushRect=new Gq({silent:true,style:i.getModel("brushStyle").getItemStyle()});r.sliderGroup.add(a)}a.attr("ignore",false);var n=this._brushStart;var o=this._displayables.sliderGroup;var s=o.transformCoordToLocal(t,e);var l=o.transformCoordToLocal(n.x,n.y);var u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0);a.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})};e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Kq:null,start:e[0],end:e[1]})};e.prototype._findCoordRect=function(){var t;var e=gU(this.dataZoomModel).infoList;if(!t&&e.length){var r=e[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var i=this.api.getWidth();var a=this.api.getHeight();t={x:i*.2,y:a*.2,width:i*.6,height:a*.6}}return t};e.type="dataZoom.slider";return e}(wU);function Jq(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function Qq(t){return t==="vertical"?"ns-resize":"ew-resize"}function tK(t){t.registerComponentModel(Fq);t.registerComponentView($q);kU(t)}function eK(t){sb(Bq);sb(tK)}var rK={get:function(t,e,r){var i=z((iK[t]||{})[e]);return r?et(i)?i[i.length-1]:i:i}};var iK={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var aK=hN.mapVisual;var nK=hN.eachVisual;var oK=et;var sK=X;var lK=Fn;var uK=zn;var fK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.stateList=["inRange","outOfRange"];r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];r.layoutMode={type:"box",ignoreSize:true};r.dataBound=[-Infinity,Infinity];r.targetVisuals={};r.controllerVisuals={};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.optionUpdated=function(t,e){var r=this.option;!e&&_Z(r,t,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};e.prototype.resetVisual=function(t){var e=this.stateList;t=Q(t,this);this.controllerVisuals=mZ(this.option.controller,e,t);this.targetVisuals=mZ(this.option.target,e,t)};e.prototype.getItemSymbol=function(){return null};e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex;var e=[];if(t==null||t==="all"){this.ecModel.eachSeries((function(t,r){e.push(r)}))}else{e=yo(t)}return e};e.prototype.eachTargetSeries=function(t,e){X(this.getTargetSeriesIndices(),(function(r){var i=this.ecModel.getSeriesByIndex(r);if(i){t.call(e,i)}}),this)};e.prototype.isTargetSeries=function(t){var e=false;this.eachTargetSeries((function(r){r===t&&(e=true)}));return e};e.prototype.formatValueText=function(t,e,r){var i=this.option;var a=i.precision;var n=this.dataBound;var o=i.formatter;var s;r=r||["<",">"];if(et(t)){t=t.slice();s=true}var l=e?t:s?[u(t[0]),u(t[1])]:u(t);if(it(o)){return o.replace("{value}",s?l[0]:l).replace("{value2}",s?l[1]:l)}else if(rt(o)){return s?o(t[0],t[1]):o(t)}if(s){if(t[0]===n[0]){return r[0]+" "+l[1]}else if(t[1]===n[1]){return r[1]+" "+l[0]}else{return l[0]+" - "+l[1]}}else{return l}function u(t){return t===n[0]?"min":t===n[1]?"max":(+t).toFixed(Math.min(a,20))}};e.prototype.resetExtent=function(){var t=this.option;var e=lK([t.min,t.max]);this._dataExtent=e};e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(e!=null){return t.getDimensionIndex(e)}var r=t.dimensions;for(var i=r.length-1;i>=0;i--){var a=r[i];var n=t.getDimensionInfo(a);if(!n.isCalculationCoord){return n.storeDimIndex}}};e.prototype.getExtent=function(){return this._dataExtent.slice()};e.prototype.completeVisualOption=function(){var t=this.ecModel;var e=this.option;var r={inRange:e.inRange,outOfRange:e.outOfRange};var i=e.target||(e.target={});var a=e.controller||(e.controller={});V(i,r);V(a,r);var n=this.isCategory();o.call(this,i);o.call(this,a);s.call(this,i,"inRange","outOfRange");l.call(this,a);function o(r){if(oK(e.color)&&!r.inRange){r.inRange={color:e.color.slice().reverse()}}r.inRange=r.inRange||{color:t.get("gradientColor")}}function s(t,e,r){var i=t[e];var a=t[r];if(i&&!a){a=t[r]={};sK(i,(function(t,e){if(!hN.isValidType(e)){return}var r=rK.get(e,"inactive",n);if(r!=null){a[e]=r;if(e==="color"&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha")){a.opacity=[0,0]}}}))}}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol;var r=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize;var i=this.get("inactiveColor");var a=this.getItemSymbol();var o=a||"roundRect";sK(this.stateList,(function(a){var s=this.itemSize;var l=t[a];if(!l){l=t[a]={color:n?i:[i]}}if(l.symbol==null){l.symbol=e&&z(e)||(n?o:[o])}if(l.symbolSize==null){l.symbolSize=r&&z(r)||(n?s[0]:[s[0],s[0]])}l.symbol=aK(l.symbol,(function(t){return t==="none"?o:t}));var u=l.symbolSize;if(u!=null){var f=-Infinity;nK(u,(function(t){t>f&&(f=t)}));l.symbolSize=aK(u,(function(t){return uK(t,[0,f],[0,s[0]],true)}))}}),this)}};e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};e.prototype.isCategory=function(){return!!this.option.categories};e.prototype.setSelected=function(t){};e.prototype.getSelected=function(){return null};e.prototype.getValueState=function(t){return null};e.prototype.getVisualMeta=function(t){return null};e.type="visualMap";e.dependencies=["series"];e.defaultOption={show:true,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return e}(Zd);var hK=[20,140];var cK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual((function(t){t.mappingMethod="linear";t.dataExtent=this.getExtent()}));this._resetRange()};e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=hK[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=hK[1])};e.prototype._resetRange=function(){var t=this.getExtent();var e=this.option.range;if(!e||e.auto){t.auto=1;this.option.range=t}else if(et(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],t[0]);e[1]=Math.min(e[1],t[1])}};e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments);X(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;if(e&&e[0]!==e[1]){e[0]=e[1]/3}}),this)};e.prototype.setSelected=function(t){this.option.range=t.slice();this._resetRange()};e.prototype.getSelected=function(){var t=this.getExtent();var e=Fn((this.get("range")||[]).slice());e[0]>t[1]&&(e[0]=t[1]);e[1]>t[1]&&(e[1]=t[1]);e[0]<t[0]&&(e[0]=t[0]);e[1]<t[0]&&(e[1]=t[0]);return e};e.prototype.getValueState=function(t){var e=this.option.range;var r=this.getExtent();return(e[0]<=r[0]||e[0]<=t)&&(e[1]>=r[1]||t<=e[1])?"inRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];this.eachTargetSeries((function(r){var i=[];var a=r.getData();a.each(this.getDataDimensionIndex(a),(function(e,r){t[0]<=e&&e<=t[1]&&i.push(r)}),this);e.push({seriesId:r.id,dataIndex:i})}),this);return e};e.prototype.getVisualMeta=function(t){var e=vK(this,"outOfRange",this.getExtent());var r=vK(this,"inRange",this.option.range.slice());var i=[];function a(e,r){i.push({value:e,color:t(e,r)})}var n=0;var o=0;var s=r.length;var l=e.length;for(;o<l&&(!r.length||e[o]<=r[0]);o++){if(e[o]<r[n]){a(e[o],"outOfRange")}}for(var u=1;n<s;n++,u=0){u&&i.length&&a(r[n],"outOfRange");a(r[n],"inRange")}for(var u=1;o<l;o++){if(!r.length||r[r.length-1]<e[o]){if(u){i.length&&a(i[i.length-1].value,"outOfRange");u=0}a(e[o],"outOfRange")}}var f=i.length;return{stops:i,outerColors:[f?i[0].color:"transparent",f?i[f-1].color:"transparent"]}};e.type="visualMap.continuous";e.defaultOption=Av(fK.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return e}(fK);function vK(t,e,r){if(r[0]===r[1]){return r.slice()}var i=200;var a=(r[1]-r[0])/i;var n=r[0];var o=[];for(var s=0;s<=i&&n<r[1];s++){o.push(n);n+=a}o.push(r[1]);return o}var dK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.autoPositionValues={left:1,right:1,top:1,bottom:1};return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e};e.prototype.render=function(t,e,r,i){this.visualMapModel=t;if(t.get("show")===false){this.group.removeAll();return}this.doRender(t,e,r,i)};e.prototype.renderBackground=function(t){var e=this.visualMapModel;var r=bd(e.get("padding")||0);var i=t.getBoundingRect();t.add(new lu({z2:-1,silent:true,shape:{x:i.x-r[3],y:i.y-r[0],width:i.width+r[3]+r[1],height:i.height+r[0]+r[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))};e.prototype.getControllerVisual=function(t,e,r){r=r||{};var i=r.forceState;var a=this.visualMapModel;var n={};if(e==="color"){var o=a.get("contentColor");n.color=o}function s(t){return n[t]}function l(t,e){n[t]=e}var u=a.controllerVisuals[i||a.getValueState(t)];var f=hN.prepareVisualTypes(u);X(f,(function(i){var a=u[i];if(r.convertOpacityToAlpha&&i==="opacity"){i="colorAlpha";a=u.__alphaForOpacity}if(hN.dependsOn(i,e)){a&&a.applyVisual(t,s,l)}}));return n[e]};e.prototype.positionGroup=function(t){var e=this.visualMapModel;var r=this.api;Fd(t,e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})};e.prototype.doRender=function(t,e,r,i){};e.type="visualMap";return e}(dm);var pK=[["left","right","width"],["top","bottom","height"]];function gK(t,e,r){var i=t.option;var a=i.align;if(a!=null&&a!=="auto"){return a}var n={width:e.getWidth(),height:e.getHeight()};var o=i.orient==="horizontal"?1:0;var s=pK[o];var l=[0,null,10];var u={};for(var f=0;f<3;f++){u[pK[1-o][f]]=l[f];u[s[f]]=f===2?r[0]:i[s[f]]}var h=[["x","width",3],["y","height",0]][o];var c=Bd(u,n,i.padding);return s[(c.margin[h[2]]||0)+c[h[0]]+c[h[1]]*.5<n[h[1]]*.5?0:1]}function yK(t,e){X(t||[],(function(t){if(t.dataIndex!=null){t.dataIndexInside=t.dataIndex;t.dataIndex=null}t.highlightKey="visualMap"+(e?e.componentIndex:"")}));return t}var mK=zn;var _K=X;var xK=Math.min;var wK=Math.max;var bK=12;var SK=6;var MK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._shapes={};r._dataInterval=[];r._handleEnds=[];r._hoverLinkDataIndices=[];return r}e.prototype.doRender=function(t,e,r,i){this._api=r;if(!i||i.type!=="selectDataRange"||i.from!==this.uid){this._buildView()}};e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel;var e=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(e);var r=t.get("text");this._renderEndsText(e,r,0);this._renderEndsText(e,r,1);this._updateView(true);this.renderBackground(e);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(e)};e.prototype._renderEndsText=function(t,e,r){if(!e){return}var i=e[1-r];i=i!=null?i+"":"";var a=this.visualMapModel;var n=a.get("textGap");var o=a.itemSize;var s=this._shapes.mainGroup;var l=this._applyTransform([o[0]/2,r===0?-n:o[1]+n],s);var u=this._applyTransform(r===0?"bottom":"top",s);var f=this._orient;var h=this.visualMapModel.textStyleModel;this.group.add(new cu({style:rv(h,{x:l[0],y:l[1],verticalAlign:f==="horizontal"?"middle":u,align:f==="horizontal"?u:"center",text:i})}))};e.prototype._renderBar=function(t){var e=this.visualMapModel;var r=this._shapes;var i=e.itemSize;var a=this._orient;var n=this._useHandle;var o=gK(e,this.api,i);var s=r.mainGroup=this._createBarGroup(o);var l=new Tn;s.add(l);l.add(r.outOfRange=IK());l.add(r.inRange=IK(null,n?CK(this._orient):null,Q(this._dragHandle,this,"all",false),Q(this._dragHandle,this,"all",true)));l.setClipPath(new lu({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect("");var f=wK(u.width,u.height);if(n){r.handleThumbs=[];r.handleLabels=[];r.handleLabelPoints=[];this._createHandle(e,s,0,i,f,a);this._createHandle(e,s,1,i,f,a)}this._createIndicator(e,s,i,f,a);t.add(s)};e.prototype._createHandle=function(t,e,r,i,a,n){var o=Q(this._dragHandle,this,r,false);var s=Q(this._dragHandle,this,r,true);var l=hn(t.get("handleSize"),i[0]);var u=O_(t.get("handleIcon"),-l/2,-l/2,l,l,null,true);var f=CK(this._orient);u.attr({cursor:f,draggable:true,drift:o,ondragend:s,onmousemove:function(t){Ce(t.event)}});u.x=i[0]/2;u.useStyle(t.getModel("handleStyle").getItemStyle());u.setStyle({strokeNoScale:true,strokeFirst:true});u.style.lineWidth*=2;u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle();Ef(u,true);e.add(u);var h=this.visualMapModel.textStyleModel;var c=new cu({cursor:f,draggable:true,drift:o,onmousemove:function(t){Ce(t.event)},ondragend:s,style:rv(h,{x:0,y:0,text:""})});c.ensureState("blur").style={opacity:.1};c.stateTransition={duration:200};this.group.add(c);var v=[l,0];var d=this._shapes;d.handleThumbs[r]=u;d.handleLabelPoints[r]=v;d.handleLabels[r]=c};e.prototype._createIndicator=function(t,e,r,i,a){var n=hn(t.get("indicatorSize"),r[0]);var o=O_(t.get("indicatorIcon"),-n/2,-n/2,n,n,null,true);o.attr({cursor:"move",invisible:true,silent:true,x:r[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(o instanceof tu){var l=o.style;o.useStyle(F({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else{o.useStyle(s)}e.add(o);var u=this.visualMapModel.textStyleModel;var f=new cu({silent:true,invisible:true,style:rv(u,{x:0,y:0,text:""})});this.group.add(f);var h=[(a==="horizontal"?i/2:SK)+r[0]/2,0];var c=this._shapes;c.indicator=o;c.indicatorLabel=f;c.indicatorLabelPoint=h;this._firstShowIndicator=true};e.prototype._dragHandle=function(t,e,r,i){if(!this._useHandle){return}this._dragging=!e;if(!e){var a=this._applyTransform([r,i],this._shapes.mainGroup,true);this._updateInterval(t,a[1]);this._hideIndicator();this._updateView()}if(e===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(e){!this._hovering&&this._clearHoverLinkToSeries()}else if(DK(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[t],false)}};e.prototype._resetInterval=function(){var t=this.visualMapModel;var e=this._dataInterval=t.getSelected();var r=t.getExtent();var i=[0,t.itemSize[1]];this._handleEnds=[mK(e[0],r,i,true),mK(e[1],r,i,true)]};e.prototype._updateInterval=function(t,e){e=e||0;var r=this.visualMapModel;var i=this._handleEnds;var a=[0,r.itemSize[1]];tz(e,i,a,t,0);var n=r.getExtent();this._dataInterval=[mK(i[0],a,n,true),mK(i[1],a,n,true)]};e.prototype._updateView=function(t){var e=this.visualMapModel;var r=e.getExtent();var i=this._shapes;var a=[0,e.itemSize[1]];var n=t?a:this._handleEnds;var o=this._createBarVisual(this._dataInterval,r,n,"inRange");var s=this._createBarVisual(r,r,a,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints);this._updateHandle(n,o)};e.prototype._createBarVisual=function(t,e,r,i){var a={forceState:i,convertOpacityToAlpha:true};var n=this._makeColorGradient(t,a);var o=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)];var s=this._createBarPoints(r,o);return{barColor:new Jh(0,0,0,1,n),barPoints:s,handlesColor:[n[0].color,n[n.length-1].color]}};e.prototype._makeColorGradient=function(t,e){var r=100;var i=[];var a=(t[1]-t[0])/r;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var n=1;n<r;n++){var o=t[0]+a*n;if(o>t[1]){break}i.push({color:this.getControllerVisual(o,"color",e),offset:n/r})}i.push({color:this.getControllerVisual(t[1],"color",e),offset:1});return i};e.prototype._createBarPoints=function(t,e){var r=this.visualMapModel.itemSize;return[[r[0]-e[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-e[1],t[1]]]};e.prototype._createBarGroup=function(t){var e=this._orient;var r=this.visualMapModel.get("inverse");return new Tn(e==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:e==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:e==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})};e.prototype._updateHandle=function(t,e){if(!this._useHandle){return}var r=this._shapes;var i=this.visualMapModel;var a=r.handleThumbs;var n=r.handleLabels;var o=i.itemSize;var s=i.getExtent();_K([0,1],(function(l){var u=a[l];u.setStyle("fill",e.handlesColor[l]);u.y=t[l];var f=mK(t[l],[0,o[1]],s,true);var h=this.getControllerVisual(f,"symbolSize");u.scaleX=u.scaleY=h/o[0];u.x=o[0]-h/2;var c=Rc(r.handleLabelPoints[l],Nc(u,this.group));n[l].setStyle({x:c[0],y:c[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})}),this)};e.prototype._showIndicator=function(t,e,r,i){var a=this.visualMapModel;var n=a.getExtent();var o=a.itemSize;var s=[0,o[1]];var l=this._shapes;var u=l.indicator;if(!u){return}u.attr("invisible",false);var f={convertOpacityToAlpha:true};var h=this.getControllerVisual(t,"color",f);var c=this.getControllerVisual(t,"symbolSize");var v=mK(t,n,s,true);var d=o[0]-c/2;var p={x:u.x,y:u.y};u.y=v;u.x=d;var g=Rc(l.indicatorLabelPoint,Nc(u,this.group));var y=l.indicatorLabel;y.attr("invisible",false);var m=this._applyTransform("left",l.mainGroup);var _=this._orient;var x=_==="horizontal";y.setStyle({text:(r?r:"")+a.formatValueText(e),verticalAlign:x?m:"middle",align:x?"center":m});var w={x:d,y:v,style:{fill:h}};var b={style:{x:g[0],y:g[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:true};u.x=p.x;u.y=p.y;u.animateTo(w,S);y.animateTo(b,S)}else{u.attr(w);y.attr(b)}this._firstShowIndicator=false;var M=this._shapes.handleLabels;if(M){for(var I=0;I<M.length;I++){this._api.enterBlur(M[I])}}};e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){t._hovering=true;if(!t._dragging){var r=t.visualMapModel.itemSize;var i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,true,true);i[1]=xK(wK(0,i[1]),r[1]);t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}})).on("mouseout",(function(){t._hovering=false;!t._dragging&&t._clearHoverLinkToSeries()}))};e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();if(this.visualMapModel.option.hoverLink){t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);t.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};e.prototype._doHoverLinkToSeries=function(t,e){var r=this.visualMapModel;var i=r.itemSize;if(!r.option.hoverLink){return}var a=[0,i[1]];var n=r.getExtent();t=xK(wK(a[0],t),a[1]);var o=TK(r,n,a);var s=[t-o,t+o];var l=mK(t,a,n,true);var u=[mK(s[0],a,n,true),mK(s[1],a,n,true)];s[0]<a[0]&&(u[0]=-Infinity);s[1]>a[1]&&(u[1]=Infinity);if(e){if(u[0]===-Infinity){this._showIndicator(l,u[1],"< ",o)}else if(u[1]===Infinity){this._showIndicator(l,u[0],"> ",o)}else{this._showIndicator(l,l," ",o)}}var f=this._hoverLinkDataIndices;var h=[];if(e||DK(r)){h=this._hoverLinkDataIndices=r.findTargetDataIndices(u)}var c=zo(f,h);this._dispatchHighDown("downplay",yK(c[0],r));this._dispatchHighDown("highlight",yK(c[1],r))};e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;x_(t.target,(function(t){var r=Tu(t);if(r.dataIndex!=null){e=r;return true}}),true);if(!e){return}var r=this.ecModel.getSeriesByIndex(e.seriesIndex);var i=this.visualMapModel;if(!i.isTargetSeries(r)){return}var a=r.getData(e.dataType);var n=a.getStore().get(i.getDataDimensionIndex(a),e.dataIndex);if(!isNaN(n)){this._showIndicator(n,n)}};e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",true);t.indicatorLabel&&t.indicatorLabel.attr("invisible",true);var e=this._shapes.handleLabels;if(e){for(var r=0;r<e.length;r++){this._api.leaveBlur(e[r])}}};e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",yK(t,this.visualMapModel));t.length=0};e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver);t.off("mouseout",this._hideIndicator)};e.prototype._applyTransform=function(t,e,r,i){var a=Nc(e,i?null:this.group);return et(t)?Rc(t,a,r):Ec(t,a,r)};e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})};e.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};e.prototype.remove=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};e.type="visualMap.continuous";return e}(dK);function IK(t,e,r,i){return new Vh({shape:{points:t},draggable:!!r,cursor:e,drift:r,onmousemove:function(t){Ce(t.event)},ondragend:i})}function TK(t,e,r){var i=bK/2;var a=t.get("hoverLinkDataSize");if(a){i=mK(a,e,r,true)/2}return i}function DK(t){var e=t.get("hoverLinkOnHandle");return!!(e==null?t.get("realtime"):e)}function CK(t){return t==="vertical"?"ns-resize":"ew-resize"}var AK={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var kK=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))};var LK=[{createOnAllSeries:true,reset:function(t,e){var r=[];e.eachComponent("visualMap",(function(e){var i=t.pipelineContext;if(!e.isTargetSeries(t)||i&&i.large){return}r.push(wZ(e.stateList,e.targetVisuals,Q(e.getValueState,e),e.getDataDimensionIndex(t.getData())))}));return r}},{createOnAllSeries:true,reset:function(t,e){var r=t.getData();var i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var a=e.getVisualMeta(Q(PK,null,t,e))||{stops:[],outerColors:[]};var n=e.getDataDimensionIndex(r);if(n>=0){a.dimension=n;i.push(a)}}}));t.getData().setVisual("visualMeta",i)}}];function PK(t,e,r,i){var a=e.targetVisuals[i];var n=hN.prepareVisualTypes(a);var o={color:p_(t.getData(),"color")};for(var s=0,l=n.length;s<l;s++){var u=n[s];var f=a[u==="opacity"?"__alphaForOpacity":u];f&&f.applyVisual(r,h,c)}return o.color;function h(t){return o[t]}function c(t,e){o[t]=e}}var OK=X;function NK(t){var e=t&&t.visualMap;if(!et(e)){e=e?[e]:[]}OK(e,(function(t){if(!t){return}if(RK(t,"splitList")&&!RK(t,"pieces")){t.pieces=t.splitList;delete t.splitList}var e=t.pieces;if(e&&et(e)){OK(e,(function(t){if(ot(t)){if(RK(t,"start")&&!RK(t,"min")){t.min=t.start}if(RK(t,"end")&&!RK(t,"max")){t.max=t.end}}}))}}))}function RK(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var EK=false;function zK(t){if(EK){return}EK=true;t.registerSubTypeDefaulter("visualMap",(function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}));t.registerAction(AK,kK);X(LK,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}));t.registerPreprocessor(NK)}function VK(t){t.registerComponentModel(cK);t.registerComponentView(MK);zK(t)}var BK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._pieceList=[];return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[];FK[this._mode].call(this,this._pieceList);this._resetSelected(e,r);var a=this.option.categories;this.resetVisual((function(t,e){if(i==="categories"){t.mappingMethod="category";t.categories=z(a)}else{t.dataExtent=this.getExtent();t.mappingMethod="piecewise";t.pieceList=Z(this._pieceList,(function(t){t=z(t);if(e!=="inRange"){t.visual=null}return t}))}}))};e.prototype.completeVisualOption=function(){var e=this.option;var r={};var i=hN.listVisualTypes();var a=this.isCategory();X(e.pieces,(function(t){X(i,(function(e){if(t.hasOwnProperty(e)){r[e]=1}}))}));X(r,(function(t,r){var i=false;X(this.stateList,(function(t){i=i||n(e,t,r)||n(e.target,t,r)}),this);!i&&X(this.stateList,(function(t){(e[t]||(e[t]={}))[r]=rK.get(r,t==="inRange"?"active":"inactive",a)}))}),this);function n(t,e,r){return t&&t[e]&&t[e].hasOwnProperty(r)}t.prototype.completeVisualOption.apply(this,arguments)};e.prototype._resetSelected=function(t,e){var r=this.option;var i=this._pieceList;var a=(e?r:t).selected||{};r.selected=a;X(i,(function(t,e){var r=this.getSelectedMapKey(t);if(!a.hasOwnProperty(r)){a[r]=true}}),this);if(r.selectedMode==="single"){var n=false;X(i,(function(t,e){var r=this.getSelectedMapKey(t);if(a[r]){n?a[r]=false:n=true}}),this)}};e.prototype.getItemSymbol=function(){return this.get("itemSymbol")};e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""};e.prototype.getPieceList=function(){return this._pieceList};e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};e.prototype.setSelected=function(t){this.option.selected=z(t)};e.prototype.getValueState=function(t){var e=hN.findPieceIndex(t,this._pieceList);return e!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];var r=this._pieceList;this.eachTargetSeries((function(i){var a=[];var n=i.getData();n.each(this.getDataDimensionIndex(n),(function(e,i){var n=hN.findPieceIndex(e,r);n===t&&a.push(i)}),this);e.push({seriesId:i.id,dataIndex:a})}),this);return e};e.prototype.getRepresentValue=function(t){var e;if(this.isCategory()){e=t.value}else{if(t.value!=null){e=t.value}else{var r=t.interval||[];e=r[0]===-Infinity&&r[1]===Infinity?0:(r[0]+r[1])/2}}return e};e.prototype.getVisualMeta=function(t){if(this.isCategory()){return}var e=[];var r=["",""];var i=this;function a(a,n){var o=i.getRepresentValue({interval:a});if(!n){n=i.getValueState(o)}var s=t(o,n);if(a[0]===-Infinity){r[0]=s}else if(a[1]===Infinity){r[1]=s}else{e.push({value:a[0],color:s},{value:a[1],color:s})}}var n=this._pieceList.slice();if(!n.length){n.push({interval:[-Infinity,Infinity]})}else{var o=n[0].interval[0];o!==-Infinity&&n.unshift({interval:[-Infinity,o]});o=n[n.length-1].interval[1];o!==Infinity&&n.push({interval:[o,Infinity]})}var s=-Infinity;X(n,(function(t){var e=t.interval;if(e){e[0]>s&&a([s,e[0]],"outOfRange");a(e.slice());s=e[1]}}),this);return{stops:e,outerColors:r}};e.type="visualMap.piecewise";e.defaultOption=Av(fK.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return e}(fK);var FK={splitNumber:function(t){var e=this.option;var r=Math.min(e.precision,20);var i=this.getExtent();var a=e.splitNumber;a=Math.max(parseInt(a,10),1);e.splitNumber=a;var n=(i[1]-i[0])/a;while(+n.toFixed(r)!==n&&r<5){r++}e.precision=r;n=+n.toFixed(r);if(e.minOpen){t.push({interval:[-Infinity,i[0]],close:[0,0]})}for(var o=0,s=i[0];o<a;s+=n,o++){var l=o===a-1?i[1]:s+n;t.push({interval:[s,l],close:[1,1]})}if(e.maxOpen){t.push({interval:[i[1],Infinity],close:[0,0]})}eo(t);X(t,(function(t,e){t.index=e;t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;X(e.categories,(function(e){t.push({text:this.formatValueText(e,true),value:e})}),this);GK(e,t)},pieces:function(t){var e=this.option;X(e.pieces,(function(e,r){if(!ot(e)){e={value:e}}var i={text:"",index:r};if(e.label!=null){i.text=e.label}if(e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a];i.close=[1,1]}else{var n=i.interval=[];var o=i.close=[0,0];var s=[1,0,1];var l=[-Infinity,Infinity];var u=[];for(var f=0;f<2;f++){var h=[["gte","gt","min"],["lte","lt","max"]][f];for(var c=0;c<3&&n[f]==null;c++){n[f]=e[h[c]];o[f]=s[c];u[f]=c===2}n[f]==null&&(n[f]=l[f])}u[0]&&n[1]===Infinity&&(o[0]=0);u[1]&&n[0]===-Infinity&&(o[1]=0);if(n[0]===n[1]&&o[0]&&o[1]){i.value=n[0]}}i.visual=hN.retrieveVisuals(e);t.push(i)}),this);GK(e,t);eo(t);X(t,(function(t){var e=t.close;var r=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,false,r)}),this)}};function GK(t,e){var r=t.inverse;if(t.orient==="vertical"?!r:r){e.reverse()}}var WK=function(t){u(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel;var r=e.get("textGap");var i=e.textStyleModel;var a=i.getFont();var n=i.getTextColor();var o=this._getItemAlign();var s=e.itemSize;var l=this._getViewData();var u=l.endsText;var f=dt(e.get("showLabel",true),!u);u&&this._renderEndsText(t,u[0],s,f,o);X(l.viewPieceList,(function(i){var l=i.piece;var u=new Tn;u.onclick=Q(this._onItemClick,this,l);this._enableHoverLink(u,i.indexInModelPieceList);var h=e.getRepresentValue(l);this._createItemSymbol(u,h,[0,0,s[0],s[1]]);if(f){var c=this.visualMapModel.getValueState(h);u.add(new cu({style:{x:o==="right"?-r:s[0]+r,y:s[1]/2,text:l.text,verticalAlign:"middle",align:o,font:a,fill:n,opacity:c==="outOfRange"?.5:1}}))}t.add(u)}),this);u&&this._renderEndsText(t,u[1],s,f,o);Rd(e.get("orient"),t,e.get("itemGap"));this.renderBackground(t);this.positionGroup(t)};e.prototype._enableHoverLink=function(t,e){var r=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=r.visualMapModel;i.option.hoverLink&&r.api.dispatchAction({type:t,batch:yK(i.findTargetDataIndices(e),i)})}};e.prototype._getItemAlign=function(){var t=this.visualMapModel;var e=t.option;if(e.orient==="vertical"){return gK(t,this.api,t.itemSize)}else{var r=e.align;if(!r||r==="auto"){r="left"}return r}};e.prototype._renderEndsText=function(t,e,r,i,a){if(!e){return}var n=new Tn;var o=this.visualMapModel.textStyleModel;n.add(new cu({style:rv(o,{x:i?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:i?a:"center",text:e})}));t.add(n)};e.prototype._getViewData=function(){var t=this.visualMapModel;var e=Z(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}}));var r=t.get("text");var i=t.get("orient");var a=t.get("inverse");if(i==="horizontal"?a:!a){e.reverse()}else if(r){r=r.slice().reverse()}return{viewPieceList:e,endsText:r}};e.prototype._createItemSymbol=function(t,e,r){t.add(O_(this.getControllerVisual(e,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(e,"color")))};e.prototype._onItemClick=function(t){var e=this.visualMapModel;var r=e.option;var i=r.selectedMode;if(!i){return}var a=z(r.selected);var n=e.getSelectedMapKey(t);if(i==="single"||i===true){a[n]=true;X(a,(function(t,e){a[e]=e===n}))}else{a[n]=!a[n]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})};e.type="visualMap.piecewise";return e}(dK);function HK(t){t.registerComponentModel(BK);t.registerComponentView(WK);zK(t)}function YK(t){sb(VK);sb(HK)}var UK={label:{enabled:true},decal:{show:false}};var XK=Bo();var ZK={};function jK(t,e){var r=t.getModel("aria");if(!r.get("enabled")){return}var i=z(UK);V(i.label,t.getLocaleModel().get("aria"),false);V(r.option,i,false);a();n();function a(){var e=r.getModel("decal");var i=e.get("show");if(i){var a=Ct();t.eachSeries((function(t){if(t.isColorBySeries()){return}var e=a.get(t.type);if(!e){e={};a.set(t.type,e)}XK(t).scope=e}));t.eachRawSeries((function(e){if(t.isSeriesFiltered(e)){return}if(rt(e.enableAriaDecal)){e.enableAriaDecal();return}var r=e.getData();if(!e.isColorBySeries()){var i=e.getRawData();var a={};var n=XK(e).scope;r.each((function(t){var e=r.getRawIndex(t);a[e]=t}));var o=i.count();i.each((function(t){var s=a[t];var l=i.getName(t)||t+"";var f=bp(e.ecModel,l,n,o);var h=r.getItemVisual(s,"decal");r.setItemVisual(s,"decal",u(h,f))}))}else{var s=bp(e.ecModel,e.name,ZK,t.getSeriesCount());var l=r.getVisual("decal");r.setVisual("decal",u(l,s))}function u(t,e){var r=t?F(F({},e),t):e;r.dirty=true;return r}}))}}function n(){var i=t.getLocaleModel().get("aria");var a=r.getModel("label");a.option=G(a.option,i);if(!a.get("enabled")){return}var n=e.getZr().dom;if(a.get("description")){n.setAttribute("aria-label",a.get("description"));return}var u=t.getSeriesCount();var f=a.get(["data","maxCount"])||10;var h=a.get(["series","maxCount"])||10;var c=Math.min(u,h);var v;if(u<1){return}else{var d=s();if(d){var p=a.get(["general","withTitle"]);v=o(p,{title:d})}else{v=a.get(["general","withoutTitle"])}var g=[];var y=u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);v+=o(y,{seriesCount:u});t.eachSeries((function(t,e){if(e<c){var r=void 0;var i=t.get("name");var n=i?"withName":"withoutName";r=u>1?a.get(["series","multiple",n]):a.get(["series","single",n]);r=o(r,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>f){var h=a.get(["data","partialData"]);r+=o(h,{displayCnt:f})}else{r+=a.get(["data","allData"])}var v=a.get(["data","separator","middle"]);var d=a.get(["data","separator","end"]);var p=[];for(var y=0;y<s.count();y++){if(y<f){var m=s.getName(y);var _=s.getValues(y);var x=a.get(["data",m?"withName":"withoutName"]);p.push(o(x,{name:m,value:_.join(v)}))}}r+=p.join(v)+d;g.push(r)}}));var m=a.getModel(["series","multiple","separator"]);var _=m.get("middle");var x=m.get("end");v+=g.join(_)+x;n.setAttribute("aria-label",v)}}function o(t,e){if(!it(t)){return t}var r=t;X(e,(function(t,e){r=r.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}));return r}function s(){var e=t.get("title");if(e&&e.length){e=e[0]}return e&&e.text}function l(e){return t.getLocaleModel().get(["series","typeNames"])[e]||""}}function qK(t){if(!t||!t.aria){return}var e=t.aria;if(e.show!=null){e.enabled=e.show}e.label=e.label||{};X(["description","general","series","data"],(function(t){if(e[t]!=null){e.label[t]=e[t]}}))}function KK(t){t.registerPreprocessor(qK);t.registerVisual(t.PRIORITY.VISUAL.ARIA,jK)}var $K={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var JK=function(){function t(t){var e=this._condVal=it(t)?new RegExp(t):ct(t)?t:null;if(e==null){var r="";co(r)}}t.prototype.evaluate=function(t){var e=typeof t;return it(e)?this._condVal.test(t):nt(e)?this._condVal.test(t+""):false};return t}();var QK=function(){function t(){}t.prototype.evaluate=function(){return this.value};return t}();var t$=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(!t[e].evaluate()){return false}}return true};return t}();var e$=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(t[e].evaluate()){return true}}return false};return t}();var r$=function(){function t(){}t.prototype.evaluate=function(){return!this.child.evaluate()};return t}();var i$=function(){function t(){}t.prototype.evaluate=function(){var t=!!this.valueParser;var e=this.getValue;var r=e(this.valueGetterParam);var i=t?this.valueParser(r):null;for(var a=0;a<this.subCondList.length;a++){if(!this.subCondList[a].evaluate(t?i:r)){return false}}return true};return t}();function a$(t,e){if(t===true||t===false){var r=new QK;r.value=t;return r}var i="";if(!l$(t)){co(i)}if(t.and){return n$("and",t,e)}else if(t.or){return n$("or",t,e)}else if(t.not){return o$(t,e)}return s$(t,e)}function n$(t,e,r){var i=e[t];var a="";if(!et(i)){co(a)}if(!i.length){co(a)}var n=t==="and"?new t$:new e$;n.children=Z(i,(function(t){return a$(t,r)}));if(!n.children.length){co(a)}return n}function o$(t,e){var r=t.not;var i="";if(!l$(r)){co(i)}var a=new r$;a.child=a$(r,e);if(!a.child){co(i)}return a}function s$(t,e){var r="";var i=e.prepareGetValue(t);var a=[];var n=$(t);var o=t.parser;var s=o?ey(o):null;for(var l=0;l<n.length;l++){var u=n[l];if(u==="parser"||e.valueGetterAttrMap.get(u)){continue}var f=Pt($K,u)?$K[u]:u;var h=t[u];var c=s?s(h):h;var v=oy(f,c)||f==="reg"&&new JK(c);if(!v){co(r)}a.push(v)}if(!a.length){co(r)}var d=new i$;d.valueGetterParam=i;d.valueParser=s;d.getValue=e.getValue;d.subCondList=a;return d}function l$(t){return ot(t)&&!U(t)}var u$=function(){function t(t,e){this._cond=a$(t,e)}t.prototype.evaluate=function(){return this._cond.evaluate()};return t}();function f$(t,e){return new u$(t,e)}var h$={type:"echarts:filter",transform:function(t){var e=t.upstream;var r;var i=f$(t.config,{valueGetterAttrMap:Ct({dimension:true}),prepareGetValue:function(t){var r="";var i=t.dimension;if(!Pt(t,"dimension")){co(r)}var a=e.getDimensionInfo(i);if(!a){co(r)}return{dimIdx:a.index}},getValue:function(t){return e.retrieveValueFromItem(r,t.dimIdx)}});var a=[];for(var n=0,o=e.count();n<o;n++){r=e.getRawDataItem(n);if(i.evaluate()){a.push(r)}}return{data:a}}};var c$={type:"echarts:sort",transform:function(t){var e=t.upstream;var r=t.config;var i="";var a=yo(r);if(!a.length){co(i)}var n=[];X(a,(function(t){var r=t.dimension;var a=t.order;var o=t.parser;var s=t.incomparable;if(r==null){co(i)}if(a!=="asc"&&a!=="desc"){co(i)}if(s&&s!=="min"&&s!=="max"){var l="";co(l)}if(a!=="asc"&&a!=="desc"){var u="";co(u)}var f=e.getDimensionInfo(r);if(!f){co(i)}var h=o?ey(o):null;if(o&&!h){co(i)}n.push({dimIdx:f.index,parser:h,comparator:new ay(a,s)})}));var o=e.sourceFormat;if(o!==tp&&o!==ep){co(i)}var s=[];for(var l=0,u=e.count();l<u;l++){s.push(e.getRawDataItem(l))}s.sort((function(t,r){for(var i=0;i<n.length;i++){var a=n[i];var o=e.retrieveValueFromItem(t,a.dimIdx);var s=e.retrieveValueFromItem(r,a.dimIdx);if(a.parser){o=a.parser(o);s=a.parser(s)}var l=a.comparator.evaluate(o,s);if(l!==0){return l}}return 0}));return{data:s}}};function v$(t){t.registerTransform(h$);t.registerTransform(c$)}var d$=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i);this._sourceManager=new ky(this);Ly(this)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);Ly(this)};e.prototype.optionUpdated=function(){this._sourceManager.dirty()};e.prototype.getSourceManager=function(){return this._sourceManager};e.type="dataset";e.defaultOption={seriesLayoutBy:np};return e}(Zd);var p$=function(t){u(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.type="dataset";return e}(dm);function g$(t){t.registerComponentModel(d$);t.registerComponentView(p$)}var y$=Sl.CMD;function m$(t,e){return Math.abs(t-e)<1e-5}function _$(t){var e=t.data;var r=t.len();var i=[];var a;var n=0;var o=0;var s=0;var l=0;function u(t,e){if(a&&a.length>2){i.push(a)}a=[t,e]}function f(t,e,r,i){if(!(m$(t,r)&&m$(e,i))){a.push(t,e,r,i,r,i)}}function h(t,e,r,i,n,o){var s=Math.abs(e-t);var l=Math.tan(s/4)*4/3;var u=e<t?-1:1;var f=Math.cos(t);var h=Math.sin(t);var c=Math.cos(e);var v=Math.sin(e);var d=f*n+r;var p=h*o+i;var g=c*n+r;var y=v*o+i;var m=n*l*u;var _=o*l*u;a.push(d-m*h,p+_*f,g+m*v,y-_*c,g,y)}var c;var v;var d;var p;for(var g=0;g<r;){var y=e[g++];var m=g===1;if(m){n=e[g];o=e[g+1];s=n;l=o;if(y===y$.L||y===y$.C||y===y$.Q){a=[s,l]}}switch(y){case y$.M:n=s=e[g++];o=l=e[g++];u(s,l);break;case y$.L:c=e[g++];v=e[g++];f(n,o,c,v);n=c;o=v;break;case y$.C:a.push(e[g++],e[g++],e[g++],e[g++],n=e[g++],o=e[g++]);break;case y$.Q:c=e[g++];v=e[g++];d=e[g++];p=e[g++];a.push(n+2/3*(c-n),o+2/3*(v-o),d+2/3*(c-d),p+2/3*(v-p),d,p);n=d;o=p;break;case y$.A:var _=e[g++];var x=e[g++];var w=e[g++];var b=e[g++];var S=e[g++];var M=e[g++]+S;g+=1;var I=!e[g++];c=Math.cos(S)*w+_;v=Math.sin(S)*b+x;if(m){s=c;l=v;u(s,l)}else{f(n,o,c,v)}n=Math.cos(M)*w+_;o=Math.sin(M)*b+x;var T=(I?-1:1)*Math.PI/2;for(var D=S;I?D>M:D<M;D+=T){var C=I?Math.max(D+T,M):Math.min(D+T,M);h(D,C,_,x,w,b)}break;case y$.R:s=n=e[g++];l=o=e[g++];c=s+e[g++];v=l+e[g++];u(c,l);f(c,l,c,v);f(c,v,s,v);f(s,v,s,l);f(s,l,c,l);break;case y$.Z:a&&f(n,o,s,l);n=s;o=l;break}}if(a&&a.length>2){i.push(a)}return i}function x$(t,e,r,i,a,n,o,s,l,u){if(m$(t,r)&&m$(e,i)&&m$(a,o)&&m$(n,s)){l.push(o,s);return}var f=2/u;var h=f*f;var c=o-t;var v=s-e;var d=Math.sqrt(c*c+v*v);c/=d;v/=d;var p=r-t;var g=i-e;var y=a-o;var m=n-s;var _=p*p+g*g;var x=y*y+m*m;if(_<h&&x<h){l.push(o,s);return}var w=c*p+v*g;var b=-c*y-v*m;var S=_-w*w;var M=x-b*b;if(S<h&&w>=0&&M<h&&b>=0){l.push(o,s);return}var I=[];var T=[];Ur(t,r,a,o,.5,I);Ur(e,i,n,s,.5,T);x$(I[0],T[0],I[1],T[1],I[2],T[2],I[3],T[3],l,u);x$(I[4],T[4],I[5],T[5],I[6],T[6],I[7],T[7],l,u)}function w$(t,e){var r=_$(t);var i=[];e=e||1;for(var a=0;a<r.length;a++){var n=r[a];var o=[];var s=n[0];var l=n[1];o.push(s,l);for(var u=2;u<n.length;){var f=n[u++];var h=n[u++];var c=n[u++];var v=n[u++];var d=n[u++];var p=n[u++];x$(s,l,f,h,c,v,d,p,o,e);s=d;l=p}i.push(o)}return i}function b$(t,e,r){var i=t[e];var a=t[1-e];var n=Math.abs(i/a);var o=Math.ceil(Math.sqrt(n*r));var s=Math.floor(r/o);if(s===0){s=1;o=r}var l=[];for(var u=0;u<o;u++){l.push(s)}var f=o*s;var h=r-f;if(h>0){for(var u=0;u<h;u++){l[u%o]+=1}}return l}function S$(t,e,r){var i=t.r0;var a=t.r;var n=t.startAngle;var o=t.endAngle;var s=Math.abs(o-n);var l=s*a;var u=a-i;var f=l>Math.abs(u);var h=b$([l,u],f?0:1,e);var c=(f?s:u)/h.length;for(var v=0;v<h.length;v++){var d=(f?u:s)/h[v];for(var p=0;p<h[v];p++){var g={};if(f){g.startAngle=n+c*v;g.endAngle=n+c*(v+1);g.r0=i+d*p;g.r=i+d*(p+1)}else{g.startAngle=n+d*p;g.endAngle=n+d*(p+1);g.r0=i+c*v;g.r=i+c*(v+1)}g.clockwise=t.clockwise;g.cx=t.cx;g.cy=t.cy;r.push(g)}}}function M$(t,e,r){var i=t.width;var a=t.height;var n=i>a;var o=b$([i,a],n?0:1,e);var s=n?"width":"height";var l=n?"height":"width";var u=n?"x":"y";var f=n?"y":"x";var h=t[s]/o.length;for(var c=0;c<o.length;c++){var v=t[l]/o[c];for(var d=0;d<o[c];d++){var p={};p[u]=c*h;p[f]=d*v;p[s]=h;p[l]=v;p.x+=t.x;p.y+=t.y;r.push(p)}}}function I$(t,e,r,i){return t*i-r*e}function T$(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var c=I$(f,h,l,u);if(Math.abs(c)<1e-6){return null}var v=t-a;var d=e-n;var p=I$(v,d,f,h)/c;if(p<0||p>1){return null}return new He(p*l+t,p*u+e)}function D$(t,e,r){var i=new He;He.sub(i,r,e);i.normalize();var a=new He;He.sub(a,t,e);var n=a.dot(i);return n}function C$(t,e){var r=t[t.length-1];if(r&&r[0]===e[0]&&r[1]===e[1]){return}t.push(e)}function A$(t,e,r){var i=t.length;var a=[];for(var n=0;n<i;n++){var o=t[n];var s=t[(n+1)%i];var l=T$(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);if(l){a.push({projPt:D$(l,e,r),pt:l,idx:n})}}if(a.length<2){return[{points:t},{points:t}]}a.sort((function(t,e){return t.projPt-e.projPt}));var u=a[0];var f=a[a.length-1];if(f.idx<u.idx){var h=u;u=f;f=h}var c=[u.pt.x,u.pt.y];var v=[f.pt.x,f.pt.y];var d=[c];var p=[v];for(var n=u.idx+1;n<=f.idx;n++){C$(d,t[n].slice())}C$(d,v);C$(d,c);for(var n=f.idx+1;n<=u.idx+i;n++){C$(p,t[n%i].slice())}C$(p,c);C$(p,v);return[{points:d},{points:p}]}function k$(t){var e=t.points;var r=[];var i=[];Js(e,r,i);var a=new Je(r[0],r[1],i[0]-r[0],i[1]-r[1]);var n=a.width;var o=a.height;var s=a.x;var l=a.y;var u=new He;var f=new He;if(n>o){u.x=f.x=s+n/2;u.y=l;f.y=l+o}else{u.y=f.y=l+o/2;u.x=s;f.x=s+n}return A$(e,u,f)}function L$(t,e,r,i){if(r===1){i.push(e)}else{var a=Math.floor(r/2);var n=t(e);L$(t,n[0],a,i);L$(t,n[1],r-a,i)}return i}function P$(t,e){var r=[];for(var i=0;i<e;i++){r.push(hh(t))}return r}function O$(t,e){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel}function N$(t){var e=[];for(var r=0;r<t.length;){e.push([t[r++],t[r++]])}return e}function R$(t,e){var r=[];var i=t.shape;var a;switch(t.type){case"rect":M$(i,e,r);a=lu;break;case"sector":S$(i,e,r);a=Ph;break;case"circle":S$({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,r);a=Ph;break;default:var n=t.getComputedTransform();var o=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1;var s=Z(w$(t.getUpdatedPathProxy(),o),(function(t){return N$(t)}));var l=s.length;if(l===0){L$(k$,{points:s[0]},e,r)}else if(l===e){for(var u=0;u<l;u++){r.push({points:s[u]})}}else{var f=0;var h=Z(s,(function(t){var e=[];var r=[];Js(t,e,r);var i=(r[1]-e[1])*(r[0]-e[0]);f+=i;return{poly:t,area:i}}));h.sort((function(t,e){return e.area-t.area}));var c=e;for(var u=0;u<l;u++){var v=h[u];if(c<=0){break}var d=u===l-1?c:Math.ceil(v.area/f*e);if(d<0){continue}L$(k$,{points:v.poly},d,r);c-=d}}a=Vh;break}if(!a){return P$(t,e)}var p=[];for(var u=0;u<r.length;u++){var g=new a;g.setShape(r[u]);O$(t,g);p.push(g)}return p}function E$(t,e){var r=t.length;var i=e.length;if(r===i){return[t,e]}var a=[];var n=[];var o=r<i?t:e;var s=Math.min(r,i);var l=Math.abs(i-r)/6;var u=(s-2)/6;var f=Math.ceil(l/u)+1;var h=[o[0],o[1]];var c=l;for(var v=2;v<s;){var d=o[v-2];var p=o[v-1];var g=o[v++];var y=o[v++];var m=o[v++];var _=o[v++];var x=o[v++];var w=o[v++];if(c<=0){h.push(g,y,m,_,x,w);continue}var b=Math.min(c,f-1)+1;for(var S=1;S<=b;S++){var M=S/b;Ur(d,g,m,x,M,a);Ur(p,y,_,w,M,n);d=a[3];p=n[3];h.push(a[1],n[1],a[2],n[2],d,p);g=a[5];y=n[5];m=a[6];_=n[6]}c-=b-1}return o===t?[h,e]:[t,h]}function z$(t,e){var r=t.length;var i=t[r-2];var a=t[r-1];var n=[];for(var o=0;o<e.length;){n[o++]=i;n[o++]=a}return n}function V$(t,e){var r;var i;var a;var n=[];var o=[];for(var s=0;s<Math.max(t.length,e.length);s++){var l=t[s];var u=e[s];var f=void 0;var h=void 0;if(!l){f=z$(i||u,u);h=u}else if(!u){h=z$(a||l,l);f=l}else{r=E$(l,u),f=r[0],h=r[1];i=f;a=h}n.push(f);o.push(h)}return[n,o]}function B$(t){var e=0;var r=0;var i=0;var a=t.length;for(var n=0,o=a-2;n<a;o=n,n+=2){var s=t[o];var l=t[o+1];var u=t[n];var f=t[n+1];var h=s*f-u*l;e+=h;r+=(s+u)*h;i+=(l+f)*h}if(e===0){return[t[0]||0,t[1]||0]}return[r/e/3,i/e/3,e]}function F$(t,e,r,i){var a=(t.length-2)/6;var n=Infinity;var o=0;var s=t.length;var l=s-2;for(var u=0;u<a;u++){var f=u*6;var h=0;for(var c=0;c<s;c+=2){var v=c===0?f:(f+c-2)%l+2;var d=t[v]-r[0];var p=t[v+1]-r[1];var g=e[c]-i[0];var y=e[c+1]-i[1];var m=g-d;var _=y-p;h+=m*m+_*_}if(h<n){n=h;o=u}}return o}function G$(t){var e=[];var r=t.length;for(var i=0;i<r;i+=2){e[i]=t[r-i-2];e[i+1]=t[r-i-1]}return e}function W$(t,e,r,i){var a=[];var n;for(var o=0;o<t.length;o++){var s=t[o];var l=e[o];var u=B$(s);var f=B$(l);if(n==null){n=u[2]<0!==f[2]<0}var h=[];var c=[];var v=0;var d=Infinity;var p=[];var g=s.length;if(n){s=G$(s)}var y=F$(s,l,u,f)*6;var m=g-2;for(var _=0;_<m;_+=2){var x=(y+_)%m+2;h[_+2]=s[x]-u[0];h[_+3]=s[x+1]-u[1]}h[0]=s[y]-u[0];h[1]=s[y+1]-u[1];if(r>0){var w=i/r;for(var b=-i/2;b<=i/2;b+=w){var S=Math.sin(b);var M=Math.cos(b);var I=0;for(var _=0;_<s.length;_+=2){var T=h[_];var D=h[_+1];var C=l[_]-f[0];var A=l[_+1]-f[1];var k=C*M-A*S;var L=C*S+A*M;p[_]=k;p[_+1]=L;var P=k-T;var O=L-D;I+=P*P+O*O}if(I<d){d=I;v=b;for(var N=0;N<p.length;N++){c[N]=p[N]}}}}else{for(var R=0;R<g;R+=2){c[R]=l[R]-f[0];c[R+1]=l[R+1]-f[1]}}a.push({from:h,to:c,fromCp:u,toCp:f,rotation:-v})}return a}function H$(t){return t.__isCombineMorphing}var Y$="__mOriginal_";function U$(t,e,r){var i=Y$+e;var a=t[i]||t[e];if(!t[i]){t[i]=t[e]}var n=r.replace;var o=r.after;var s=r.before;t[e]=function(){var t=arguments;var e;s&&s.apply(this,t);if(n){e=n.apply(this,t)}else{e=a.apply(this,t)}o&&o.apply(this,t);return e}}function X$(t,e){var r=Y$+e;if(t[r]){t[e]=t[r];t[r]=null}}function Z$(t,e){for(var r=0;r<t.length;r++){var i=t[r];for(var a=0;a<i.length;){var n=i[a];var o=i[a+1];i[a++]=e[0]*n+e[2]*o+e[4];i[a++]=e[1]*n+e[3]*o+e[5]}}}function j$(t,e){var r=t.getUpdatedPathProxy();var i=e.getUpdatedPathProxy();var a=V$(_$(r),_$(i)),n=a[0],o=a[1];var s=t.getComputedTransform();var l=e.getComputedTransform();function u(){this.transform=null}s&&Z$(n,s);l&&Z$(o,l);U$(e,"updateTransform",{replace:u});e.transform=null;var f=W$(n,o,10,Math.PI);var h=[];U$(e,"buildPath",{replace:function(t){var r=e.__morphT;var i=1-r;var a=[];for(var n=0;n<f.length;n++){var o=f[n];var s=o.from;var l=o.to;var u=o.rotation*r;var c=o.fromCp;var v=o.toCp;var d=Math.sin(u);var p=Math.cos(u);Jt(a,c,v,r);for(var g=0;g<s.length;g+=2){var y=s[g];var m=s[g+1];var _=l[g];var x=l[g+1];var w=y*i+_*r;var b=m*i+x*r;h[g]=w*p-b*d+a[0];h[g+1]=w*d+b*p+a[1]}var S=h[0];var M=h[1];t.moveTo(S,M);for(var g=2;g<s.length;){var _=h[g++];var x=h[g++];var I=h[g++];var T=h[g++];var D=h[g++];var C=h[g++];if(S===_&&M===x&&I===D&&T===C){t.lineTo(D,C)}else{t.bezierCurveTo(_,x,I,T,D,C)}S=D;M=C}}}})}function q$(t,e,r){if(!t||!e){return e}var i=r.done;var a=r.during;j$(t,e);e.__morphT=0;function n(){X$(e,"buildPath");X$(e,"updateTransform");e.__morphT=-1;e.createPathProxy();e.dirtyShape()}e.animateTo({__morphT:1},G({during:function(t){e.dirtyShape();a&&a(t)},done:function(){n();i&&i()}},r));return e}function K$(t,e,r,i,a,n){var o=16;t=a===r?0:Math.round(32767*(t-r)/(a-r));e=n===i?0:Math.round(32767*(e-i)/(n-i));var s=0;var l;for(var u=(1<<o)/2;u>0;u/=2){var f=0;var h=0;if((t&u)>0){f=1}if((e&u)>0){h=1}s+=u*u*(3*f^h);if(h===0){if(f===1){t=u-1-t;e=u-1-e}l=t;t=e;e=l}}return s}function $$(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;var n=Z(t,(function(t){var n=t.getBoundingRect();var o=t.getComputedTransform();var s=n.x+n.width/2+(o?o[4]:0);var l=n.y+n.height/2+(o?o[5]:0);e=Math.min(s,e);r=Math.min(l,r);i=Math.max(s,i);a=Math.max(l,a);return[s,l]}));var o=Z(n,(function(n,o){return{cp:n,z:K$(n[0],n[1],e,r,i,a),path:t[o]}}));return o.sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function J$(t){return R$(t.path,t.count)}function Q$(){return{fromIndividuals:[],toIndividuals:[],count:0}}function tJ(t,e,r){var i=[];function a(t){for(var e=0;e<t.length;e++){var r=t[e];if(H$(r)){a(r.childrenRef())}else if(r instanceof jl){i.push(r)}}}a(t);var n=i.length;if(!n){return Q$()}var o=r.dividePath||J$;var s=o({path:e,count:n});if(s.length!==n){console.error("Invalid morphing: unmatched splitted path");return Q$()}i=$$(i);s=$$(s);var l=r.done;var u=r.during;var f=r.individualDelay;var h=new tn;for(var c=0;c<n;c++){var v=i[c];var d=s[c];d.parent=e;d.copyTransform(h);if(!f){j$(v,d)}}e.__isCombineMorphing=true;e.childrenRef=function(){return s};function p(t){for(var e=0;e<s.length;e++){s[e].addSelfToZr(t)}}U$(e,"addSelfToZr",{after:function(t){p(t)}});U$(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++){s[e].removeSelfFromZr(t)}}});function g(){e.__isCombineMorphing=false;e.__morphT=-1;e.childrenRef=null;X$(e,"addSelfToZr");X$(e,"removeSelfFromZr")}var y=s.length;if(f){var m=y;var _=function(){m--;if(m===0){g();l&&l()}};for(var c=0;c<y;c++){var x=f?G({delay:(r.delay||0)+f(c,y,i[c],s[c]),done:_},r):r;q$(i[c],s[c],x)}}else{e.__morphT=0;e.animateTo({__morphT:1},G({during:function(t){for(var r=0;r<y;r++){var i=s[r];i.__morphT=e.__morphT;i.dirtyShape()}u&&u(t)},done:function(){g();for(var e=0;e<t.length;e++){X$(t[e],"updateTransform")}l&&l()}},r))}if(e.__zr){p(e.__zr)}return{fromIndividuals:i,toIndividuals:s,count:y}}function eJ(t,e,r){var i=e.length;var a=[];var n=r.dividePath||J$;function o(t){for(var e=0;e<t.length;e++){var r=t[e];if(H$(r)){o(r.childrenRef())}else if(r instanceof jl){a.push(r)}}}if(H$(t)){o(t.childrenRef());var s=a.length;if(s<i){var l=0;for(var u=s;u<i;u++){a.push(hh(a[l++%s]))}}a.length=i}else{a=n({path:t,count:i});var f=t.getComputedTransform();for(var u=0;u<a.length;u++){a[u].setLocalTransform(f)}if(a.length!==i){console.error("Invalid morphing: unmatched splitted path");return Q$()}}a=$$(a);e=$$(e);var h=r.individualDelay;for(var u=0;u<i;u++){var c=h?G({delay:(r.delay||0)+h(u,i,a[u],e[u])},r):r;q$(a[u],e[u],c)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function rJ(t){return et(t[0])}function iJ(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){r.push({one:t[a],many:[]})}for(var a=0;a<e.length;a++){var n=e[a].length;var o=void 0;for(o=0;o<n;o++){r[o%i].many.push(e[a][o])}}var s=0;for(var a=i-1;a>=0;a--){if(!r[a].many.length){var l=r[s].many;if(l.length<=1){if(s){s=0}else{return r}}var n=l.length;var u=Math.ceil(n/2);r[a].many=l.slice(u,n);r[s].many=l.slice(0,u);s++}}return r}var aJ={clone:function(t){var e=[];var r=1-Math.pow(1-t.path.style.opacity,1/t.count);for(var i=0;i<t.count;i++){var a=hh(t.path);a.setStyle("opacity",r);e.push(a)}return e},split:null};function nJ(t,e,r,i,a,n){if(!t.length||!e.length){return}var o=lc("update",i,a);if(!(o&&o.duration>0)){return}var s=i.getModel("universalTransition").get("delay");var l=Object.assign({setToFinal:true},o);var u;var f;if(rJ(t)){u=t;f=e}if(rJ(e)){u=e;f=t}function h(t,e,i,a,o){var u=t.many;var f=t.one;if(u.length===1&&!o){var c=e?u[0]:f;var v=e?f:u[0];if(H$(c)){h({many:[c],one:v},true,i,a,true)}else{var d=s?G({delay:s(i,a)},l):l;q$(c,v,d);n(c,v,c,v,d)}}else{var p=G({dividePath:aJ[r],individualDelay:s&&function(t,e,r,n){return s(t+i,a)}},l);var g=e?tJ(u,f,p):eJ(f,u,p),y=g.fromIndividuals,m=g.toIndividuals;var _=y.length;for(var x=0;x<_;x++){var d=s?G({delay:s(x,_)},l):l;n(y[x],m[x],e?u[x]:t.one,e?t.one:u[x],d)}}}var c=u?u===t:t.length>e.length;var v=u?iJ(f,u):iJ(c?e:t,[c?t:e]);var d=0;for(var p=0;p<v.length;p++){d+=v[p].many.length}var g=0;for(var p=0;p<v.length;p++){h(v[p],c,g,d);g+=v[p].many.length}}function oJ(t){if(!t){return[]}if(et(t)){var e=[];for(var r=0;r<t.length;r++){e.push(oJ(t[r]))}return e}var i=[];t.traverse((function(t){if(t instanceof jl&&!t.disableMorphing&&!t.invisible&&!t.ignore){i.push(t)}}));return i}var sJ=1e4;var lJ=Bo();function uJ(t){var e=t.dimensions;for(var r=0;r<e.length;r++){var i=t.getDimensionInfo(e[r]);if(i&&i.otherDims.itemGroupId===0){return e[r]}}}function fJ(t){var e=[];X(t,(function(t){var r=t.data;if(r.count()>sJ){return}var i=r.getIndices();var a=uJ(r);for(var n=0;n<i.length;n++){e.push({dataGroupId:t.dataGroupId,data:r,dim:t.dim||a,divide:t.divide,dataIndex:n})}}));return e}function hJ(t,e,r){t.traverse((function(t){if(t instanceof jl){hc(t,{style:{opacity:0}},e,{dataIndex:r,isFrom:true})}}))}function cJ(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e);t.parent.remove(t)}}function vJ(t){t.stopAnimation();if(t.isGroup){t.traverse((function(t){t.stopAnimation()}))}}function dJ(t,e,r){var i=lc("update",r,e);i&&t.traverse((function(t){if(t instanceof Fs){var e=yc(t);if(e){t.animateFrom({style:e},i)}}}))}function pJ(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){var a=t[i];var n=e[i];if(a.data.getId(a.dataIndex)!==n.data.getId(n.dataIndex)){return false}}return true}function gJ(t,e,r){var i=fJ(t);var a=fJ(e);function n(t,e,r,i,a){if(r||t){e.animateFrom({style:r&&r!==t?F(F({},r.style),t.style):t.style},a)}}function o(t){for(var e=0;e<t.length;e++){if(t[e].dim){return t[e].dim}}}var s=o(i);var l=o(a);var u=false;function f(t,e){return function(r){var i=r.data;var a=r.dataIndex;if(e){return i.getId(a)}var n=r.dataGroupId;var o=t?s||l:l||s;var u=o&&i.getDimensionInfo(o);var f=u&&u.ordinalMeta;if(u){var h=i.get(u.name,a);if(f){return f.categories[h]||h+""}return h+""}var c=i.getRawDataItem(a);if(c&&c.groupId){return c.groupId+""}return n||i.getId(a)}}var h=pJ(i,a);var c={};if(!h){for(var v=0;v<a.length;v++){var d=a[v];var p=d.data.getItemGraphicEl(d.dataIndex);if(p){c[p.id]=true}}}function g(t,e){var r=i[e];var o=a[t];var s=o.data.hostModel;var l=r.data.getItemGraphicEl(r.dataIndex);var f=o.data.getItemGraphicEl(o.dataIndex);if(l===f){f&&dJ(f,o.dataIndex,s);return}if(l&&c[l.id]){return}if(f){vJ(f);if(l){vJ(l);cJ(l);u=true;nJ(oJ(l),oJ(f),o.divide,s,t,n)}else{hJ(f,s,t)}}}new fb(i,a,f(true,h),f(false,h),null,"multiple").update(g).updateManyToOne((function(t,e){var r=a[t];var o=r.data;var s=o.hostModel;var l=o.getItemGraphicEl(r.dataIndex);var f=q(Z(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==l&&!c[t.id]}));if(l){vJ(l);if(f.length){X(f,(function(t){vJ(t);cJ(t)}));u=true;nJ(oJ(f),oJ(l),r.divide,s,t,n)}else{hJ(l,s,r.dataIndex)}}})).updateOneToMany((function(t,e){var r=i[e];var o=r.data.getItemGraphicEl(r.dataIndex);if(o&&c[o.id]){return}var s=q(Z(t,(function(t){return a[t].data.getItemGraphicEl(a[t].dataIndex)})),(function(t){return t&&t!==o}));var l=a[t[0]].data.hostModel;if(s.length){X(s,(function(t){return vJ(t)}));if(o){vJ(o);cJ(o);u=true;nJ(oJ(o),oJ(s),r.divide,l,t[0],n)}else{X(s,(function(e){return hJ(e,l,t[0])}))}}})).updateManyToMany((function(t,e){new fb(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return a[t].data.getId(a[t].dataIndex)})).update((function(r,i){g(t[r],e[i])})).execute()})).execute();if(u){X(e,(function(t){var e=t.data;var i=e.hostModel;var a=i&&r.getViewOfSeriesModel(i);var n=lc("update",i,0);if(a&&i.isAnimationEnabled()&&n&&n.duration>0){a.group.traverse((function(t){if(t instanceof jl&&!t.animators.length){t.animateFrom({style:{opacity:0}},n)}}))}}))}}function yJ(t){var e=t.getModel("universalTransition").get("seriesKey");if(!e){return t.id}return e}function mJ(t){if(et(t)){return t.sort().join(",")}return t}function _J(t){if(t.hostModel){return t.hostModel.getModel("universalTransition").get("divideShape")}}function xJ(t,e){var r=Ct();var i=Ct();var a=Ct();X(t.oldSeries,(function(e,r){var n=t.oldDataGroupIds[r];var o=t.oldData[r];var s=yJ(e);var l=mJ(s);i.set(l,{dataGroupId:n,data:o});if(et(s)){X(s,(function(t){a.set(t,{key:l,dataGroupId:n,data:o})}))}}));X(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId");var n=t.getData();var o=yJ(t);var s=mJ(o);var l=i.get(s);if(l){r.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:_J(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:_J(n),data:n}]})}else{if(et(o)){var u=[];X(o,(function(t){var e=i.get(t);if(e.data){u.push({dataGroupId:e.dataGroupId,divide:_J(e.data),data:e.data})}}));if(u.length){r.set(s,{oldSeries:u,newSeries:[{dataGroupId:e,data:n,divide:_J(n)}]})}}else{var f=a.get(o);if(f){var h=r.get(f.key);if(!h){h={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:_J(f.data)}],newSeries:[]};r.set(f.key,h)}h.newSeries.push({dataGroupId:e,data:n,divide:_J(n)})}}}}}));return r}function wJ(t,e){for(var r=0;r<t.length;r++){var i=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(i){return r}}}function bJ(t,e,r,i){var a=[];var n=[];X(yo(t.from),(function(t){var r=wJ(e.oldSeries,t);if(r>=0){a.push({dataGroupId:e.oldDataGroupIds[r],data:e.oldData[r],divide:_J(e.oldData[r]),dim:t.dimension})}}));X(yo(t.to),(function(t){var i=wJ(r.updatedSeries,t);if(i>=0){var a=r.updatedSeries[i].getData();n.push({dataGroupId:e.oldDataGroupIds[i],data:a,divide:_J(a),dim:t.dimension})}}));if(a.length>0&&n.length>0){gJ(a,n,i)}}function SJ(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,r){X(yo(r.seriesTransition),(function(t){X(yo(t.to),(function(t){var e=r.updatedSeries;for(var i=0;i<e.length;i++){if(t.seriesIndex!=null&&t.seriesIndex===e[i].seriesIndex||t.seriesId!=null&&t.seriesId===e[i].id){e[i][am]=true}}}))}))}));t.registerUpdateLifecycle("series:transition",(function(t,e,r){var i=lJ(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a){X(yo(a),(function(t){bJ(t,i,r,e)}))}else{var n=xJ(i,r);X(n.keys(),(function(t){var r=n.get(t);gJ(r.oldSeries,r.newSeries,e)}))}X(r.updatedSeries,(function(t){if(t[am]){t[am]=false}}))}var o=t.getSeries();var s=i.oldSeries=[];var l=i.oldDataGroupIds=[];var u=i.oldData=[];for(var f=0;f<o.length;f++){var h=o[f].getData();if(h.count()<sJ){s.push(o[f]);l.push(o[f].get("dataGroupId"));u.push(h)}}}))}sb([SD]);sb([vD]);sb([mC,$C,mA,Nk,qk,VP,PO,rR,pE,bE,LE,IV,eB,yB,GB,XB,sF,pF,HF,$F,vG,WW]);sb(EH);sb(_Y);sb(zP);sb(BY);sb(MV);sb(XY);sb(fU);sb(NX);sb(cZ);sb(RH);sb(HZ);sb(XZ);sb(fj);sb(Pj);sb(Wj);sb(Qj);sb(Mq);sb(eK);sb(Bq);sb(tK);sb(YK);sb(VK);sb(HK);sb(KK);sb(v$);sb(g$);sb(SJ);sb(GI);var MJ=t("chart_adapter",function(){function t(t){r(this,t)}t.prototype.watchHandlerComData=function(t){this.chartObj.resize({width:t.w,height:t.h})};t.prototype.watchHandlerData=function(t,e){if(JSON.stringify(t)!==JSON.stringify(e)){this.initChart()}};t.prototype.watchHandlerConfig=function(t,e){if(JSON.stringify(t)!==JSON.stringify(e)){this.initChart()}};t.prototype.componentDidLoad=function(){this.initChart()};t.prototype.getSeriesData=function(t,e){if(e=="pie"){return{name:t.x,value:t.y}}else{return t.y}};t.prototype.initChart=function(){var t=this;this.chartObj&&this.chartObj.dispose();this.chartObj=Ww(this.el.querySelector("#chartId"),"",{width:this.comDataView.w,height:this.comDataView.h});var e=Object.assign(Object.assign({},this.comDataConfig),{legend:Object.assign(Object.assign({},this.comDataConfig.legend),{data:this.comDataConfig.series.map((function(t,e){return t.name||""+(e+1)}))}),series:this.comDataConfig.series.map((function(e,r){return Object.assign(Object.assign({},e),{name:e.name||""+(r+1),data:t.dataSource.filter((function(t){if(r==0&&!t.s){return true}else{return t.s==r+1}})).map((function(r){return t.getSeriesData(r,e.type)}))})}))});if(e["xAxis"]){e["xAxis"]=Object.assign(Object.assign({},this.comDataConfig.xAxis),{data:__spreadArrays(new Set(this.dataSource.map((function(t){return t.x}))))})}this.chartObj.setOption(e)};t.prototype.render=function(){return i("div",{id:"chartId"})};Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{comDataView:["watchHandlerComData"],dataSource:["watchHandlerData"],comDataConfig:["watchHandlerConfig"]}},enumerable:true,configurable:true});return t}());var IJ=t("cy_lazy_img",function(){function t(t){r(this,t);this.src="";this.alt="";this.defaultImg="";this.isLazy=true}t.prototype.componentDidLoad=function(){if(this.isLazy){this.addIntersectionObserver()}else{this.handleImage()}};t.prototype.handleSrcChange=function(t,e){var r=this.el.shadowRoot.querySelector("img");if(t!==e){if(this.isLazy){this.addIntersectionObserver()}else{r.setAttribute("src",this.src)}}};t.prototype.handleImage=function(){var t=this;var e=this.el.shadowRoot.querySelector("img");e.setAttribute("src",this.src);e.onerror=function(){t.handleImageError()}};t.prototype.handleImageError=function(){var t=this.el.shadowRoot.querySelector("img");t.onerror=null;t.setAttribute("src",this.defaultImg)};t.prototype.addIntersectionObserver=function(){var t=this;if(!this.src){if(this.defaultImg){var e=this.el.shadowRoot.querySelector("img");e.setAttribute("src",this.defaultImg)}return}if("IntersectionObserver"in window){this.io=new IntersectionObserver((function(e){if(e[0].isIntersecting){t.handleImage();t.removeIntersectionObserver()}}));this.io.observe(this.el.shadowRoot.querySelector("img"))}else{setTimeout((function(){t.handleImage()}),300)}};t.prototype.removeIntersectionObserver=function(){if(this.io){this.io.disconnect();this.io=null}};t.prototype.render=function(){return i("img",{alt:this.alt})};Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{src:["handleSrcChange"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--border-radius:0px;font-size:0;display:block}:host,img{position:relative}img{max-width:100%;width:100%;height:100%;border-radius:var(--border-radius)}"},enumerable:true,configurable:true});return t}());var TJ=t("cy_table",function(){function t(t){r(this,t);this.option={orderOption:{show:false}};this.timeNum=0}t.prototype.watchHandler=function(t,e){if(JSON.stringify(t)!==JSON.stringify(e)){this.initTableByOption()}};t.prototype.componentWillLoad=function(){this.initTableByOption()};t.prototype.initTableByOption=function(){var t=this;this.timeNum=0;this.timerId&&clearInterval(this.timerId);if(this.option.tableAllOption&&this.option.tableAllOption.rowNum){var e=parseInt(this.el.closest("cy-draggable").style.height);this.tableHeaderHeight=e*((this.option.headerHeight||10)/100);this.tableRowHeight=(e-this.tableHeaderHeight)/this.option.tableAllOption.rowNum}if(this.option.tableAllOption&&this.option.tableAllOption.isScroll){this.timerId=setInterval((function(){t.timeNum++}),this.option.tableAllOption&&this.option.tableAllOption.intervalSecond>=1&&this.option.tableAllOption.intervalSecond*1e3||3e3)}};t.prototype.render=function(){var t=this;return i("div",{class:"table"},i("div",{class:"table-header"},i("table",null,i("colgroup",null,this.option.orderOption&&this.option.orderOption.show?i("col",{style:{width:this.option.orderOption&&this.option.orderOption.width+"%"}}):null,this.Columns.map((function(t){return i("col",{style:{width:t.width&&t.width+"%"}})}))),i("thead",null,i("tr",{style:{height:this.tableHeaderHeight+"px","z-index":"2"}},this.option.orderOption&&this.option.orderOption.show?i("th",null):null,this.Columns.map((function(t){return i("th",null,t.title)})))))),i("div",{class:"table-body"},i("table",null,i("colgroup",null,this.option.orderOption&&this.option.orderOption.show?i("col",{style:{width:this.option.orderOption&&this.option.orderOption.width+"%"}}):null,this.Columns.map((function(t){return i("col",{style:{width:t.width&&t.width+"%"}})}))),i("tbody",{style:{transform:this.tableRowHeight&&this.option.tableAllOption&&this.option.tableAllOption.isScroll&&this.option.tableAllOption.rowNum&&"matrix(1, 0, 0, 1, 0, "+-1*(this.timeNum%(this.dataSource.length+1-parseInt(this.option.tableAllOption.rowNum+"")))*this.tableRowHeight+")"}},this.dataSource.map((function(e,r){return i("tr",{style:{height:t.tableRowHeight+"px"},key:e.key||""},t.option.orderOption&&t.option.orderOption.show?i("td",null,r+1):null,t.Columns.map((function(t){if(t.render){return i("td",null,t.render(e,r))}else{return i("td",null,e[t.dataIndex]||"")}})))}))))))};Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{option:["watchHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--header-bg:transparent;--odd-bg:transparent;--even-bg:transparent;--color:#000;--font-size:inherit;width:100%}.table{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;overflow:hidden}.table-body{-ms-flex:1;flex:1}.table-body,.table-header{overflow:hidden}table{width:100%;height:100%;color:var(--color);font-size:var(--font-size);table-layout:fixed;border-spacing:0}thead tr{background:var(--header-bg)!important;z-index:2}tbody{overflow:hidden;-webkit-transition:-webkit-transform 1s;transition:-webkit-transform 1s;transition:transform 1s;transition:transform 1s,-webkit-transform 1s}tbody tr{z-index:1}tbody tr:nth-child(odd){background-color:var(--odd-bg)}tbody tr:nth-child(2n){background-color:var(--even-bg)}td,th{line-height:1.5;padding:.5em 0}"},enumerable:true,configurable:true});return t}());var DJ=t("ion_slide",function(){function t(t){r(this,t)}t.prototype.render=function(){var t;var e=n(this);return i(o,{class:(t={},t[e]=true,t["swiper-slide"]=true,t["swiper-zoom-container"]=true,t)})};Object.defineProperty(t,"style",{get:function(){return"ion-slide{height:100%}.slide-zoom,ion-slide{display:block;width:100%}.slide-zoom,.swiper-slide{text-align:center}.swiper-slide{display:-ms-flexbox;display:flex;position:relative;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;font-size:18px;-webkit-box-sizing:border-box;box-sizing:border-box}.swiper-slide img{width:auto;max-width:100%;height:auto;max-height:100%}"},enumerable:true,configurable:true});return t}());var CJ=t("ion_slides",function(){function t(t){var e=this;r(this,t);this.swiperReady=false;this.swiper=new Promise((function(t){e.readySwiper=t}));this.options={};this.pager=false;this.scrollbar=false;this.ionSlidesDidLoad=s(this,"ionSlidesDidLoad",7);this.ionSlideTap=s(this,"ionSlideTap",7);this.ionSlideDoubleTap=s(this,"ionSlideDoubleTap",7);this.ionSlideWillChange=s(this,"ionSlideWillChange",7);this.ionSlideDidChange=s(this,"ionSlideDidChange",7);this.ionSlideNextStart=s(this,"ionSlideNextStart",7);this.ionSlidePrevStart=s(this,"ionSlidePrevStart",7);this.ionSlideNextEnd=s(this,"ionSlideNextEnd",7);this.ionSlidePrevEnd=s(this,"ionSlidePrevEnd",7);this.ionSlideTransitionStart=s(this,"ionSlideTransitionStart",7);this.ionSlideTransitionEnd=s(this,"ionSlideTransitionEnd",7);this.ionSlideDrag=s(this,"ionSlideDrag",7);this.ionSlideReachStart=s(this,"ionSlideReachStart",7);this.ionSlideReachEnd=s(this,"ionSlideReachEnd",7);this.ionSlideTouchStart=s(this,"ionSlideTouchStart",7);this.ionSlideTouchEnd=s(this,"ionSlideTouchEnd",7)}t.prototype.optionsChanged=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:if(!this.swiperReady)return[3,3];return[4,this.getSwiper()];case 1:t=e.sent();Object.assign(t.params,this.options);return[4,this.update()];case 2:e.sent();e.label=3;case 3:return[2]}}))}))};t.prototype.connectedCallback=function(){var t=this;var e=this.mutationO=new MutationObserver((function(){if(t.swiperReady){t.update()}}));e.observe(this.el,{childList:true,subtree:true});this.el.componentOnReady().then((function(){return t.initSwiper()}))};t.prototype.disconnectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var t;var e=this;return __generator(this,(function(r){switch(r.label){case 0:if(this.mutationO){this.mutationO.disconnect();this.mutationO=undefined}return[4,this.getSwiper()];case 1:t=r.sent();t.destroy(true,true);this.swiper=new Promise((function(t){e.readySwiper=t}));this.swiperReady=false;return[2]}}))}))};t.prototype.update=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.getSwiper(),AJ(this.el)])];case 1:t=e.sent()[0];t.update();return[2]}}))}))};t.prototype.updateAutoHeight=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getSwiper()];case 1:e=r.sent();e.updateAutoHeight(t);return[2]}}))}))};t.prototype.slideTo=function(t,e,r){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(a){switch(a.label){case 0:return[4,this.getSwiper()];case 1:i=a.sent();i.slideTo(t,e,r);return[2]}}))}))};t.prototype.slideNext=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.getSwiper()];case 1:r=i.sent();r.slideNext(t,e);return[2]}}))}))};t.prototype.slidePrev=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.getSwiper()];case 1:r=i.sent();r.slidePrev(t,e);return[2]}}))}))};t.prototype.getActiveIndex=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();return[2,t.activeIndex]}}))}))};t.prototype.getPreviousIndex=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();return[2,t.previousIndex]}}))}))};t.prototype.length=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();return[2,t.slides.length]}}))}))};t.prototype.isEnd=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();return[2,t.isEnd]}}))}))};t.prototype.isBeginning=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();return[2,t.isBeginning]}}))}))};t.prototype.startAutoplay=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();if(t.autoplay){t.autoplay.start()}return[2]}}))}))};t.prototype.stopAutoplay=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getSwiper()];case 1:t=e.sent();if(t.autoplay){t.autoplay.stop()}return[2]}}))}))};t.prototype.lockSwipeToNext=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getSwiper()];case 1:e=r.sent();e.allowSlideNext=!t;return[2]}}))}))};t.prototype.lockSwipeToPrev=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getSwiper()];case 1:e=r.sent();e.allowSlidePrev=!t;return[2]}}))}))};t.prototype.lockSwipes=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getSwiper()];case 1:e=r.sent();e.allowSlideNext=!t;e.allowSlidePrev=!t;e.allowTouchMove=!t;return[2]}}))}))};t.prototype.getSwiper=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.swiper]}))}))};t.prototype.initSwiper=function(){return __awaiter(this,void 0,void 0,(function(){var t,r,i;return __generator(this,(function(a){switch(a.label){case 0:t=this.normalizeOptions();return[4,e.import("./p-67e2a000.system.js")];case 1:r=a.sent().Swiper;return[4,AJ(this.el)];case 2:a.sent();i=new r(this.el,t);this.swiperReady=true;this.readySwiper(i);return[2]}}))}))};t.prototype.normalizeOptions=function(){var t=this;var e={effect:undefined,direction:"horizontal",initialSlide:0,loop:false,parallax:false,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",autoplay:false,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:false,freeModeMinimumVelocity:.02,autoHeight:false,setWrapperSize:false,zoom:{maxRatio:3,minRatio:1,toggle:false},touchRatio:1,touchAngle:45,simulateTouch:true,touchStartPreventDefault:false,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,threshold:0,touchMoveStopPropagation:true,touchReleaseOnEdges:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,resistance:true,resistanceRatio:.85,watchSlidesProgress:false,watchSlidesVisibility:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,loopAdditionalSlides:0,noSwiping:true,runCallbacksOnInit:true,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flipEffect:{slideShadows:true,limitRotation:true},cubeEffect:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fadeEffect:{crossfade:false},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};if(this.pager){e.pagination={el:this.paginationEl,type:"bullets",clickable:false,hideOnClick:false}}if(this.scrollbar){e.scrollbar={el:this.scrollbarEl,hide:true}}var r={on:{init:function(){setTimeout((function(){t.ionSlidesDidLoad.emit()}),20)},slideChangeTransitionStart:this.ionSlideWillChange.emit,slideChangeTransitionEnd:this.ionSlideDidChange.emit,slideNextTransitionStart:this.ionSlideNextStart.emit,slidePrevTransitionStart:this.ionSlidePrevStart.emit,slideNextTransitionEnd:this.ionSlideNextEnd.emit,slidePrevTransitionEnd:this.ionSlidePrevEnd.emit,transitionStart:this.ionSlideTransitionStart.emit,transitionEnd:this.ionSlideTransitionEnd.emit,sliderMove:this.ionSlideDrag.emit,reachBeginning:this.ionSlideReachStart.emit,reachEnd:this.ionSlideReachEnd.emit,touchStart:this.ionSlideTouchStart.emit,touchEnd:this.ionSlideTouchEnd.emit,tap:this.ionSlideTap.emit,doubleTap:this.ionSlideDoubleTap.emit}};var i=!!this.options&&!!this.options.on?this.options.on:{};var a={on:Object.assign(Object.assign({},i),r.on)};return Object.assign(Object.assign(Object.assign({},e),this.options),a)};t.prototype.render=function(){var t;var e=this;var r=n(this);return i(o,{class:(t={},t[""+r]=true,t["slides-"+r]=true,t["swiper-container"]=true,t)},i("div",{class:"swiper-wrapper"},i("slot",null)),this.pager&&i("div",{class:"swiper-pagination",ref:function(t){return e.paginationEl=t}}),this.scrollbar&&i("div",{class:"swiper-scrollbar",ref:function(t){return e.scrollbarEl=t}}))};Object.defineProperty(t,"assetsDirs",{get:function(){return["swiper"]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{options:["optionsChanged"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".swiper-container{margin:0 auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-container-no-flexbox .swiper-slide{float:left}.swiper-container-vertical>.swiper-wrapper{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-box-sizing:content-box;box-sizing:content-box}.swiper-container-android .swiper-slide,.swiper-wrapper{-webkit-transform:translateZ(0);transform:translateZ(0)}.swiper-container-multirow>.swiper-wrapper{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.swiper-container-free-mode>.swiper-wrapper{-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out;margin:0 auto}.swiper-slide{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:100%;height:100%;position:relative;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform}.swiper-invisible-blank-slide{visibility:hidden}.swiper-container-autoheight,.swiper-container-autoheight .swiper-slide{height:auto}.swiper-container-autoheight .swiper-wrapper{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-transition-property:height,-webkit-transform;transition-property:height,-webkit-transform;-o-transition-property:transform,height;transition-property:transform,height;transition-property:transform,height,-webkit-transform}.swiper-container-3d{-webkit-perspective:1200px;perspective:1200px}.swiper-container-3d .swiper-cube-shadow,.swiper-container-3d .swiper-slide,.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top,.swiper-container-3d .swiper-wrapper{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.swiper-container-3d .swiper-slide-shadow-bottom,.swiper-container-3d .swiper-slide-shadow-left,.swiper-container-3d .swiper-slide-shadow-right,.swiper-container-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-container-3d .swiper-slide-shadow-left{background-image:-webkit-gradient(linear,right top,left top,from(rgba(0,0,0,.5)),to(transparent));background-image:-webkit-linear-gradient(right,rgba(0,0,0,.5),transparent);background-image:-o-linear-gradient(right,rgba(0,0,0,.5),transparent);background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-right{background-image:-webkit-gradient(linear,left top,right top,from(rgba(0,0,0,.5)),to(transparent));background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5),transparent);background-image:-o-linear-gradient(left,rgba(0,0,0,.5),transparent);background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-top{background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.5)),to(transparent));background-image:-webkit-linear-gradient(bottom,rgba(0,0,0,.5),transparent);background-image:-o-linear-gradient(bottom,rgba(0,0,0,.5),transparent);background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-container-3d .swiper-slide-shadow-bottom{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.5)),to(transparent));background-image:-webkit-linear-gradient(top,rgba(0,0,0,.5),transparent);background-image:-o-linear-gradient(top,rgba(0,0,0,.5),transparent);background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-container-wp8-horizontal,.swiper-container-wp8-horizontal>.swiper-wrapper{-ms-touch-action:pan-y;touch-action:pan-y}.swiper-container-wp8-vertical,.swiper-container-wp8-vertical>.swiper-wrapper{-ms-touch-action:pan-x;touch-action:pan-x}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:27px;height:44px;margin-top:-22px;z-index:10;cursor:pointer;background-size:27px 44px;background-position:50%;background-repeat:no-repeat}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev,.swiper-container-rtl .swiper-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M0%2C22L22%2C0l2.1%2C2.1L4.2%2C22l19.9%2C19.9L22%2C44L0%2C22L0%2C22L0%2C22z\'%20fill%3D\'%23007aff\'%2F%3E%3C%2Fsvg%3E\");left:10px;right:auto}.swiper-button-next,.swiper-container-rtl .swiper-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23007aff\'%2F%3E%3C%2Fsvg%3E\");right:10px;left:auto}.swiper-button-prev.swiper-button-white,.swiper-container-rtl .swiper-button-next.swiper-button-white{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M0%2C22L22%2C0l2.1%2C2.1L4.2%2C22l19.9%2C19.9L22%2C44L0%2C22L0%2C22L0%2C22z\'%20fill%3D\'%23ffffff\'%2F%3E%3C%2Fsvg%3E\")}.swiper-button-next.swiper-button-white,.swiper-container-rtl .swiper-button-prev.swiper-button-white{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23ffffff\'%2F%3E%3C%2Fsvg%3E\")}.swiper-button-prev.swiper-button-black,.swiper-container-rtl .swiper-button-next.swiper-button-black{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M0%2C22L22%2C0l2.1%2C2.1L4.2%2C22l19.9%2C19.9L22%2C44L0%2C22L0%2C22L0%2C22z\'%20fill%3D\'%23000000\'%2F%3E%3C%2Fsvg%3E\")}.swiper-button-next.swiper-button-black,.swiper-container-rtl .swiper-button-prev.swiper-button-black{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23000000\'%2F%3E%3C%2Fsvg%3E\")}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;-webkit-transition:opacity .3s;-o-transition:.3s opacity;transition:opacity .3s;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-container-horizontal>.swiper-pagination-bullets,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transform:scale(.33);-ms-transform:scale(.33);transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{-webkit-transform:scale(.66);-ms-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{-webkit-transform:scale(.33);-ms-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{-webkit-transform:scale(.66);-ms-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{-webkit-transform:scale(.33);-ms-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullet{width:8px;height:8px;display:inline-block;border-radius:100%;background:#000;opacity:.2}button.swiper-pagination-bullet{border:none;margin:0;padding:0;-webkit-box-shadow:none;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet-active{opacity:1;background:#007aff}.swiper-container-vertical>.swiper-pagination-bullets{right:10px;top:50%;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.swiper-container-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:6px 0;display:block}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:8px}.swiper-container-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;-webkit-transition:top .2s,-webkit-transform .2s;transition:top .2s,-webkit-transform .2s;-o-transition:.2s transform,.2s top;transition:transform .2s,top .2s;transition:transform .2s,top .2s,-webkit-transform .2s}.swiper-container-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 4px}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap}.swiper-container-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:left .2s,-webkit-transform .2s;transition:left .2s,-webkit-transform .2s;-o-transition:.2s transform,.2s left;transition:transform .2s,left .2s;transition:transform .2s,left .2s,-webkit-transform .2s}.swiper-container-horizontal.swiper-container-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:right .2s,-webkit-transform .2s;transition:right .2s,-webkit-transform .2s;-o-transition:.2s transform,.2s right;transition:transform .2s,right .2s;transition:transform .2s,right .2s,-webkit-transform .2s}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:#007aff;position:absolute;left:0;top:0;width:100%;height:100%;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top}.swiper-container-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{-webkit-transform-origin:right top;-ms-transform-origin:right top;transform-origin:right top}.swiper-container-horizontal>.swiper-pagination-progressbar,.swiper-container-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-container-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-container-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-white .swiper-pagination-bullet-active{background:#fff}.swiper-pagination-progressbar.swiper-pagination-white{background:hsla(0,0%,100%,.25)}.swiper-pagination-progressbar.swiper-pagination-white .swiper-pagination-progressbar-fill{background:#fff}.swiper-pagination-black .swiper-pagination-bullet-active{background:#000}.swiper-pagination-progressbar.swiper-pagination-black{background:rgba(0,0,0,.25)}.swiper-pagination-progressbar.swiper-pagination-black .swiper-pagination-progressbar-fill{background:#000}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-container-horizontal>.swiper-scrollbar{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-container-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center}.swiper-zoom-container>canvas,.swiper-zoom-container>img,.swiper-zoom-container>svg{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.swiper-slide-zoomed{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:swiper-preloader-spin 1s steps(12,end) infinite;animation:swiper-preloader-spin 1s steps(12,end) infinite}.swiper-lazy-preloader:after{display:block;content:\"\";width:100%;height:100%;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D\'0%200%20120%20120\'%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20xmlns%3Axlink%3D\'http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink\'%3E%3Cdefs%3E%3Cline%20id%3D\'l\'%20x1%3D\'60\'%20x2%3D\'60\'%20y1%3D\'7\'%20y2%3D\'27\'%20stroke%3D\'%236c6c6c\'%20stroke-width%3D\'11\'%20stroke-linecap%3D\'round\'%2F%3E%3C%2Fdefs%3E%3Cg%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(30%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(60%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(90%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(120%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(150%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.37\'%20transform%3D\'rotate(180%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.46\'%20transform%3D\'rotate(210%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.56\'%20transform%3D\'rotate(240%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.66\'%20transform%3D\'rotate(270%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.75\'%20transform%3D\'rotate(300%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.85\'%20transform%3D\'rotate(330%2060%2C60)\'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\");background-position:50%;background-size:100%;background-repeat:no-repeat}.swiper-lazy-preloader-white:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D\'0%200%20120%20120\'%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20xmlns%3Axlink%3D\'http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink\'%3E%3Cdefs%3E%3Cline%20id%3D\'l\'%20x1%3D\'60\'%20x2%3D\'60\'%20y1%3D\'7\'%20y2%3D\'27\'%20stroke%3D\'%23fff\'%20stroke-width%3D\'11\'%20stroke-linecap%3D\'round\'%2F%3E%3C%2Fdefs%3E%3Cg%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(30%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(60%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(90%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(120%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.27\'%20transform%3D\'rotate(150%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.37\'%20transform%3D\'rotate(180%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.46\'%20transform%3D\'rotate(210%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.56\'%20transform%3D\'rotate(240%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.66\'%20transform%3D\'rotate(270%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.75\'%20transform%3D\'rotate(300%2060%2C60)\'%2F%3E%3Cuse%20xlink%3Ahref%3D\'%23l\'%20opacity%3D\'.85\'%20transform%3D\'rotate(330%2060%2C60)\'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\")}\@-webkit-keyframes swiper-preloader-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}\@keyframes swiper-preloader-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.swiper-container .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-container-fade.swiper-container-free-mode .swiper-slide{-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out}.swiper-container-fade .swiper-slide{pointer-events:none;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.swiper-container-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-fade .swiper-slide-active,.swiper-container-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube{overflow:visible}.swiper-container-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;width:100%;height:100%}.swiper-container-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-cube.swiper-container-rtl .swiper-slide{-webkit-transform-origin:100% 0;-ms-transform-origin:100% 0;transform-origin:100% 0}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-cube .swiper-slide-active,.swiper-container-cube .swiper-slide-next,.swiper-container-cube .swiper-slide-next+.swiper-slide,.swiper-container-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-container-cube .swiper-slide-shadow-bottom,.swiper-container-cube .swiper-slide-shadow-left,.swiper-container-cube .swiper-slide-shadow-right,.swiper-container-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-container-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;background:#000;opacity:.6;-webkit-filter:blur(50px);filter:blur(50px);z-index:0}.swiper-container-flip{overflow:visible}.swiper-container-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-container-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-container-flip .swiper-slide-active,.swiper-container-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-container-flip .swiper-slide-shadow-bottom,.swiper-container-flip .swiper-slide-shadow-left,.swiper-container-flip .swiper-slide-shadow-right,.swiper-container-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-container-coverflow .swiper-wrapper{-ms-perspective:1200px}ion-slides{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swiper-pagination-bullet{background:var(--bullet-background)}.swiper-pagination-bullet-active{background:var(--bullet-background-active)}.swiper-pagination-progressbar{background:var(--progress-bar-background)}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--progress-bar-background-active)}.swiper-scrollbar{background:var(--scroll-bar-background)}.swiper-scrollbar-drag{background:var(--scroll-bar-background-active)}.slides-ios{--bullet-background:var(--ion-color-step-200,#ccc);--bullet-background-active:var(--ion-color-primary,#3880ff);--progress-bar-background:rgba(var(--ion-text-color-rgb,0,0,0),0.25);--progress-bar-background-active:var(--ion-color-primary-shade,#3171e0);--scroll-bar-background:rgba(var(--ion-text-color-rgb,0,0,0),0.1);--scroll-bar-background-active:rgba(var(--ion-text-color-rgb,0,0,0),0.5)}"},enumerable:true,configurable:true});return t}());var AJ=function(t){return Promise.all(Array.from(t.querySelectorAll("ion-slide")).map((function(t){return t.componentOnReady()})))};var kJ=t("media_adapter",function(){function t(t){r(this,t);this.canModify=false}t.prototype.renderCover=function(){if(!!this.canModify){return i("div",{style:{width:"100%",height:"100%","z-index":"999",position:"absolute",top:"0",left:"0"}})}};t.prototype.render=function(){switch(this.comData.comName){case"media-basic-img":return i("div",{style:{width:"100%",height:"100%","background-repeat":"no-repeat","background-size":"100% 100%","image-rendering":"auto","background-image":"url("+(this.comData.data.config.bgi||"../../assets/image/img-default.png")+")"}});case"media-border":return i("div",{style:{width:"100%",height:"100%","background-color":this.comData.data.config.backgroundColor,"border-color":this.comData.data.config.borderStyle.color,"border-width":(this.comData.data.config.borderStyle.width||0)+"px","background-repeat":"no-repeat","background-size":"100% 100%","image-rendering":"auto","border-image-slice":(this.comData.data.config.borderStyle.width||10)+" fill","border-style":"solid","border-image-source":this.comData.data.config.borderImg&&"url(../../assets/image/border/"+this.comData.data.config.borderImg+".png)"||""}});case"media-iframe":return i("div",null,i("iframe",{draggable:false,width:this.comData.data.view.w+"px",height:this.comData.data.view.h+"px",style:{position:"relative",width:this.comData.data.view.w+"px",height:this.comData.data.view.h+"px"},src:this.comData.data.config.iframeSrc||"https://www.baidu.com/"}),this.renderCover());case"media-img-slides":return[i("ion-slides",{pager:true,options:this.comData.data.config.swiperAutoTime&&!this.canModify&&this.comData.data.config.swiperAutoTime!=="0"?{autoplay:{delay:this.comData.data.config.swiperAutoTime,disableOnInteraction:false}}:null,style:{height:"100%"}},(this.dataSource||[]).map((function(t){return i("ion-slide",null,i("cy-lazy-img",{style:{width:"100%",height:"100%"},src:t,defaultImg:"../../assets/image/img-default.png"}))}))),this.renderCover()];case"media-video":return[i("video",{width:this.comData.data.view.w,height:this.comData.data.view.h,controls:true,autoplay:true,loop:true,src:this.comData.data.config.videoSrc||""}),this.renderCover()];default:break}};Object.defineProperty(t,"style",{get:function(){return"media-adapter ion-slide{width:100%!important}media-adapter *{-webkit-box-sizing:border-box;box-sizing:border-box}"},enumerable:true,configurable:true});return t}());var LJ=t("table_adapter",function(){function t(t){r(this,t)}t.prototype.render=function(){return i("cy-table",{style:{"--odd-bg":this.comDataConfig.tableRowOption&&this.comDataConfig.tableRowOption.oddBgc||"","--even-bg":this.comDataConfig.tableRowOption&&this.comDataConfig.tableRowOption.evenBgc||"","--background":this.comDataConfig.backgroundColor,"--header-bg":this.comDataConfig.tableHeaderOption&&this.comDataConfig.tableHeaderOption.backgroundColor||"","font-weight":this.comDataConfig.commonTextStyle&&this.comDataConfig.commonTextStyle.fontWeight||"","text-align":this.comDataConfig.commonTextStyle&&this.comDataConfig.commonTextStyle.textAlign||"","--font-size":this.comDataConfig.commonTextStyle&&this.comDataConfig.commonTextStyle.fontSize+"px"||""+"px","--color":this.comDataConfig.commonTextStyle&&this.comDataConfig.commonTextStyle.color||""},option:{orderOption:this.comDataConfig.tableOrderOption,tableAllOption:this.comDataConfig.tableAllOption&&{rowNum:this.comDataConfig.tableAllOption.rowNum,isScroll:this.comDataConfig.tableAllOption.isScroll,intervalSecond:this.comDataConfig.tableAllOption.intervalSecond},headerHeight:this.comDataConfig.tableHeaderOption&&this.comDataConfig.tableHeaderOption.height},dataSource:this.dataSource||[],Columns:this.comDataConfig.columns})};Object.defineProperty(t,"style",{get:function(){return""},enumerable:true,configurable:true});return t}());var PJ;function OJ(){return PJ.apply(null,arguments)}function NJ(t){PJ=t}function RJ(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function EJ(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function zJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VJ(t){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(t).length===0}else{var e;for(e in t){if(zJ(t,e)){return false}}return true}}function BJ(t){return t===void 0}function FJ(t){return typeof t==="number"||Object.prototype.toString.call(t)==="[object Number]"}function GJ(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function WJ(t,e){var r=[],i,a=t.length;for(i=0;i<a;++i){r.push(e(t[i],i))}return r}function HJ(t,e){for(var r in e){if(zJ(e,r)){t[r]=e[r]}}if(zJ(e,"toString")){t.toString=e.toString}if(zJ(e,"valueOf")){t.valueOf=e.valueOf}return t}function YJ(t,e,r,i){return M2(t,e,r,i,true).utc()}function UJ(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidEra:null,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],era:null,meridiem:null,rfc2822:false,weekdayMismatch:false}}function XJ(t){if(t._pf==null){t._pf=UJ()}return t._pf}var ZJ;if(Array.prototype.some){ZJ=Array.prototype.some}else{ZJ=function(t){var e=Object(this),r=e.length>>>0,i;for(i=0;i<r;i++){if(i in e&&t.call(this,e[i],i,e)){return true}}return false}}function jJ(t){if(t._isValid==null){var e=XJ(t),r=ZJ.call(e.parsedDateParts,(function(t){return t!=null})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict){i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(t)){t._isValid=i}else{return i}}return t._isValid}function qJ(t){var e=YJ(NaN);if(t!=null){HJ(XJ(e),t)}else{XJ(e).userInvalidated=true}return e}var KJ=OJ.momentProperties=[],$J=false;function JJ(t,e){var r,i,a,n=KJ.length;if(!BJ(e._isAMomentObject)){t._isAMomentObject=e._isAMomentObject}if(!BJ(e._i)){t._i=e._i}if(!BJ(e._f)){t._f=e._f}if(!BJ(e._l)){t._l=e._l}if(!BJ(e._strict)){t._strict=e._strict}if(!BJ(e._tzm)){t._tzm=e._tzm}if(!BJ(e._isUTC)){t._isUTC=e._isUTC}if(!BJ(e._offset)){t._offset=e._offset}if(!BJ(e._pf)){t._pf=XJ(e)}if(!BJ(e._locale)){t._locale=e._locale}if(n>0){for(r=0;r<n;r++){i=KJ[r];a=e[i];if(!BJ(a)){t[i]=a}}}return t}function QJ(t){JJ(this,t);this._d=new Date(t._d!=null?t._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if($J===false){$J=true;OJ.updateOffset(this);$J=false}}function tQ(t){return t instanceof QJ||t!=null&&t._isAMomentObject!=null}function eQ(t){if(OJ.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+t)}}function rQ(t,e){var r=true;return HJ((function(){if(OJ.deprecationHandler!=null){OJ.deprecationHandler(null,t)}if(r){var i=[],a,n,o,s=arguments.length;for(n=0;n<s;n++){a="";if(typeof arguments[n]==="object"){a+="\n["+n+"] ";for(o in arguments[0]){if(zJ(arguments[0],o)){a+=o+": "+arguments[0][o]+", "}}a=a.slice(0,-2)}else{a=arguments[n]}i.push(a)}eQ(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack);r=false}return e.apply(this,arguments)}),e)}var iQ={};function aQ(t,e){if(OJ.deprecationHandler!=null){OJ.deprecationHandler(t,e)}if(!iQ[t]){eQ(e);iQ[t]=true}}OJ.suppressDeprecationWarnings=false;OJ.deprecationHandler=null;function nQ(t){return typeof Function!=="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function oQ(t){var e,r;for(r in t){if(zJ(t,r)){e=t[r];if(nQ(e)){this[r]=e}else{this["_"+r]=e}}}this._config=t;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sQ(t,e){var r=HJ({},t),i;for(i in e){if(zJ(e,i)){if(EJ(t[i])&&EJ(e[i])){r[i]={};HJ(r[i],t[i]);HJ(r[i],e[i])}else if(e[i]!=null){r[i]=e[i]}else{delete r[i]}}}for(i in t){if(zJ(t,i)&&!zJ(e,i)&&EJ(t[i])){r[i]=HJ({},r[i])}}return r}function lQ(t){if(t!=null){this.set(t)}}var uQ;if(Object.keys){uQ=Object.keys}else{uQ=function(t){var e,r=[];for(e in t){if(zJ(t,e)){r.push(e)}}return r}}var fQ={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function hQ(t,e,r){var i=this._calendar[t]||this._calendar["sameElse"];return nQ(i)?i.call(e,r):i}function cQ(t,e,r){var i=""+Math.abs(t),a=e-i.length,n=t>=0;return(n?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var vQ=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dQ=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pQ={},gQ={};function yQ(t,e,r,i){var a=i;if(typeof i==="string"){a=function(){return this[i]()}}if(t){gQ[t]=a}if(e){gQ[e[0]]=function(){return cQ(a.apply(this,arguments),e[1],e[2])}}if(r){gQ[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)}}}function mQ(t){if(t.match(/\[[\s\S]/)){return t.replace(/^\[|\]$/g,"")}return t.replace(/\\/g,"")}function _Q(t){var e=t.match(vQ),r,i;for(r=0,i=e.length;r<i;r++){if(gQ[e[r]]){e[r]=gQ[e[r]]}else{e[r]=mQ(e[r])}}return function(r){var a="",n;for(n=0;n<i;n++){a+=nQ(e[n])?e[n].call(r,t):e[n]}return a}}function xQ(t,e){if(!t.isValid()){return t.localeData().invalidDate()}e=wQ(e,t.localeData());pQ[e]=pQ[e]||_Q(e);return pQ[e](t)}function wQ(t,e){var r=5;function i(t){return e.longDateFormat(t)||t}dQ.lastIndex=0;while(r>=0&&dQ.test(t)){t=t.replace(dQ,i);dQ.lastIndex=0;r-=1}return t}var bQ={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function SQ(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];if(e||!r){return e}this._longDateFormat[t]=r.match(vQ).map((function(t){if(t==="MMMM"||t==="MM"||t==="DD"||t==="dddd"){return t.slice(1)}return t})).join("");return this._longDateFormat[t]}var MQ="Invalid date";function IQ(){return this._invalidDate}var TQ="%d",DQ=/\d{1,2}/;function CQ(t){return this._ordinal.replace("%d",t)}var AQ={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function kQ(t,e,r,i){var a=this._relativeTime[r];return nQ(a)?a(t,e,r,i):a.replace(/%d/i,t)}function LQ(t,e){var r=this._relativeTime[t>0?"future":"past"];return nQ(r)?r(e):r.replace(/%s/i,e)}var PQ={};function OQ(t,e){var r=t.toLowerCase();PQ[r]=PQ[r+"s"]=PQ[e]=t}function NQ(t){return typeof t==="string"?PQ[t]||PQ[t.toLowerCase()]:undefined}function RQ(t){var e={},r,i;for(i in t){if(zJ(t,i)){r=NQ(i);if(r){e[r]=t[i]}}}return e}var EQ={};function zQ(t,e){EQ[t]=e}function VQ(t){var e=[],r;for(r in t){if(zJ(t,r)){e.push({unit:r,priority:EQ[r]})}}e.sort((function(t,e){return t.priority-e.priority}));return e}function BQ(t){return t%4===0&&t%100!==0||t%400===0}function FQ(t){if(t<0){return Math.ceil(t)||0}else{return Math.floor(t)}}function GQ(t){var e=+t,r=0;if(e!==0&&isFinite(e)){r=FQ(e)}return r}function WQ(t,e){return function(r){if(r!=null){YQ(this,t,r);OJ.updateOffset(this,e);return this}else{return HQ(this,t)}}}function HQ(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function YQ(t,e,r){if(t.isValid()&&!isNaN(r)){if(e==="FullYear"&&BQ(t.year())&&t.month()===1&&t.date()===29){r=GQ(r);t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),k0(r,t.month()))}else{t._d["set"+(t._isUTC?"UTC":"")+e](r)}}}function UQ(t){t=NQ(t);if(nQ(this[t])){return this[t]()}return this}function XQ(t,e){if(typeof t==="object"){t=RQ(t);var r=VQ(t),i,a=r.length;for(i=0;i<a;i++){this[r[i].unit](t[r[i].unit])}}else{t=NQ(t);if(nQ(this[t])){return this[t](e)}}return this}var ZQ=/\d/,jQ=/\d\d/,qQ=/\d{3}/,KQ=/\d{4}/,$Q=/[+-]?\d{6}/,JQ=/\d\d?/,QQ=/\d\d\d\d?/,t0=/\d\d\d\d\d\d?/,e0=/\d{1,3}/,r0=/\d{1,4}/,i0=/[+-]?\d{1,6}/,a0=/\d+/,n0=/[+-]?\d+/,o0=/Z|[+-]\d\d:?\d\d/gi,s0=/Z|[+-]\d\d(?::?\d\d)?/gi,l0=/[+-]?\d+(\.\d{1,3})?/,u0=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,f0;f0={};function h0(t,e,r){f0[t]=nQ(e)?e:function(t,i){return t&&r?r:e}}function c0(t,e){if(!zJ(f0,t)){return new RegExp(v0(t))}return f0[t](e._strict,e._locale)}function v0(t){return d0(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,i,a){return e||r||i||a})))}function d0(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var p0={};function g0(t,e){var r,i=e,a;if(typeof t==="string"){t=[t]}if(FJ(e)){i=function(t,r){r[e]=GQ(t)}}a=t.length;for(r=0;r<a;r++){p0[t[r]]=i}}function y0(t,e){g0(t,(function(t,r,i,a){i._w=i._w||{};e(t,i._w,i,a)}))}function m0(t,e,r){if(e!=null&&zJ(p0,t)){p0[t](e,r._a,r,t)}}var _0=0,x0=1,w0=2,b0=3,S0=4,M0=5,I0=6,T0=7,D0=8;function C0(t,e){return(t%e+e)%e}var A0;if(Array.prototype.indexOf){A0=Array.prototype.indexOf}else{A0=function(t){var e;for(e=0;e<this.length;++e){if(this[e]===t){return e}}return-1}}function k0(t,e){if(isNaN(t)||isNaN(e)){return NaN}var r=C0(e,12);t+=(e-r)/12;return r===1?BQ(t)?29:28:31-r%7%2}yQ("M",["MM",2],"Mo",(function(){return this.month()+1}));yQ("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)}));yQ("MMMM",0,0,(function(t){return this.localeData().months(this,t)}));OQ("month","M");zQ("month",8);h0("M",JQ);h0("MM",JQ,jQ);h0("MMM",(function(t,e){return e.monthsShortRegex(t)}));h0("MMMM",(function(t,e){return e.monthsRegex(t)}));g0(["M","MM"],(function(t,e){e[x0]=GQ(t)-1}));g0(["MMM","MMMM"],(function(t,e,r,i){var a=r._locale.monthsParse(t,i,r._strict);if(a!=null){e[x0]=a}else{XJ(r).invalidMonth=t}}));var L0="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),P0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),O0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,N0=u0,R0=u0;function E0(t,e){if(!t){return RJ(this._months)?this._months:this._months["standalone"]}return RJ(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||O0).test(e)?"format":"standalone"][t.month()]}function z0(t,e){if(!t){return RJ(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return RJ(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[O0.test(e)?"format":"standalone"][t.month()]}function V0(t,e,r){var i,a,n,o=t.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){n=YJ([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(n,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(n,"").toLocaleLowerCase()}}if(r){if(e==="MMM"){a=A0.call(this._shortMonthsParse,o);return a!==-1?a:null}else{a=A0.call(this._longMonthsParse,o);return a!==-1?a:null}}else{if(e==="MMM"){a=A0.call(this._shortMonthsParse,o);if(a!==-1){return a}a=A0.call(this._longMonthsParse,o);return a!==-1?a:null}else{a=A0.call(this._longMonthsParse,o);if(a!==-1){return a}a=A0.call(this._shortMonthsParse,o);return a!==-1?a:null}}}function B0(t,e,r){var i,a,n;if(this._monthsParseExact){return V0.call(this,t,e,r)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){a=YJ([2e3,i]);if(r&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")}if(!r&&!this._monthsParse[i]){n="^"+this.months(a,"")+"|^"+this.monthsShort(a,"");this._monthsParse[i]=new RegExp(n.replace(".",""),"i")}if(r&&e==="MMMM"&&this._longMonthsParse[i].test(t)){return i}else if(r&&e==="MMM"&&this._shortMonthsParse[i].test(t)){return i}else if(!r&&this._monthsParse[i].test(t)){return i}}}function F0(t,e){var r;if(!t.isValid()){return t}if(typeof e==="string"){if(/^\d+$/.test(e)){e=GQ(e)}else{e=t.localeData().monthsParse(e);if(!FJ(e)){return t}}}r=Math.min(t.date(),k0(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r);return t}function G0(t){if(t!=null){F0(this,t);OJ.updateOffset(this,true);return this}else{return HQ(this,"Month")}}function W0(){return k0(this.year(),this.month())}function H0(t){if(this._monthsParseExact){if(!zJ(this,"_monthsRegex")){U0.call(this)}if(t){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!zJ(this,"_monthsShortRegex")){this._monthsShortRegex=N0}return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}}function Y0(t){if(this._monthsParseExact){if(!zJ(this,"_monthsRegex")){U0.call(this)}if(t){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!zJ(this,"_monthsRegex")){this._monthsRegex=R0}return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}}function U0(){function t(t,e){return e.length-t.length}var e=[],r=[],i=[],a,n;for(a=0;a<12;a++){n=YJ([2e3,a]);e.push(this.monthsShort(n,""));r.push(this.months(n,""));i.push(this.months(n,""));i.push(this.monthsShort(n,""))}e.sort(t);r.sort(t);i.sort(t);for(a=0;a<12;a++){e[a]=d0(e[a]);r[a]=d0(r[a])}for(a=0;a<24;a++){i[a]=d0(i[a])}this._monthsRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}yQ("Y",0,0,(function(){var t=this.year();return t<=9999?cQ(t,4):"+"+t}));yQ(0,["YY",2],0,(function(){return this.year()%100}));yQ(0,["YYYY",4],0,"year");yQ(0,["YYYYY",5],0,"year");yQ(0,["YYYYYY",6,true],0,"year");OQ("year","y");zQ("year",1);h0("Y",n0);h0("YY",JQ,jQ);h0("YYYY",r0,KQ);h0("YYYYY",i0,$Q);h0("YYYYYY",i0,$Q);g0(["YYYYY","YYYYYY"],_0);g0("YYYY",(function(t,e){e[_0]=t.length===2?OJ.parseTwoDigitYear(t):GQ(t)}));g0("YY",(function(t,e){e[_0]=OJ.parseTwoDigitYear(t)}));g0("Y",(function(t,e){e[_0]=parseInt(t,10)}));function X0(t){return BQ(t)?366:365}OJ.parseTwoDigitYear=function(t){return GQ(t)+(GQ(t)>68?1900:2e3)};var Z0=WQ("FullYear",true);function j0(){return BQ(this.year())}function q0(t,e,r,i,a,n,o){var s;if(t<100&&t>=0){s=new Date(t+400,e,r,i,a,n,o);if(isFinite(s.getFullYear())){s.setFullYear(t)}}else{s=new Date(t,e,r,i,a,n,o)}return s}function K0(t){var e,r;if(t<100&&t>=0){r=Array.prototype.slice.call(arguments);r[0]=t+400;e=new Date(Date.UTC.apply(null,r));if(isFinite(e.getUTCFullYear())){e.setUTCFullYear(t)}}else{e=new Date(Date.UTC.apply(null,arguments))}return e}function $0(t,e,r){var i=7+e-r,a=(7+K0(t,0,i).getUTCDay()-e)%7;return-a+i-1}function J0(t,e,r,i,a){var n=(7+r-i)%7,o=$0(t,i,a),s=1+7*(e-1)+n+o,l,u;if(s<=0){l=t-1;u=X0(l)+s}else if(s>X0(t)){l=t+1;u=s-X0(t)}else{l=t;u=s}return{year:l,dayOfYear:u}}function Q0(t,e,r){var i=$0(t.year(),e,r),a=Math.floor((t.dayOfYear()-i-1)/7)+1,n,o;if(a<1){o=t.year()-1;n=a+t1(o,e,r)}else if(a>t1(t.year(),e,r)){n=a-t1(t.year(),e,r);o=t.year()+1}else{o=t.year();n=a}return{week:n,year:o}}function t1(t,e,r){var i=$0(t,e,r),a=$0(t+1,e,r);return(X0(t)-i+a)/7}yQ("w",["ww",2],"wo","week");yQ("W",["WW",2],"Wo","isoWeek");OQ("week","w");OQ("isoWeek","W");zQ("week",5);zQ("isoWeek",5);h0("w",JQ);h0("ww",JQ,jQ);h0("W",JQ);h0("WW",JQ,jQ);y0(["w","ww","W","WW"],(function(t,e,r,i){e[i.substr(0,1)]=GQ(t)}));function e1(t){return Q0(t,this._week.dow,this._week.doy).week}var r1={dow:0,doy:6};function i1(){return this._week.dow}function a1(){return this._week.doy}function n1(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function o1(t){var e=Q0(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}yQ("d",0,"do","day");yQ("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)}));yQ("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)}));yQ("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)}));yQ("e",0,0,"weekday");yQ("E",0,0,"isoWeekday");OQ("day","d");OQ("weekday","e");OQ("isoWeekday","E");zQ("day",11);zQ("weekday",11);zQ("isoWeekday",11);h0("d",JQ);h0("e",JQ);h0("E",JQ);h0("dd",(function(t,e){return e.weekdaysMinRegex(t)}));h0("ddd",(function(t,e){return e.weekdaysShortRegex(t)}));h0("dddd",(function(t,e){return e.weekdaysRegex(t)}));y0(["dd","ddd","dddd"],(function(t,e,r,i){var a=r._locale.weekdaysParse(t,i,r._strict);if(a!=null){e.d=a}else{XJ(r).invalidWeekday=t}}));y0(["d","e","E"],(function(t,e,r,i){e[i]=GQ(t)}));function s1(t,e){if(typeof t!=="string"){return t}if(!isNaN(t)){return parseInt(t,10)}t=e.weekdaysParse(t);if(typeof t==="number"){return t}return null}function l1(t,e){if(typeof t==="string"){return e.weekdaysParse(t)%7||7}return isNaN(t)?null:t}function u1(t,e){return t.slice(e,7).concat(t.slice(0,e))}var f1="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),h1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),c1="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),v1=u0,d1=u0,p1=u0;function g1(t,e){var r=RJ(this._weekdays)?this._weekdays:this._weekdays[t&&t!==true&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===true?u1(r,this._week.dow):t?r[t.day()]:r}function y1(t){return t===true?u1(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function m1(t){return t===true?u1(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function _1(t,e,r){var i,a,n,o=t.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){n=YJ([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(n,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(n,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(n,"").toLocaleLowerCase()}}if(r){if(e==="dddd"){a=A0.call(this._weekdaysParse,o);return a!==-1?a:null}else if(e==="ddd"){a=A0.call(this._shortWeekdaysParse,o);return a!==-1?a:null}else{a=A0.call(this._minWeekdaysParse,o);return a!==-1?a:null}}else{if(e==="dddd"){a=A0.call(this._weekdaysParse,o);if(a!==-1){return a}a=A0.call(this._shortWeekdaysParse,o);if(a!==-1){return a}a=A0.call(this._minWeekdaysParse,o);return a!==-1?a:null}else if(e==="ddd"){a=A0.call(this._shortWeekdaysParse,o);if(a!==-1){return a}a=A0.call(this._weekdaysParse,o);if(a!==-1){return a}a=A0.call(this._minWeekdaysParse,o);return a!==-1?a:null}else{a=A0.call(this._minWeekdaysParse,o);if(a!==-1){return a}a=A0.call(this._weekdaysParse,o);if(a!==-1){return a}a=A0.call(this._shortWeekdaysParse,o);return a!==-1?a:null}}}function x1(t,e,r){var i,a,n;if(this._weekdaysParseExact){return _1.call(this,t,e,r)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){a=YJ([2e3,1]).day(i);if(r&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[i]){n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,"");this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")}if(r&&e==="dddd"&&this._fullWeekdaysParse[i].test(t)){return i}else if(r&&e==="ddd"&&this._shortWeekdaysParse[i].test(t)){return i}else if(r&&e==="dd"&&this._minWeekdaysParse[i].test(t)){return i}else if(!r&&this._weekdaysParse[i].test(t)){return i}}}function w1(t){if(!this.isValid()){return t!=null?this:NaN}var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(t!=null){t=s1(t,this.localeData());return this.add(t-e,"d")}else{return e}}function b1(t){if(!this.isValid()){return t!=null?this:NaN}var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function S1(t){if(!this.isValid()){return t!=null?this:NaN}if(t!=null){var e=l1(t,this.localeData());return this.day(this.day()%7?e:e-7)}else{return this.day()||7}}function M1(t){if(this._weekdaysParseExact){if(!zJ(this,"_weekdaysRegex")){D1.call(this)}if(t){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!zJ(this,"_weekdaysRegex")){this._weekdaysRegex=v1}return this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}}function I1(t){if(this._weekdaysParseExact){if(!zJ(this,"_weekdaysRegex")){D1.call(this)}if(t){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!zJ(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=d1}return this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}function T1(t){if(this._weekdaysParseExact){if(!zJ(this,"_weekdaysRegex")){D1.call(this)}if(t){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!zJ(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=p1}return this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function D1(){function t(t,e){return e.length-t.length}var e=[],r=[],i=[],a=[],n,o,s,l,u;for(n=0;n<7;n++){o=YJ([2e3,1]).day(n);s=d0(this.weekdaysMin(o,""));l=d0(this.weekdaysShort(o,""));u=d0(this.weekdays(o,""));e.push(s);r.push(l);i.push(u);a.push(s);a.push(l);a.push(u)}e.sort(t);r.sort(t);i.sort(t);a.sort(t);this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function C1(){return this.hours()%12||12}function A1(){return this.hours()||24}yQ("H",["HH",2],0,"hour");yQ("h",["hh",2],0,C1);yQ("k",["kk",2],0,A1);yQ("hmm",0,0,(function(){return""+C1.apply(this)+cQ(this.minutes(),2)}));yQ("hmmss",0,0,(function(){return""+C1.apply(this)+cQ(this.minutes(),2)+cQ(this.seconds(),2)}));yQ("Hmm",0,0,(function(){return""+this.hours()+cQ(this.minutes(),2)}));yQ("Hmmss",0,0,(function(){return""+this.hours()+cQ(this.minutes(),2)+cQ(this.seconds(),2)}));function k1(t,e){yQ(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}k1("a",true);k1("A",false);OQ("hour","h");zQ("hour",13);function L1(t,e){return e._meridiemParse}h0("a",L1);h0("A",L1);h0("H",JQ);h0("h",JQ);h0("k",JQ);h0("HH",JQ,jQ);h0("hh",JQ,jQ);h0("kk",JQ,jQ);h0("hmm",QQ);h0("hmmss",t0);h0("Hmm",QQ);h0("Hmmss",t0);g0(["H","HH"],b0);g0(["k","kk"],(function(t,e,r){var i=GQ(t);e[b0]=i===24?0:i}));g0(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t);r._meridiem=t}));g0(["h","hh"],(function(t,e,r){e[b0]=GQ(t);XJ(r).bigHour=true}));g0("hmm",(function(t,e,r){var i=t.length-2;e[b0]=GQ(t.substr(0,i));e[S0]=GQ(t.substr(i));XJ(r).bigHour=true}));g0("hmmss",(function(t,e,r){var i=t.length-4,a=t.length-2;e[b0]=GQ(t.substr(0,i));e[S0]=GQ(t.substr(i,2));e[M0]=GQ(t.substr(a));XJ(r).bigHour=true}));g0("Hmm",(function(t,e,r){var i=t.length-2;e[b0]=GQ(t.substr(0,i));e[S0]=GQ(t.substr(i))}));g0("Hmmss",(function(t,e,r){var i=t.length-4,a=t.length-2;e[b0]=GQ(t.substr(0,i));e[S0]=GQ(t.substr(i,2));e[M0]=GQ(t.substr(a))}));function P1(t){return(t+"").toLowerCase().charAt(0)==="p"}var O1=/[ap]\.?m?\.?/i,N1=WQ("Hours",true);function R1(t,e,r){if(t>11){return r?"pm":"PM"}else{return r?"am":"AM"}}var E1={calendar:fQ,longDateFormat:bQ,invalidDate:MQ,ordinal:TQ,dayOfMonthOrdinalParse:DQ,relativeTime:AQ,months:L0,monthsShort:P0,week:r1,weekdays:f1,weekdaysMin:c1,weekdaysShort:h1,meridiemParse:O1};var z1={},V1={},B1;function F1(t,e){var r,i=Math.min(t.length,e.length);for(r=0;r<i;r+=1){if(t[r]!==e[r]){return r}}return i}function G1(t){return t?t.toLowerCase().replace("_","-"):t}function W1(t){var e=0,r,i,a,n;while(e<t.length){n=G1(t[e]).split("-");r=n.length;i=G1(t[e+1]);i=i?i.split("-"):null;while(r>0){a=Y1(n.slice(0,r).join("-"));if(a){return a}if(i&&i.length>=r&&F1(n,i)>=r-1){break}r--}e++}return B1}function H1(t){return t.match("^[^/\\\\]*$")!=null}function Y1(t){var r=null,i;if(z1[t]===undefined&&typeof e!=="undefined"&&e&&e.exports&&H1(t)){try{r=B1._abbr;i=require;i("./locale/"+t);U1(r)}catch(Th){z1[t]=null}}return z1[t]}function U1(t,e){var r;if(t){if(BJ(e)){r=j1(t)}else{r=X1(t,e)}if(r){B1=r}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+t+" not found. Did you forget to load it?")}}}return B1._abbr}function X1(t,e){if(e!==null){var r,i=E1;e.abbr=t;if(z1[t]!=null){aQ("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");i=z1[t]._config}else if(e.parentLocale!=null){if(z1[e.parentLocale]!=null){i=z1[e.parentLocale]._config}else{r=Y1(e.parentLocale);if(r!=null){i=r._config}else{if(!V1[e.parentLocale]){V1[e.parentLocale]=[]}V1[e.parentLocale].push({name:t,config:e});return null}}}z1[t]=new lQ(sQ(i,e));if(V1[t]){V1[t].forEach((function(t){X1(t.name,t.config)}))}U1(t);return z1[t]}else{delete z1[t];return null}}function Z1(t,e){if(e!=null){var r,i,a=E1;if(z1[t]!=null&&z1[t].parentLocale!=null){z1[t].set(sQ(z1[t]._config,e))}else{i=Y1(t);if(i!=null){a=i._config}e=sQ(a,e);if(i==null){e.abbr=t}r=new lQ(e);r.parentLocale=z1[t];z1[t]=r}U1(t)}else{if(z1[t]!=null){if(z1[t].parentLocale!=null){z1[t]=z1[t].parentLocale;if(t===U1()){U1(t)}}else if(z1[t]!=null){delete z1[t]}}}return z1[t]}function j1(t){var e;if(t&&t._locale&&t._locale._abbr){t=t._locale._abbr}if(!t){return B1}if(!RJ(t)){e=Y1(t);if(e){return e}t=[t]}return W1(t)}function q1(){return uQ(z1)}function K1(t){var e,r=t._a;if(r&&XJ(t).overflow===-2){e=r[x0]<0||r[x0]>11?x0:r[w0]<1||r[w0]>k0(r[_0],r[x0])?w0:r[b0]<0||r[b0]>24||r[b0]===24&&(r[S0]!==0||r[M0]!==0||r[I0]!==0)?b0:r[S0]<0||r[S0]>59?S0:r[M0]<0||r[M0]>59?M0:r[I0]<0||r[I0]>999?I0:-1;if(XJ(t)._overflowDayOfYear&&(e<_0||e>w0)){e=w0}if(XJ(t)._overflowWeeks&&e===-1){e=T0}if(XJ(t)._overflowWeekday&&e===-1){e=D0}XJ(t).overflow=e}return t}var $1=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,J1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Q1=/Z|[+-]\d\d(?::?\d\d)?/,t2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,false],["YYYY",/\d{4}/,false]],e2=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],r2=/^\/?Date\((-?\d+)/i,i2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,a2={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function n2(t){var e,r,i=t._i,a=$1.exec(i)||J1.exec(i),n,o,s,l,u=t2.length,f=e2.length;if(a){XJ(t).iso=true;for(e=0,r=u;e<r;e++){if(t2[e][1].exec(a[1])){o=t2[e][0];n=t2[e][2]!==false;break}}if(o==null){t._isValid=false;return}if(a[3]){for(e=0,r=f;e<r;e++){if(e2[e][1].exec(a[3])){s=(a[2]||" ")+e2[e][0];break}}if(s==null){t._isValid=false;return}}if(!n&&s!=null){t._isValid=false;return}if(a[4]){if(Q1.exec(a[4])){l="Z"}else{t._isValid=false;return}}t._f=o+(s||"")+(l||"");y2(t)}else{t._isValid=false}}function o2(t,e,r,i,a,n){var o=[s2(t),P0.indexOf(e),parseInt(r,10),parseInt(i,10),parseInt(a,10)];if(n){o.push(parseInt(n,10))}return o}function s2(t){var e=parseInt(t,10);if(e<=49){return 2e3+e}else if(e<=999){return 1900+e}return e}function l2(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function u2(t,e,r){if(t){var i=h1.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(i!==a){XJ(r).weekdayMismatch=true;r._isValid=false;return false}}return true}function f2(t,e,r){if(t){return a2[t]}else if(e){return 0}else{var i=parseInt(r,10),a=i%100,n=(i-a)/100;return n*60+a}}function h2(t){var e=i2.exec(l2(t._i)),r;if(e){r=o2(e[4],e[3],e[2],e[5],e[6],e[7]);if(!u2(e[1],r,t)){return}t._a=r;t._tzm=f2(e[8],e[9],e[10]);t._d=K0.apply(null,t._a);t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);XJ(t).rfc2822=true}else{t._isValid=false}}function c2(t){var e=r2.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}n2(t);if(t._isValid===false){delete t._isValid}else{return}h2(t);if(t._isValid===false){delete t._isValid}else{return}if(t._strict){t._isValid=false}else{OJ.createFromInputFallback(t)}}OJ.createFromInputFallback=rQ("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}));function v2(t,e,r){if(t!=null){return t}if(e!=null){return e}return r}function d2(t){var e=new Date(OJ.now());if(t._useUTC){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]}return[e.getFullYear(),e.getMonth(),e.getDate()]}function p2(t){var e,r,i=[],a,n,o;if(t._d){return}a=d2(t);if(t._w&&t._a[w0]==null&&t._a[x0]==null){g2(t)}if(t._dayOfYear!=null){o=v2(t._a[_0],a[_0]);if(t._dayOfYear>X0(o)||t._dayOfYear===0){XJ(t)._overflowDayOfYear=true}r=K0(o,0,t._dayOfYear);t._a[x0]=r.getUTCMonth();t._a[w0]=r.getUTCDate()}for(e=0;e<3&&t._a[e]==null;++e){t._a[e]=i[e]=a[e]}for(;e<7;e++){t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e]}if(t._a[b0]===24&&t._a[S0]===0&&t._a[M0]===0&&t._a[I0]===0){t._nextDay=true;t._a[b0]=0}t._d=(t._useUTC?K0:q0).apply(null,i);n=t._useUTC?t._d.getUTCDay():t._d.getDay();if(t._tzm!=null){t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm)}if(t._nextDay){t._a[b0]=24}if(t._w&&typeof t._w.d!=="undefined"&&t._w.d!==n){XJ(t).weekdayMismatch=true}}function g2(t){var e,r,i,a,n,o,s,l,u;e=t._w;if(e.GG!=null||e.W!=null||e.E!=null){n=1;o=4;r=v2(e.GG,t._a[_0],Q0(I2(),1,4).year);i=v2(e.W,1);a=v2(e.E,1);if(a<1||a>7){l=true}}else{n=t._locale._week.dow;o=t._locale._week.doy;u=Q0(I2(),n,o);r=v2(e.gg,t._a[_0],u.year);i=v2(e.w,u.week);if(e.d!=null){a=e.d;if(a<0||a>6){l=true}}else if(e.e!=null){a=e.e+n;if(e.e<0||e.e>6){l=true}}else{a=n}}if(i<1||i>t1(r,n,o)){XJ(t)._overflowWeeks=true}else if(l!=null){XJ(t)._overflowWeekday=true}else{s=J0(r,i,a,n,o);t._a[_0]=s.year;t._dayOfYear=s.dayOfYear}}OJ.ISO_8601=function(){};OJ.RFC_2822=function(){};function y2(t){if(t._f===OJ.ISO_8601){n2(t);return}if(t._f===OJ.RFC_2822){h2(t);return}t._a=[];XJ(t).empty=true;var e=""+t._i,r,i,a,n,o,s=e.length,l=0,u,f;a=wQ(t._f,t._locale).match(vQ)||[];f=a.length;for(r=0;r<f;r++){n=a[r];i=(e.match(c0(n,t))||[])[0];if(i){o=e.substr(0,e.indexOf(i));if(o.length>0){XJ(t).unusedInput.push(o)}e=e.slice(e.indexOf(i)+i.length);l+=i.length}if(gQ[n]){if(i){XJ(t).empty=false}else{XJ(t).unusedTokens.push(n)}m0(n,i,t)}else if(t._strict&&!i){XJ(t).unusedTokens.push(n)}}XJ(t).charsLeftOver=s-l;if(e.length>0){XJ(t).unusedInput.push(e)}if(t._a[b0]<=12&&XJ(t).bigHour===true&&t._a[b0]>0){XJ(t).bigHour=undefined}XJ(t).parsedDateParts=t._a.slice(0);XJ(t).meridiem=t._meridiem;t._a[b0]=m2(t._locale,t._a[b0],t._meridiem);u=XJ(t).era;if(u!==null){t._a[_0]=t._locale.erasConvertYear(u,t._a[_0])}p2(t);K1(t)}function m2(t,e,r){var i;if(r==null){return e}if(t.meridiemHour!=null){return t.meridiemHour(e,r)}else if(t.isPM!=null){i=t.isPM(r);if(i&&e<12){e+=12}if(!i&&e===12){e=0}return e}else{return e}}function _2(t){var e,r,i,a,n,o,s=false,l=t._f.length;if(l===0){XJ(t).invalidFormat=true;t._d=new Date(NaN);return}for(a=0;a<l;a++){n=0;o=false;e=JJ({},t);if(t._useUTC!=null){e._useUTC=t._useUTC}e._f=t._f[a];y2(e);if(jJ(e)){o=true}n+=XJ(e).charsLeftOver;n+=XJ(e).unusedTokens.length*10;XJ(e).score=n;if(!s){if(i==null||n<i||o){i=n;r=e;if(o){s=true}}}else{if(n<i){i=n;r=e}}}HJ(t,r||e)}function x2(t){if(t._d){return}var e=RQ(t._i),r=e.day===undefined?e.date:e.day;t._a=WJ([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)}));p2(t)}function w2(t){var e=new QJ(K1(b2(t)));if(e._nextDay){e.add(1,"d");e._nextDay=undefined}return e}function b2(t){var e=t._i,r=t._f;t._locale=t._locale||j1(t._l);if(e===null||r===undefined&&e===""){return qJ({nullInput:true})}if(typeof e==="string"){t._i=e=t._locale.preparse(e)}if(tQ(e)){return new QJ(K1(e))}else if(GJ(e)){t._d=e}else if(RJ(r)){_2(t)}else if(r){y2(t)}else{S2(t)}if(!jJ(t)){t._d=null}return t}function S2(t){var e=t._i;if(BJ(e)){t._d=new Date(OJ.now())}else if(GJ(e)){t._d=new Date(e.valueOf())}else if(typeof e==="string"){c2(t)}else if(RJ(e)){t._a=WJ(e.slice(0),(function(t){return parseInt(t,10)}));p2(t)}else if(EJ(e)){x2(t)}else if(FJ(e)){t._d=new Date(e)}else{OJ.createFromInputFallback(t)}}function M2(t,e,r,i,a){var n={};if(e===true||e===false){i=e;e=undefined}if(r===true||r===false){i=r;r=undefined}if(EJ(t)&&VJ(t)||RJ(t)&&t.length===0){t=undefined}n._isAMomentObject=true;n._useUTC=n._isUTC=a;n._l=r;n._i=t;n._f=e;n._strict=i;return w2(n)}function I2(t,e,r,i){return M2(t,e,r,i,false)}var T2=rQ("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=I2.apply(null,arguments);if(this.isValid()&&t.isValid()){return t<this?this:t}else{return qJ()}})),D2=rQ("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=I2.apply(null,arguments);if(this.isValid()&&t.isValid()){return t>this?this:t}else{return qJ()}}));function C2(t,e){var r,i;if(e.length===1&&RJ(e[0])){e=e[0]}if(!e.length){return I2()}r=e[0];for(i=1;i<e.length;++i){if(!e[i].isValid()||e[i][t](r)){r=e[i]}}return r}function A2(){var t=[].slice.call(arguments,0);return C2("isBefore",t)}function k2(){var t=[].slice.call(arguments,0);return C2("isAfter",t)}var L2=function(){return Date.now?Date.now():+new Date};var P2=["year","quarter","month","week","day","hour","minute","second","millisecond"];function O2(t){var e,r=false,i,a=P2.length;for(e in t){if(zJ(t,e)&&!(A0.call(P2,e)!==-1&&(t[e]==null||!isNaN(t[e])))){return false}}for(i=0;i<a;++i){if(t[P2[i]]){if(r){return false}if(parseFloat(t[P2[i]])!==GQ(t[P2[i]])){r=true}}}return true}function N2(){return this._isValid}function R2(){return a5(NaN)}function E2(t){var e=RQ(t),r=e.year||0,i=e.quarter||0,a=e.month||0,n=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,f=e.millisecond||0;this._isValid=O2(e);this._milliseconds=+f+u*1e3+l*6e4+s*1e3*60*60;this._days=+o+n*7;this._months=+a+i*3+r*12;this._data={};this._locale=j1();this._bubble()}function z2(t){return t instanceof E2}function V2(t){if(t<0){return Math.round(-1*t)*-1}else{return Math.round(t)}}function B2(t,e,r){var i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),n=0,o;for(o=0;o<i;o++){if(r&&t[o]!==e[o]||!r&&GQ(t[o])!==GQ(e[o])){n++}}return n+a}function F2(t,e){yQ(t,0,0,(function(){var t=this.utcOffset(),r="+";if(t<0){t=-t;r="-"}return r+cQ(~~(t/60),2)+e+cQ(~~t%60,2)}))}F2("Z",":");F2("ZZ","");h0("Z",s0);h0("ZZ",s0);g0(["Z","ZZ"],(function(t,e,r){r._useUTC=true;r._tzm=W2(s0,t)}));var G2=/([\+\-]|\d\d)/gi;function W2(t,e){var r=(e||"").match(t),i,a,n;if(r===null){return null}i=r[r.length-1]||[];a=(i+"").match(G2)||["-",0,0];n=+(a[1]*60)+GQ(a[2]);return n===0?0:a[0]==="+"?n:-n}function H2(t,e){var r,i;if(e._isUTC){r=e.clone();i=(tQ(t)||GJ(t)?t.valueOf():I2(t).valueOf())-r.valueOf();r._d.setTime(r._d.valueOf()+i);OJ.updateOffset(r,false);return r}else{return I2(t).local()}}function Y2(t){return-Math.round(t._d.getTimezoneOffset())}OJ.updateOffset=function(){};function U2(t,e,r){var i=this._offset||0,a;if(!this.isValid()){return t!=null?this:NaN}if(t!=null){if(typeof t==="string"){t=W2(s0,t);if(t===null){return this}}else if(Math.abs(t)<16&&!r){t=t*60}if(!this._isUTC&&e){a=Y2(this)}this._offset=t;this._isUTC=true;if(a!=null){this.add(a,"m")}if(i!==t){if(!e||this._changeInProgress){u5(this,a5(t-i,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;OJ.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?i:Y2(this)}}function X2(t,e){if(t!=null){if(typeof t!=="string"){t=-t}this.utcOffset(t,e);return this}else{return-this.utcOffset()}}function Z2(t){return this.utcOffset(0,t)}function j2(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=false;if(t){this.subtract(Y2(this),"m")}}return this}function q2(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var t=W2(o0,this._i);if(t!=null){this.utcOffset(t)}else{this.utcOffset(0,true)}}return this}function K2(t){if(!this.isValid()){return false}t=t?I2(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function $2(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function J2(){if(!BJ(this._isDSTShifted)){return this._isDSTShifted}var t={},e;JJ(t,this);t=b2(t);if(t._a){e=t._isUTC?YJ(t._a):I2(t._a);this._isDSTShifted=this.isValid()&&B2(t._a,e.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function Q2(){return this.isValid()?!this._isUTC:false}function t5(){return this.isValid()?this._isUTC:false}function e5(){return this.isValid()?this._isUTC&&this._offset===0:false}var r5=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,i5=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function a5(t,e){var r=t,i=null,a,n,o;if(z2(t)){r={ms:t._milliseconds,d:t._days,M:t._months}}else if(FJ(t)||!isNaN(+t)){r={};if(e){r[e]=+t}else{r.milliseconds=+t}}else if(i=r5.exec(t)){a=i[1]==="-"?-1:1;r={y:0,d:GQ(i[w0])*a,h:GQ(i[b0])*a,m:GQ(i[S0])*a,s:GQ(i[M0])*a,ms:GQ(V2(i[I0]*1e3))*a}}else if(i=i5.exec(t)){a=i[1]==="-"?-1:1;r={y:n5(i[2],a),M:n5(i[3],a),w:n5(i[4],a),d:n5(i[5],a),h:n5(i[6],a),m:n5(i[7],a),s:n5(i[8],a)}}else if(r==null){r={}}else if(typeof r==="object"&&("from"in r||"to"in r)){o=s5(I2(r.from),I2(r.to));r={};r.ms=o.milliseconds;r.M=o.months}n=new E2(r);if(z2(t)&&zJ(t,"_locale")){n._locale=t._locale}if(z2(t)&&zJ(t,"_isValid")){n._isValid=t._isValid}return n}a5.fn=E2.prototype;a5.invalid=R2;function n5(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function o5(t,e){var r={};r.months=e.month()-t.month()+(e.year()-t.year())*12;if(t.clone().add(r.months,"M").isAfter(e)){--r.months}r.milliseconds=+e-+t.clone().add(r.months,"M");return r}function s5(t,e){var r;if(!(t.isValid()&&e.isValid())){return{milliseconds:0,months:0}}e=H2(e,t);if(t.isBefore(e)){r=o5(t,e)}else{r=o5(e,t);r.milliseconds=-r.milliseconds;r.months=-r.months}return r}function l5(t,e){return function(r,i){var a,n;if(i!==null&&!isNaN(+i)){aQ(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");n=r;r=i;i=n}a=a5(r,i);u5(this,a,t);return this}}function u5(t,e,r,i){var a=e._milliseconds,n=V2(e._days),o=V2(e._months);if(!t.isValid()){return}i=i==null?true:i;if(o){F0(t,HQ(t,"Month")+o*r)}if(n){YQ(t,"Date",HQ(t,"Date")+n*r)}if(a){t._d.setTime(t._d.valueOf()+a*r)}if(i){OJ.updateOffset(t,n||o)}}var f5=l5(1,"add"),h5=l5(-1,"subtract");function c5(t){return typeof t==="string"||t instanceof String}function v5(t){return tQ(t)||GJ(t)||c5(t)||FJ(t)||p5(t)||d5(t)||t===null||t===undefined}function d5(t){var e=EJ(t)&&!VJ(t),r=false,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,n,o=i.length;for(a=0;a<o;a+=1){n=i[a];r=r||zJ(t,n)}return e&&r}function p5(t){var e=RJ(t),r=false;if(e){r=t.filter((function(e){return!FJ(e)&&c5(t)})).length===0}return e&&r}function g5(t){var e=EJ(t)&&!VJ(t),r=false,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,n;for(a=0;a<i.length;a+=1){n=i[a];r=r||zJ(t,n)}return e&&r}function y5(t,e){var r=t.diff(e,"days",true);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function m5(t,e){if(arguments.length===1){if(!arguments[0]){t=undefined;e=undefined}else if(v5(arguments[0])){t=arguments[0];e=undefined}else if(g5(arguments[0])){e=arguments[0];t=undefined}}var r=t||I2(),i=H2(r,this).startOf("day"),a=OJ.calendarFormat(this,i)||"sameElse",n=e&&(nQ(e[a])?e[a].call(this,r):e[a]);return this.format(n||this.localeData().calendar(a,this,I2(r)))}function _5(){return new QJ(this)}function x5(t,e){var r=tQ(t)?t:I2(t);if(!(this.isValid()&&r.isValid())){return false}e=NQ(e)||"millisecond";if(e==="millisecond"){return this.valueOf()>r.valueOf()}else{return r.valueOf()<this.clone().startOf(e).valueOf()}}function w5(t,e){var r=tQ(t)?t:I2(t);if(!(this.isValid()&&r.isValid())){return false}e=NQ(e)||"millisecond";if(e==="millisecond"){return this.valueOf()<r.valueOf()}else{return this.clone().endOf(e).valueOf()<r.valueOf()}}function b5(t,e,r,i){var a=tQ(t)?t:I2(t),n=tQ(e)?e:I2(e);if(!(this.isValid()&&a.isValid()&&n.isValid())){return false}i=i||"()";return(i[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(i[1]===")"?this.isBefore(n,r):!this.isAfter(n,r))}function S5(t,e){var r=tQ(t)?t:I2(t),i;if(!(this.isValid()&&r.isValid())){return false}e=NQ(e)||"millisecond";if(e==="millisecond"){return this.valueOf()===r.valueOf()}else{i=r.valueOf();return this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()}}function M5(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function I5(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function T5(t,e,r){var i,a,n;if(!this.isValid()){return NaN}i=H2(t,this);if(!i.isValid()){return NaN}a=(i.utcOffset()-this.utcOffset())*6e4;e=NQ(e);switch(e){case"year":n=D5(this,i)/12;break;case"month":n=D5(this,i);break;case"quarter":n=D5(this,i)/3;break;case"second":n=(this-i)/1e3;break;case"minute":n=(this-i)/6e4;break;case"hour":n=(this-i)/36e5;break;case"day":n=(this-i-a)/864e5;break;case"week":n=(this-i-a)/6048e5;break;default:n=this-i}return r?n:FQ(n)}function D5(t,e){if(t.date()<e.date()){return-D5(e,t)}var r=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(r,"months"),a,n;if(e-i<0){a=t.clone().add(r-1,"months");n=(e-i)/(i-a)}else{a=t.clone().add(r+1,"months");n=(e-i)/(a-i)}return-(r+n)||0}OJ.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";OJ.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function C5(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function A5(t){if(!this.isValid()){return null}var e=t!==true,r=e?this.clone().utc():this;if(r.year()<0||r.year()>9999){return xQ(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(nQ(Date.prototype.toISOString)){if(e){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xQ(r,"Z"))}}return xQ(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function k5(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var t="moment",e="",r,i,a,n;if(!this.isLocal()){t=this.utcOffset()===0?"moment.utc":"moment.parseZone";e="Z"}r="["+t+'("]';i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";a="-MM-DD[T]HH:mm:ss.SSS";n=e+'[")]';return this.format(r+i+a+n)}function L5(t){if(!t){t=this.isUtc()?OJ.defaultFormatUtc:OJ.defaultFormat}var e=xQ(this,t);return this.localeData().postformat(e)}function P5(t,e){if(this.isValid()&&(tQ(t)&&t.isValid()||I2(t).isValid())){return a5({to:this,from:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function O5(t){return this.from(I2(),t)}function N5(t,e){if(this.isValid()&&(tQ(t)&&t.isValid()||I2(t).isValid())){return a5({from:this,to:t}).locale(this.locale()).humanize(!e)}else{return this.localeData().invalidDate()}}function R5(t){return this.to(I2(),t)}function E5(t){var e;if(t===undefined){return this._locale._abbr}else{e=j1(t);if(e!=null){this._locale=e}return this}}var z5=rQ("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){if(t===undefined){return this.localeData()}else{return this.locale(t)}}));function V5(){return this._locale}var B5=1e3,F5=60*B5,G5=60*F5,W5=(365*400+97)*24*G5;function H5(t,e){return(t%e+e)%e}function Y5(t,e,r){if(t<100&&t>=0){return new Date(t+400,e,r)-W5}else{return new Date(t,e,r).valueOf()}}function U5(t,e,r){if(t<100&&t>=0){return Date.UTC(t+400,e,r)-W5}else{return Date.UTC(t,e,r)}}function X5(t){var e,r;t=NQ(t);if(t===undefined||t==="millisecond"||!this.isValid()){return this}r=this._isUTC?U5:Y5;switch(t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf();e-=H5(e+(this._isUTC?0:this.utcOffset()*F5),G5);break;case"minute":e=this._d.valueOf();e-=H5(e,F5);break;case"second":e=this._d.valueOf();e-=H5(e,B5);break}this._d.setTime(e);OJ.updateOffset(this,true);return this}function Z5(t){var e,r;t=NQ(t);if(t===undefined||t==="millisecond"||!this.isValid()){return this}r=this._isUTC?U5:Y5;switch(t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf();e+=G5-H5(e+(this._isUTC?0:this.utcOffset()*F5),G5)-1;break;case"minute":e=this._d.valueOf();e+=F5-H5(e,F5)-1;break;case"second":e=this._d.valueOf();e+=B5-H5(e,B5)-1;break}this._d.setTime(e);OJ.updateOffset(this,true);return this}function j5(){return this._d.valueOf()-(this._offset||0)*6e4}function q5(){return Math.floor(this.valueOf()/1e3)}function K5(){return new Date(this.valueOf())}function $5(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function J5(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Q5(){return this.isValid()?this.toISOString():null}function t3(){return jJ(this)}function e3(){return HJ({},XJ(this))}function r3(){return XJ(this).overflow}function i3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}yQ("N",0,0,"eraAbbr");yQ("NN",0,0,"eraAbbr");yQ("NNN",0,0,"eraAbbr");yQ("NNNN",0,0,"eraName");yQ("NNNNN",0,0,"eraNarrow");yQ("y",["y",1],"yo","eraYear");yQ("y",["yy",2],0,"eraYear");yQ("y",["yyy",3],0,"eraYear");yQ("y",["yyyy",4],0,"eraYear");h0("N",d3);h0("NN",d3);h0("NNN",d3);h0("NNNN",p3);h0("NNNNN",g3);g0(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,i){var a=r._locale.erasParse(t,i,r._strict);if(a){XJ(r).era=a}else{XJ(r).invalidEra=t}}));h0("y",a0);h0("yy",a0);h0("yyy",a0);h0("yyyy",a0);h0("yo",y3);g0(["y","yy","yyy","yyyy"],_0);g0(["yo"],(function(t,e,r,i){var a;if(r._locale._eraYearOrdinalRegex){a=t.match(r._locale._eraYearOrdinalRegex)}if(r._locale.eraYearOrdinalParse){e[_0]=r._locale.eraYearOrdinalParse(t,a)}else{e[_0]=parseInt(t,10)}}));function a3(t,e){var r,i,a,n=this._eras||j1("en")._eras;for(r=0,i=n.length;r<i;++r){switch(typeof n[r].since){case"string":a=OJ(n[r].since).startOf("day");n[r].since=a.valueOf();break}switch(typeof n[r].until){case"undefined":n[r].until=+Infinity;break;case"string":a=OJ(n[r].until).startOf("day").valueOf();n[r].until=a.valueOf();break}}return n}function n3(t,e,r){var i,a,n=this.eras(),o,s,l;t=t.toUpperCase();for(i=0,a=n.length;i<a;++i){o=n[i].name.toUpperCase();s=n[i].abbr.toUpperCase();l=n[i].narrow.toUpperCase();if(r){switch(e){case"N":case"NN":case"NNN":if(s===t){return n[i]}break;case"NNNN":if(o===t){return n[i]}break;case"NNNNN":if(l===t){return n[i]}break}}else if([o,s,l].indexOf(t)>=0){return n[i]}}}function o3(t,e){var r=t.since<=t.until?+1:-1;if(e===undefined){return OJ(t.since).year()}else{return OJ(t.since).year()+(e-t.offset)*r}}function s3(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){r=this.clone().startOf("day").valueOf();if(i[t].since<=r&&r<=i[t].until){return i[t].name}if(i[t].until<=r&&r<=i[t].since){return i[t].name}}return""}function l3(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){r=this.clone().startOf("day").valueOf();if(i[t].since<=r&&r<=i[t].until){return i[t].narrow}if(i[t].until<=r&&r<=i[t].since){return i[t].narrow}}return""}function u3(){var t,e,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){r=this.clone().startOf("day").valueOf();if(i[t].since<=r&&r<=i[t].until){return i[t].abbr}if(i[t].until<=r&&r<=i[t].since){return i[t].abbr}}return""}function f3(){var t,e,r,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t){r=a[t].since<=a[t].until?+1:-1;i=this.clone().startOf("day").valueOf();if(a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since){return(this.year()-OJ(a[t].since).year())*r+a[t].offset}}return this.year()}function h3(t){if(!zJ(this,"_erasNameRegex")){m3.call(this)}return t?this._erasNameRegex:this._erasRegex}function c3(t){if(!zJ(this,"_erasAbbrRegex")){m3.call(this)}return t?this._erasAbbrRegex:this._erasRegex}function v3(t){if(!zJ(this,"_erasNarrowRegex")){m3.call(this)}return t?this._erasNarrowRegex:this._erasRegex}function d3(t,e){return e.erasAbbrRegex(t)}function p3(t,e){return e.erasNameRegex(t)}function g3(t,e){return e.erasNarrowRegex(t)}function y3(t,e){return e._eraYearOrdinalRegex||a0}function m3(){var t=[],e=[],r=[],i=[],a,n,o=this.eras();for(a=0,n=o.length;a<n;++a){e.push(d0(o[a].name));t.push(d0(o[a].abbr));r.push(d0(o[a].narrow));i.push(d0(o[a].name));i.push(d0(o[a].abbr));i.push(d0(o[a].narrow))}this._erasRegex=new RegExp("^("+i.join("|")+")","i");this._erasNameRegex=new RegExp("^("+e.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}yQ(0,["gg",2],0,(function(){return this.weekYear()%100}));yQ(0,["GG",2],0,(function(){return this.isoWeekYear()%100}));function _3(t,e){yQ(0,[t,t.length],0,e)}_3("gggg","weekYear");_3("ggggg","weekYear");_3("GGGG","isoWeekYear");_3("GGGGG","isoWeekYear");OQ("weekYear","gg");OQ("isoWeekYear","GG");zQ("weekYear",1);zQ("isoWeekYear",1);h0("G",n0);h0("g",n0);h0("GG",JQ,jQ);h0("gg",JQ,jQ);h0("GGGG",r0,KQ);h0("gggg",r0,KQ);h0("GGGGG",i0,$Q);h0("ggggg",i0,$Q);y0(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,i){e[i.substr(0,2)]=GQ(t)}));y0(["gg","GG"],(function(t,e,r,i){e[i]=OJ.parseTwoDigitYear(t)}));function x3(t){return T3.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function w3(t){return T3.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function b3(){return t1(this.year(),1,4)}function S3(){return t1(this.isoWeekYear(),1,4)}function M3(){var t=this.localeData()._week;return t1(this.year(),t.dow,t.doy)}function I3(){var t=this.localeData()._week;return t1(this.weekYear(),t.dow,t.doy)}function T3(t,e,r,i,a){var n;if(t==null){return Q0(this,i,a).year}else{n=t1(t,i,a);if(e>n){e=n}return D3.call(this,t,e,r,i,a)}}function D3(t,e,r,i,a){var n=J0(t,e,r,i,a),o=K0(n.year,0,n.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}yQ("Q",0,"Qo","quarter");OQ("quarter","Q");zQ("quarter",7);h0("Q",ZQ);g0("Q",(function(t,e){e[x0]=(GQ(t)-1)*3}));function C3(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}yQ("D",["DD",2],"Do","date");OQ("date","D");zQ("date",9);h0("D",JQ);h0("DD",JQ,jQ);h0("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}));g0(["D","DD"],w0);g0("Do",(function(t,e){e[w0]=GQ(t.match(JQ)[0])}));var A3=WQ("Date",true);yQ("DDD",["DDDD",3],"DDDo","dayOfYear");OQ("dayOfYear","DDD");zQ("dayOfYear",4);h0("DDD",e0);h0("DDDD",qQ);g0(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=GQ(t)}));function k3(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}yQ("m",["mm",2],0,"minute");OQ("minute","m");zQ("minute",14);h0("m",JQ);h0("mm",JQ,jQ);g0(["m","mm"],S0);var L3=WQ("Minutes",false);yQ("s",["ss",2],0,"second");OQ("second","s");zQ("second",15);h0("s",JQ);h0("ss",JQ,jQ);g0(["s","ss"],M0);var P3=WQ("Seconds",false);yQ("S",0,0,(function(){return~~(this.millisecond()/100)}));yQ(0,["SS",2],0,(function(){return~~(this.millisecond()/10)}));yQ(0,["SSS",3],0,"millisecond");yQ(0,["SSSS",4],0,(function(){return this.millisecond()*10}));yQ(0,["SSSSS",5],0,(function(){return this.millisecond()*100}));yQ(0,["SSSSSS",6],0,(function(){return this.millisecond()*1e3}));yQ(0,["SSSSSSS",7],0,(function(){return this.millisecond()*1e4}));yQ(0,["SSSSSSSS",8],0,(function(){return this.millisecond()*1e5}));yQ(0,["SSSSSSSSS",9],0,(function(){return this.millisecond()*1e6}));OQ("millisecond","ms");zQ("millisecond",16);h0("S",e0,ZQ);h0("SS",e0,jQ);h0("SSS",e0,qQ);var O3,N3;for(O3="SSSS";O3.length<=9;O3+="S"){h0(O3,a0)}function R3(t,e){e[I0]=GQ(("0."+t)*1e3)}for(O3="S";O3.length<=9;O3+="S"){g0(O3,R3)}N3=WQ("Milliseconds",false);yQ("z",0,0,"zoneAbbr");yQ("zz",0,0,"zoneName");function E3(){return this._isUTC?"UTC":""}function z3(){return this._isUTC?"Coordinated Universal Time":""}var V3=QJ.prototype;V3.add=f5;V3.calendar=m5;V3.clone=_5;V3.diff=T5;V3.endOf=Z5;V3.format=L5;V3.from=P5;V3.fromNow=O5;V3.to=N5;V3.toNow=R5;V3.get=UQ;V3.invalidAt=r3;V3.isAfter=x5;V3.isBefore=w5;V3.isBetween=b5;V3.isSame=S5;V3.isSameOrAfter=M5;V3.isSameOrBefore=I5;V3.isValid=t3;V3.lang=z5;V3.locale=E5;V3.localeData=V5;V3.max=D2;V3.min=T2;V3.parsingFlags=e3;V3.set=XQ;V3.startOf=X5;V3.subtract=h5;V3.toArray=$5;V3.toObject=J5;V3.toDate=K5;V3.toISOString=A5;V3.inspect=k5;if(typeof Symbol!=="undefined"&&Symbol.for!=null){V3[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}}V3.toJSON=Q5;V3.toString=C5;V3.unix=q5;V3.valueOf=j5;V3.creationData=i3;V3.eraName=s3;V3.eraNarrow=l3;V3.eraAbbr=u3;V3.eraYear=f3;V3.year=Z0;V3.isLeapYear=j0;V3.weekYear=x3;V3.isoWeekYear=w3;V3.quarter=V3.quarters=C3;V3.month=G0;V3.daysInMonth=W0;V3.week=V3.weeks=n1;V3.isoWeek=V3.isoWeeks=o1;V3.weeksInYear=M3;V3.weeksInWeekYear=I3;V3.isoWeeksInYear=b3;V3.isoWeeksInISOWeekYear=S3;V3.date=A3;V3.day=V3.days=w1;V3.weekday=b1;V3.isoWeekday=S1;V3.dayOfYear=k3;V3.hour=V3.hours=N1;V3.minute=V3.minutes=L3;V3.second=V3.seconds=P3;V3.millisecond=V3.milliseconds=N3;V3.utcOffset=U2;V3.utc=Z2;V3.local=j2;V3.parseZone=q2;V3.hasAlignedHourOffset=K2;V3.isDST=$2;V3.isLocal=Q2;V3.isUtcOffset=t5;V3.isUtc=e5;V3.isUTC=e5;V3.zoneAbbr=E3;V3.zoneName=z3;V3.dates=rQ("dates accessor is deprecated. Use date instead.",A3);V3.months=rQ("months accessor is deprecated. Use month instead",G0);V3.years=rQ("years accessor is deprecated. Use year instead",Z0);V3.zone=rQ("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",X2);V3.isDSTShifted=rQ("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",J2);function B3(t){return I2(t*1e3)}function F3(){return I2.apply(null,arguments).parseZone()}function G3(t){return t}var W3=lQ.prototype;W3.calendar=hQ;W3.longDateFormat=SQ;W3.invalidDate=IQ;W3.ordinal=CQ;W3.preparse=G3;W3.postformat=G3;W3.relativeTime=kQ;W3.pastFuture=LQ;W3.set=oQ;W3.eras=a3;W3.erasParse=n3;W3.erasConvertYear=o3;W3.erasAbbrRegex=c3;W3.erasNameRegex=h3;W3.erasNarrowRegex=v3;W3.months=E0;W3.monthsShort=z0;W3.monthsParse=B0;W3.monthsRegex=Y0;W3.monthsShortRegex=H0;W3.week=e1;W3.firstDayOfYear=a1;W3.firstDayOfWeek=i1;W3.weekdays=g1;W3.weekdaysMin=m1;W3.weekdaysShort=y1;W3.weekdaysParse=x1;W3.weekdaysRegex=M1;W3.weekdaysShortRegex=I1;W3.weekdaysMinRegex=T1;W3.isPM=P1;W3.meridiem=R1;function H3(t,e,r,i){var a=j1(),n=YJ().set(i,e);return a[r](n,t)}function Y3(t,e,r){if(FJ(t)){e=t;t=undefined}t=t||"";if(e!=null){return H3(t,e,r,"month")}var i,a=[];for(i=0;i<12;i++){a[i]=H3(t,i,r,"month")}return a}function U3(t,e,r,i){if(typeof t==="boolean"){if(FJ(e)){r=e;e=undefined}e=e||""}else{e=t;r=e;t=false;if(FJ(e)){r=e;e=undefined}e=e||""}var a=j1(),n=t?a._week.dow:0,o,s=[];if(r!=null){return H3(e,(r+n)%7,i,"day")}for(o=0;o<7;o++){s[o]=H3(e,(o+n)%7,i,"day")}return s}function X3(t,e){return Y3(t,e,"months")}function Z3(t,e){return Y3(t,e,"monthsShort")}function j3(t,e,r){return U3(t,e,r,"weekdays")}function q3(t,e,r){return U3(t,e,r,"weekdaysShort")}function K3(t,e,r){return U3(t,e,r,"weekdaysMin")}U1("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=GQ(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});OJ.lang=rQ("moment.lang is deprecated. Use moment.locale instead.",U1);OJ.langData=rQ("moment.langData is deprecated. Use moment.localeData instead.",j1);var $3=Math.abs;function J3(){var t=this._data;this._milliseconds=$3(this._milliseconds);this._days=$3(this._days);this._months=$3(this._months);t.milliseconds=$3(t.milliseconds);t.seconds=$3(t.seconds);t.minutes=$3(t.minutes);t.hours=$3(t.hours);t.months=$3(t.months);t.years=$3(t.years);return this}function Q3(t,e,r,i){var a=a5(e,r);t._milliseconds+=i*a._milliseconds;t._days+=i*a._days;t._months+=i*a._months;return t._bubble()}function t4(t,e){return Q3(this,t,e,1)}function e4(t,e){return Q3(this,t,e,-1)}function r4(t){if(t<0){return Math.floor(t)}else{return Math.ceil(t)}}function i4(){var t=this._milliseconds,e=this._days,r=this._months,i=this._data,a,n,o,s,l;if(!(t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0)){t+=r4(n4(r)+e)*864e5;e=0;r=0}i.milliseconds=t%1e3;a=FQ(t/1e3);i.seconds=a%60;n=FQ(a/60);i.minutes=n%60;o=FQ(n/60);i.hours=o%24;e+=FQ(o/24);l=FQ(a4(e));r+=l;e-=r4(n4(l));s=FQ(r/12);r%=12;i.days=e;i.months=r;i.years=s;return this}function a4(t){return t*4800/146097}function n4(t){return t*146097/4800}function o4(t){if(!this.isValid()){return NaN}var e,r,i=this._milliseconds;t=NQ(t);if(t==="month"||t==="quarter"||t==="year"){e=this._days+i/864e5;r=this._months+a4(e);switch(t){case"month":return r;case"quarter":return r/3;case"year":return r/12}}else{e=this._days+Math.round(n4(this._months));switch(t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}}function s4(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+GQ(this._months/12)*31536e6}function l4(t){return function(){return this.as(t)}}var u4=l4("ms"),f4=l4("s"),h4=l4("m"),c4=l4("h"),v4=l4("d"),d4=l4("w"),p4=l4("M"),g4=l4("Q"),y4=l4("y");function m4(){return a5(this)}function _4(t){t=NQ(t);return this.isValid()?this[t+"s"]():NaN}function x4(t){return function(){return this.isValid()?this._data[t]:NaN}}var w4=x4("milliseconds"),b4=x4("seconds"),S4=x4("minutes"),M4=x4("hours"),I4=x4("days"),T4=x4("months"),D4=x4("years");function C4(){return FQ(this.days()/7)}var A4=Math.round,k4={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function L4(t,e,r,i,a){return a.relativeTime(e||1,!!r,t,i)}function P4(t,e,r,i){var a=a5(t).abs(),n=A4(a.as("s")),o=A4(a.as("m")),s=A4(a.as("h")),l=A4(a.as("d")),u=A4(a.as("M")),f=A4(a.as("w")),h=A4(a.as("y")),c=n<=r.ss&&["s",n]||n<r.s&&["ss",n]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];if(r.w!=null){c=c||f<=1&&["w"]||f<r.w&&["ww",f]}c=c||u<=1&&["M"]||u<r.M&&["MM",u]||h<=1&&["y"]||["yy",h];c[2]=e;c[3]=+t>0;c[4]=i;return L4.apply(null,c)}function O4(t){if(t===undefined){return A4}if(typeof t==="function"){A4=t;return true}return false}function N4(t,e){if(k4[t]===undefined){return false}if(e===undefined){return k4[t]}k4[t]=e;if(t==="s"){k4.ss=e-1}return true}function R4(t,e){if(!this.isValid()){return this.localeData().invalidDate()}var r=false,i=k4,a,n;if(typeof t==="object"){e=t;t=false}if(typeof t==="boolean"){r=t}if(typeof e==="object"){i=Object.assign({},k4,e);if(e.s!=null&&e.ss==null){i.ss=e.s-1}}a=this.localeData();n=P4(this,!r,i,a);if(r){n=a.pastFuture(+this,n)}return a.postformat(n)}var E4=Math.abs;function z4(t){return(t>0)-(t<0)||+t}function V4(){if(!this.isValid()){return this.localeData().invalidDate()}var t=E4(this._milliseconds)/1e3,e=E4(this._days),r=E4(this._months),i,a,n,o,s=this.asSeconds(),l,u,f,h;if(!s){return"P0D"}i=FQ(t/60);a=FQ(i/60);t%=60;i%=60;n=FQ(r/12);r%=12;o=t?t.toFixed(3).replace(/\.?0+$/,""):"";l=s<0?"-":"";u=z4(this._months)!==z4(s)?"-":"";f=z4(this._days)!==z4(s)?"-":"";h=z4(this._milliseconds)!==z4(s)?"-":"";return l+"P"+(n?u+n+"Y":"")+(r?u+r+"M":"")+(e?f+e+"D":"")+(a||i||t?"T":"")+(a?h+a+"H":"")+(i?h+i+"M":"")+(t?h+o+"S":"")}var B4=E2.prototype;B4.isValid=N2;B4.abs=J3;B4.add=t4;B4.subtract=e4;B4.as=o4;B4.asMilliseconds=u4;B4.asSeconds=f4;B4.asMinutes=h4;B4.asHours=c4;B4.asDays=v4;B4.asWeeks=d4;B4.asMonths=p4;B4.asQuarters=g4;B4.asYears=y4;B4.valueOf=s4;B4._bubble=i4;B4.clone=m4;B4.get=_4;B4.milliseconds=w4;B4.seconds=b4;B4.minutes=S4;B4.hours=M4;B4.days=I4;B4.weeks=C4;B4.months=T4;B4.years=D4;B4.humanize=R4;B4.toISOString=V4;B4.toString=V4;B4.toJSON=V4;B4.locale=E5;B4.localeData=V5;B4.toIsoString=rQ("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",V4);B4.lang=z5;yQ("X",0,0,"unix");yQ("x",0,0,"valueOf");h0("x",n0);h0("X",l0);g0("X",(function(t,e,r){r._d=new Date(parseFloat(t)*1e3)}));g0("x",(function(t,e,r){r._d=new Date(GQ(t))}));OJ.version="2.29.4";NJ(I2);OJ.fn=V3;OJ.min=A2;OJ.max=k2;OJ.now=L2;OJ.utc=YJ;OJ.unix=B3;OJ.months=X3;OJ.isDate=GJ;OJ.locale=U1;OJ.invalid=qJ;OJ.duration=a5;OJ.isMoment=tQ;OJ.weekdays=j3;OJ.parseZone=F3;OJ.localeData=j1;OJ.isDuration=z2;OJ.monthsShort=Z3;OJ.weekdaysMin=K3;OJ.defineLocale=X1;OJ.updateLocale=Z1;OJ.locales=q1;OJ.weekdaysShort=q3;OJ.normalizeUnits=NQ;OJ.relativeTimeRounding=O4;OJ.relativeTimeThreshold=N4;OJ.calendarFormat=y5;OJ.prototype=V3;OJ.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var F4=t("text_adapter",function(){function t(t){r(this,t);this.dataSource=[];this.timerStr="";this.currentNumber=0;this.timerId=0}t.prototype.watchComDataConfigHandler=function(t,e){if(JSON.stringify(t)!==JSON.stringify(e)){this.initComponentOption()}};t.prototype.componentWillLoad=function(){this.initComponentOption()};t.prototype.initComponentOption=function(){var t=this;if(this.comData.comName=="text-timer"){this.timerStr=OJ().format(this.comData.data.config.timerOption.format||"");this.timerId=setInterval((function(){t.timerStr=OJ().format(t.comData.data.config.timerOption.format||"")}),this.comData.data.config.timerOption.interval||1e3)}};t.prototype.render=function(){var t=this.comData.data.config;switch(this.comData.comName){case"text-common":return i("div",{class:"text-box"},i("span",{style:{"line-height":t.commonTextStyle&&t.commonTextStyle.fontSize&&Math.floor(1.5*t.commonTextStyle.fontSize)+"px"||"","font-weight":t.commonTextStyle&&t.commonTextStyle.fontWeight||"","text-align":t.commonTextStyle&&t.commonTextStyle.textAlign||"","font-size":t.commonTextStyle&&t.commonTextStyle.fontSize+"px"||""+"px",color:t.commonTextStyle&&t.commonTextStyle.color||""}},t.fontContent||""));case"text-timer":return i("div",{class:"text-box",style:{"line-height":t.commonTextStyle&&t.commonTextStyle.fontSize&&Math.floor(1.5*t.commonTextStyle.fontSize)+"px"||"","font-weight":t.commonTextStyle&&t.commonTextStyle.fontWeight||"","text-align":t.commonTextStyle&&t.commonTextStyle.textAlign||"","font-size":t.commonTextStyle&&t.commonTextStyle.fontSize+"px"||""+"px",color:t.commonTextStyle&&t.commonTextStyle.color||""}},this.comData.data.config.iconStyle.show?i("ion-icon",{style:{color:this.comData.data.config.iconStyle.color,"font-size":(this.comData.data.config.iconStyle.fontSize||"20")+"px","margin-right":(this.comData.data.config.iconStyle.margin||"0")+"px"},name:"time"}):null,this.timerStr||"")}};Object.defineProperty(t,"watchers",{get:function(){return{comDataConfig:["watchComDataConfigHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"text-adapter .text-box{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}"},enumerable:true,configurable:true});return t}())}}}));