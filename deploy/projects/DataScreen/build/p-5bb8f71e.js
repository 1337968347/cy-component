import{w as a}from"./p-900143dd.js";import{L as i,a as s,b as t,c as n}from"./p-5e1589de.js";const o=i=>new Promise((s,t)=>{a(()=>{e(i),r(i).then(a=>{a.animation&&a.animation.destroy(),c(i),s(a)},a=>{c(i),t(a)})})}),e=a=>{const i=a.enteringEl,s=a.leavingEl;g(i,s,a.direction),a.showGoBack?i.classList.add("can-go-back"):i.classList.remove("can-go-back"),h(i,!1),s&&h(s,!1)},r=async a=>{const i=await p(a);return i?d(i,a):m(a)},c=a=>{const i=a.leavingEl;a.enteringEl.classList.remove("ion-page-invisible"),void 0!==i&&i.classList.remove("ion-page-invisible")},p=async a=>{if(a.leavingEl&&a.animated&&0!==a.duration)return a.animationBuilder?a.animationBuilder:"ios"===a.mode?(await(()=>__sc_import_app("./p-5532d2ba.js"))()).iosTransitionAnimation:(await(()=>__sc_import_app("./p-90b38247.js"))()).mdTransitionAnimation},d=async(a,i)=>{let s;await w(i,!0);try{const t=await __sc_import_app("./p-559f1738.js");s=await t.create(a,i.baseEl,i)}catch(n){s=a(i.baseEl,i)}u(i.enteringEl,i.leavingEl);const t=await l(s,i);return i.progressCallback&&i.progressCallback(void 0),t&&_(i.enteringEl,i.leavingEl),{hasCompleted:t,animation:s}},m=async a=>{const i=a.enteringEl,s=a.leavingEl;return await w(a,!1),u(i,s),_(i,s),{hasCompleted:!0}},w=async(a,i)=>{const s=(void 0!==a.deepWait?a.deepWait:i)?[f(a.enteringEl),f(a.leavingEl)]:[v(a.enteringEl),v(a.leavingEl)];await Promise.all(s),await b(a.viewIsReady,a.enteringEl)},b=async(a,i)=>{a&&await a(i)},l=(a,i)=>{const s=i.progressCallback,t=new Promise(i=>{a.onFinish(s=>{"number"==typeof s?i(1===s):void 0!==a.hasCompleted&&i(a.hasCompleted)})});return s?(a.progressStart(!0),s(a)):a.play(),t},u=(a,t)=>{y(t,i),y(a,s)},_=(a,i)=>{y(a,t),y(i,n)},y=(a,i)=>{if(a){const s=new CustomEvent(i,{bubbles:!1,cancelable:!1});a.dispatchEvent(s)}},v=a=>a&&a.componentOnReady?a.componentOnReady():Promise.resolve(),f=async a=>{const i=a;if(i){if(null!=i.componentOnReady&&null!=await i.componentOnReady())return;await Promise.all(Array.from(i.children).map(f))}},h=(a,i)=>{i?(a.setAttribute("aria-hidden","true"),a.classList.add("ion-page-hidden")):(a.hidden=!1,a.removeAttribute("aria-hidden"),a.classList.remove("ion-page-hidden"))},g=(a,i,s)=>{void 0!==a&&(a.style.zIndex="back"===s?"99":"101"),void 0!==i&&(i.style.zIndex="100")};export{f as d,y as l,h as s,o as t};